"use strict";(self.webpackChunkgrain_voucher_system=self.webpackChunkgrain_voucher_system||[]).push([[8949],{12110:(n,e,t)=>{t.d(e,{A:()=>v});var s=t(58168),r=t(98587),i=t(65043),o=t(58387),a=t(65049),d=t(34535),c=t(98206),l=t(63336),u=t(14987),x=t(60239);function h(n){return(0,x.Ay)("MuiCard",n)}(0,u.A)("MuiCard",["root"]);var A=t(70579);const m=["className","raised"],j=(0,d.Ay)(l.A,{name:"MuiCard",slot:"Root",overridesResolver:(n,e)=>e.root})((()=>({overflow:"hidden"}))),v=i.forwardRef((function(n,e){const t=(0,c.b)({props:n,name:"MuiCard"}),{className:i,raised:d=!1}=t,l=(0,r.A)(t,m),u=(0,s.A)({},t,{raised:d}),x=(n=>{const{classes:e}=n;return(0,a.A)({root:["root"]},h,e)})(u);return(0,A.jsx)(j,(0,s.A)({className:(0,o.A)(x.root,i),elevation:d?8:void 0,ref:e,ownerState:u},l))}))},13194:(n,e,t)=>{t.d(e,{A:()=>i});var s=t(65043),r=t(95926);const i=n=>{const{title:e,setTitle:t}=(0,s.useContext)(r.C);return(0,s.useEffect)((()=>t(n)),[n,t]),e}},15909:(n,e,t)=>{t.d(e,{W:()=>r});var s=t(56629);const r={getPayments:async n=>s.A.get("accounting/payments/",{params:n}).then((n=>n.data)),getPaymentDetails:async n=>s.A.get("accounting/payments/".concat(n,"/")).then((n=>n.data)),createPayment:async n=>s.A.post("accounting/payments/",n).then((n=>n.data)),updatePayment:async(n,e)=>s.A.patch("accounting/payments/".concat(e,"/"),n).then((n=>n.data)),deletePayment:async n=>s.A.delete("accounting/payments/".concat(n,"/")).then((n=>n.data)),reconcilePayment:async n=>s.A.post("accounting/payments/".concat(n,"/reconcile/")).then((n=>n.data))}},23722:(n,e,t)=>{t.d(e,{A:()=>a});var s=t(89379),r=(t(65043),t(67024)),i=t(81637),o=t(70579);const a=n=>{let{size:e,color:t="primary",sx:a}=n;return(0,o.jsx)(r.A,{sx:(0,s.A)({color:"grey.500"},a),spacing:2,direction:"row",children:(0,o.jsx)(i.A,{size:e,color:t})})}},26494:(n,e,t)=>{t.d(e,{A:()=>j});var s=t(58168),r=t(98587),i=t(65043),o=t(58387),a=t(65049),d=t(34535),c=t(98206),l=t(14987),u=t(60239);function x(n){return(0,u.Ay)("MuiCardContent",n)}(0,l.A)("MuiCardContent",["root"]);var h=t(70579);const A=["className","component"],m=(0,d.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(n,e)=>e.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),j=i.forwardRef((function(n,e){const t=(0,c.b)({props:n,name:"MuiCardContent"}),{className:i,component:d="div"}=t,l=(0,r.A)(t,A),u=(0,s.A)({},t,{component:d}),j=(n=>{const{classes:e}=n;return(0,a.A)({root:["root"]},x,e)})(u);return(0,h.jsx)(m,(0,s.A)({as:d,className:(0,o.A)(j.root,i),ownerState:u,ref:e},l))}))},46055:(n,e,t)=>{t.d(e,{pU:()=>s});const s=n=>{if(!n)return"N/A";const e=new Date(n);if(isNaN(e.getTime()))return"Invalid Date";const t=e.getDate().toString().padStart(2,"0"),s=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getFullYear();return"".concat(t,"/").concat(s,"/").concat(r)}},68949:(n,e,t)=>{t.r(e),t.d(e,{default:()=>g});var s=t(65043),r=t(96446),i=t(85865),o=t(8302),a=t(68903),d=t(12110),c=t(26494),l=t(39336),u=t(43845),x=t(73216),h=t(23768),A=t(13194),m=t(15909),j=t(46055),v=t(23722),y=t(70579);const g=()=>{var n,e,t,g,p,f,b,_,C,N;(0,A.A)("Payment Details");const{id:R}=(0,x.g)(),P=(0,x.Zp)(),[S,D]=(0,s.useState)(null),[B,k]=(0,s.useState)(!0);(0,s.useEffect)((()=>{R&&w(R)}),[R]);const w=async n=>{try{k(!0);const e=await m.W.getPaymentDetails(n);D(e)}catch(e){h.oR.error("Failed to fetch payment details"),console.error(e)}finally{k(!1)}},U=()=>P("/admin/accounting/payments");if(B)return(0,y.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,y.jsx)(v.A,{size:40})});if(!S)return(0,y.jsxs)(r.A,{sx:{p:4},children:[(0,y.jsx)(i.A,{variant:"h6",color:"error",children:"Payment not found"}),(0,y.jsx)(o.A,{variant:"contained",onClick:U,sx:{mt:2},children:"Back to Payments"})]});const M=S.invoice_details,I=S.account;return(0,y.jsxs)(r.A,{sx:{p:4,maxWidth:1e3,mx:"auto"},children:[(0,y.jsx)(o.A,{variant:"outlined",onClick:U,sx:{mb:3},children:"Back to Payments"}),(0,y.jsxs)(i.A,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:["Payment #",S.payment_number]}),(0,y.jsxs)(a.Ay,{container:!0,spacing:3,children:[(0,y.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,y.jsx)(d.A,{variant:"outlined",sx:{borderRadius:2},children:(0,y.jsxs)(c.A,{children:[(0,y.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Payment Summary"}),(0,y.jsx)(l.A,{sx:{mb:2}}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Amount:"})," UGX ",S.amount.toLocaleString()]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Date:"})," ",(0,j.pU)(S.payment_date)]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Method:"})," ",S.payment_method_display]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Reference:"})," ",S.reference_number||"N/A"]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Transaction ID:"})," ",S.transaction_id||"N/A"]}),(0,y.jsxs)(i.A,{sx:{mt:1},children:[(0,y.jsx)("strong",{children:"Status:"})," ",(0,y.jsx)(u.A,{label:S.status_display,color:"completed"===S.status?"success":"warning",size:"small"})]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Reconciled:"})," ",S.reconciled?"Yes":"No"]}),S.reconciled&&(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Reconciled Date:"})," ",(0,j.pU)(S.reconciled_date)]})]})})}),(0,y.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,y.jsx)(d.A,{variant:"outlined",sx:{borderRadius:2},children:(0,y.jsxs)(c.A,{children:[(0,y.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Linked Invoice"}),(0,y.jsx)(l.A,{sx:{mb:2}}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Invoice #:"})," ",null===M||void 0===M?void 0:M.invoice_number]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Status:"})," ",null===M||void 0===M?void 0:M.status_display]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Amount Due:"})," UGX ",null===M||void 0===M?void 0:M.amount_due.toLocaleString()]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Total Amount:"})," UGX ",null===M||void 0===M?void 0:M.total_amount.toLocaleString()]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Issue Date:"})," ",(0,j.pU)(null===M||void 0===M?void 0:M.issue_date)]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Due Date:"})," ",(0,j.pU)(null===M||void 0===M?void 0:M.due_date)]}),(0,y.jsxs)(i.A,{sx:{mt:1},children:[(0,y.jsx)("strong",{children:"Beneficiary:"})," ",null===M||void 0===M?void 0:M.beneficiary_name," (",null===M||void 0===M?void 0:M.beneficiary_bank,")"]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Account:"})," ",null===M||void 0===M?void 0:M.beneficiary_account,", ",null===M||void 0===M?void 0:M.beneficiary_branch]})]})})}),(0,y.jsx)(a.Ay,{item:!0,xs:12,md:12,children:(0,y.jsx)(d.A,{variant:"outlined",sx:{borderRadius:2},children:(0,y.jsxs)(c.A,{children:[(0,y.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Account Information"}),(0,y.jsx)(l.A,{sx:{mb:2}}),(0,y.jsxs)(a.Ay,{container:!0,spacing:2,children:[(0,y.jsxs)(a.Ay,{item:!0,xs:12,md:6,children:[(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Account Name:"})," ",null===I||void 0===I?void 0:I.name]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Type:"})," ",null===I||void 0===I?void 0:I.type]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Credit Terms:"})," ",null===I||void 0===I?void 0:I.credit_terms_days," days"]})]}),(0,y.jsxs)(a.Ay,{item:!0,xs:12,md:6,children:[(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Hub:"})," ",null===I||void 0===I||null===(n=I.hub)||void 0===n?void 0:n.name]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Location:"})," ",null===I||void 0===I||null===(e=I.hub)||void 0===e?void 0:e.location]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Hub Admin:"})," ",null===I||void 0===I||null===(t=I.hub)||void 0===t||null===(g=t.hub_admin)||void 0===g?void 0:g.first_name," ",null===I||void 0===I||null===(p=I.hub)||void 0===p||null===(f=p.hub_admin)||void 0===f?void 0:f.last_name]})]})]})]})})}),(0,y.jsx)(a.Ay,{item:!0,xs:12,children:(0,y.jsx)(d.A,{variant:"outlined",sx:{borderRadius:2},children:(0,y.jsxs)(c.A,{children:[(0,y.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Notes"}),(0,y.jsx)(l.A,{sx:{mb:2}}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Public Notes:"})," ",S.notes||"N/A"]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Internal Notes:"})," ",S.internal_notes||"N/A"]})]})})}),(0,y.jsx)(a.Ay,{item:!0,xs:12,children:(0,y.jsx)(d.A,{variant:"outlined",sx:{borderRadius:2,backgroundColor:"#fafafa"},children:(0,y.jsxs)(c.A,{children:[(0,y.jsx)(i.A,{variant:"h6",gutterBottom:!0,children:"Audit Trail"}),(0,y.jsx)(l.A,{sx:{mb:2}}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Created By:"})," ",null===(b=S.created_by)||void 0===b?void 0:b.first_name," ",null===(_=S.created_by)||void 0===_?void 0:_.last_name]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Created At:"})," ",(0,j.pU)(S.created_at)]}),S.reconciled&&(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Reconciled By:"})," ",null===(C=S.reconciled_by)||void 0===C?void 0:C.first_name," ",null===(N=S.reconciled_by)||void 0===N?void 0:N.last_name]}),(0,y.jsxs)(i.A,{children:[(0,y.jsx)("strong",{children:"Last Updated:"})," ",(0,j.pU)(S.updated_at)]})]})})})]})]})}}}]);
//# sourceMappingURL=8949.61911c74.chunk.js.map