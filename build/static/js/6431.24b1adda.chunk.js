"use strict";(self.webpackChunkinvest=self.webpackChunkinvest||[]).push([[6431],{9038:(e,t,a)=>{a.d(t,{A:()=>g});var r=a(65043),n=a(8302),s=a(96446),o=a(63516),i=a(74523),l=a(23722),c=a(42438),d=a(80644),u=a(23768),h=a(25933),m=a(75992),x=a(45396),p=a(37938),v=a(29761),A=a(70579);const g=e=>{let{handleClose:t,callBack:a}=e;const g=(0,r.useRef)(null),[f,j]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!0),[C,w]=(0,r.useState)([]),[S,_]=(0,r.useState)((0,x.fH)()),I=(0,o.Wx)({initialValues:(0,h.f6)(S),validationSchema:v.ly,validateOnChange:!1,validateOnMount:!1,validateOnBlur:!1,enableReinitialize:!0,onSubmit:e=>W(e)});(0,r.useEffect)(()=>{k()},[]);const k=async()=>{b(!0);try{const e=await p.s.getInvestorAccounts({page:1,page_size:100});if(!e||!e.results)throw new Error("Invalid response from server");const t=e.results.map(e=>({label:"".concat(e.investor.first_name," ").concat(e.investor.last_name," (Phone: ").concat(e.investor.phone_number,")"),value:e.id}));w(t),_((0,x.fH)(t)),b(!1)}catch(e){console.error("Error fetching investor accounts:",e),u.oR.error("Failed to load investor accounts"),b(!1),t()}},W=async e=>{if(e.investor_account_id){j(!0);try{await p.s.createInvestorWithdrawal(e),u.oR.success("Withdrawal request created successfully"),I.resetForm(),a&&a(),t()}catch(n){var r;null!==(r=n.response)&&void 0!==r&&r.data&&I.setErrors(n.response.data),u.oR.error(n.message||"An error occurred")}finally{j(!1)}}else u.oR.error("Please select an investor account")},R=()=>{I.resetForm(),t()},z=()=>{I.handleSubmit()};return(0,A.jsx)(i.A,{title:"New Withdrawal Request",onClose:R,id:(0,m.A)(),ActionButtons:()=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(n.A,{onClick:R,disabled:f||y,children:"Close"}),(0,A.jsx)(n.A,{onClick:z,type:"button",variant:"contained",disabled:f||y,children:f?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(l.A,{color:"inherit",size:20})," ",(0,A.jsx)(c.L9,{style:{marginLeft:"0.5rem"},color:"primary",children:"Loading..."})]}):"Request Withdrawal"})]}),children:y?(0,A.jsx)(s.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:(0,A.jsx)(l.A,{size:40})}):(0,A.jsx)("form",{ref:g,onSubmit:e=>{e.preventDefault(),W(I.values)},children:(0,A.jsx)(s.A,{sx:{width:"100%"},children:(0,A.jsx)(d.A,{others:{sx:{marginBottom:"0rem"}},formikInstance:I,formFields:S,validationSchema:v.ly})})})})}},12110:(e,t,a)=>{a.d(t,{A:()=>A});var r=a(58168),n=a(98587),s=a(65043),o=a(58387),i=a(65049),l=a(34535),c=a(98206),d=a(63336),u=a(14987),h=a(60239);function m(e){return(0,h.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var x=a(70579);const p=["className","raised"],v=(0,l.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),A=s.forwardRef(function(e,t){const a=(0,c.b)({props:e,name:"MuiCard"}),{className:s,raised:l=!1}=a,d=(0,n.A)(a,p),u=(0,r.A)({},a,{raised:l}),h=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},m,t)})(u);return(0,x.jsx)(v,(0,r.A)({className:(0,o.A)(h.root,s),elevation:l?8:void 0,ref:t,ownerState:u},d))})},13194:(e,t,a)=>{a.d(t,{A:()=>s});var r=a(65043),n=a(95926);const s=e=>{const{title:t,setTitle:a}=(0,r.useContext)(n.C);return(0,r.useEffect)(()=>a(e),[e,a]),t}},15238:(e,t,a)=>{a.d(t,{D:()=>n});var r=a(56629);const n={getUsers:async e=>r.A.get("auth/users/",{params:e}).then(e=>e.data),getAvailableFarmers:async e=>r.A.get("vouchers/deposits/available_farmers",{params:e}).then(e=>e.data),createUser:async e=>r.A.post("auth/users/",e).then(e=>e.data),getUserDetails:async e=>r.A.get("auth/users/".concat(e,"/")).then(e=>e.data),updateUser:async(e,t)=>r.A.patch("auth/users/".concat(t,"/"),e).then(e=>e.data),deactivateUser:async e=>r.A.delete("auth/users/".concat(e,"/")).then(e=>e.data)}},19778:(e,t,a)=>{var r=a(24994);t.A=void 0;var n=r(a(40039)),s=a(70579);t.A=(0,n.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},23722:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(89379),n=(a(65043),a(67024)),s=a(81637),o=a(70579);const i=e=>{let{size:t,color:a="primary",sx:i}=e;return(0,o.jsx)(n.A,{sx:(0,r.A)({color:"grey.500"},i),spacing:2,direction:"row",children:(0,o.jsx)(s.A,{size:t,color:a})})}},23817:(e,t,a)=>{a.d(t,{A:()=>d});var r=a(65043),n=a(17392),s=a(688),o=a(32143),i=a(42438),l=a(98082),c=a(70579);const d=e=>{let{actions:t,metaData:a,btnColor:d}=e;const[u,h]=(0,r.useState)(null),m=()=>{h(null)},x=t.filter(e=>!e.condition||e.condition(a));return 0===x.length?null:(0,c.jsxs)("div",{children:[(0,c.jsx)(n.A,{size:"small",onClick:e=>{h(e.currentTarget)},children:(0,c.jsx)(l.A,{fontSize:"small"})}),(0,c.jsx)(s.A,{anchorEl:u,open:Boolean(u),onClose:m,children:x.map((e,t)=>(0,c.jsxs)(o.A,{onClick:()=>(e=>{e.onClick(a),m()})(e),children:[e.icon,(0,c.jsx)(i.L9,{sx:{marginLeft:"0.5rem"},children:e.label})]},t))})]})}},26494:(e,t,a)=>{a.d(t,{A:()=>v});var r=a(58168),n=a(98587),s=a(65043),o=a(58387),i=a(65049),l=a(34535),c=a(98206),d=a(14987),u=a(60239);function h(e){return(0,u.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var m=a(70579);const x=["className","component"],p=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),v=s.forwardRef(function(e,t){const a=(0,c.b)({props:e,name:"MuiCardContent"}),{className:s,component:l="div"}=a,d=(0,n.A)(a,x),u=(0,r.A)({},a,{component:l}),v=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},h,t)})(u);return(0,m.jsx)(p,(0,r.A)({as:l,className:(0,o.A)(v.root,s),ownerState:u,ref:t},d))})},29761:(e,t,a)=>{a.d(t,{IY:()=>s,_n:()=>i,ly:()=>o,nG:()=>n});var r=a(73033);const n=r.Ik().shape({investor_id:r.Yj().required("Investor is required")}),s=r.Ik().shape({investor_account_id:r.Yj().required("Investor account is required"),amount:r.ai().positive("Amount must be positive").required("Amount is required"),notes:r.Yj()}),o=r.Ik().shape({investor_account_id:r.Yj().required("Investor account is required"),amount:r.ai().positive("Amount must be positive").required("Amount is required"),notes:r.Yj()}),i=r.Ik().shape({investor_account_id:r.Yj().required("Investor account is required"),profit_threshold:r.ai().min(0,"Profit threshold must be at least 0").max(100,"Profit threshold cannot exceed 100%").required("Profit threshold is required"),investor_share:r.ai().min(0,"Investor share must be at least 0").max(100,"Investor share cannot exceed 100%").required("Investor share is required"),bennu_share:r.ai().min(0,"BENNU share must be at least 0").max(100,"BENNU share cannot exceed 100%").required("BENNU share is required"),notes:r.Yj()}).test("shares-sum","Investor and BENNU shares must sum to 100%",function(e){const{investor_share:t,bennu_share:a}=e;return"number"!==typeof t||"number"!==typeof a||t+a===100})},37938:(e,t,a)=>{a.d(t,{s:()=>n});var r=a(56629);const n={getInvestorAccounts:async e=>r.A.get("investors/accounts/",{params:e}).then(e=>e.data),createInvestorAccount:async e=>r.A.post("investors/accounts/",e).then(e=>e.data),getInvestorAccountDetails:async e=>r.A.get("investors/accounts/".concat(e,"/")).then(e=>e.data),updateInvestorAccount:async(e,t)=>r.A.patch("investors/accounts/".concat(t,"/"),e).then(e=>e.data),deleteInvestorAccount:async e=>r.A.delete("investors/accounts/".concat(e,"/")).then(e=>e.data),getInvestorDashboard:async()=>r.A.get("investors/accounts/dashboard/").then(e=>e.data),getInvestorDeposits:async e=>r.A.get("investors/deposits/",{params:e}).then(e=>e.data),createInvestorDeposit:async e=>r.A.post("investors/deposits/",e).then(e=>e.data),getInvestorDepositDetails:async e=>r.A.get("investors/deposits/".concat(e,"/")).then(e=>e.data),deleteInvestorDeposit:async e=>r.A.delete("investors/deposits/".concat(e,"/")).then(e=>e.data),getInvestorWithdrawals:async e=>r.A.get("investors/withdrawals/",{params:e}).then(e=>e.data),createInvestorWithdrawal:async e=>r.A.post("investors/withdrawals/",e).then(e=>e.data),getInvestorWithdrawalDetails:async e=>r.A.get("investors/withdrawals/".concat(e,"/")).then(e=>e.data),approveWithdrawal:async e=>r.A.post("investors/withdrawals/".concat(e,"/approve/")).then(e=>e.data),rejectWithdrawal:async(e,t)=>r.A.post("investors/withdrawals/".concat(e,"/reject/"),{notes:t}).then(e=>e.data),getProfitAgreements:async e=>r.A.get("investors/profit-agreements/",{params:e}).then(e=>e.data),createProfitAgreement:async e=>r.A.post("investors/profit-agreements/",e).then(e=>e.data),getProfitAgreementDetails:async e=>r.A.get("investors/profit-agreements/".concat(e,"/")).then(e=>e.data),updateProfitAgreement:async(e,t)=>r.A.patch("investors/profit-agreements/".concat(t,"/"),e).then(e=>e.data),deleteProfitAgreement:async e=>r.A.delete("investors/profit-agreements/".concat(e,"/")).then(e=>e.data)}},45396:(e,t,a)=>{a.d(t,{G5:()=>o,Gx:()=>n,Zd:()=>r,fH:()=>s});const r=function(){return[{name:"investor_id",initailValue:"",label:"Investor",type:"select",uiType:"select",options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],uiBreakpoints:{xs:12,sm:12,md:12,lg:12,xl:12},required:!0}]},n=function(){return[{name:"investor_account_id",initailValue:"",label:"Investor Account",type:"select",uiType:"select",uiBreakpoints:{xs:12,sm:12,md:12,lg:12,xl:12},required:!0,options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]},{name:"amount",initailValue:"",label:"Deposit Amount (UGX)",type:"number",uiType:"number",uiBreakpoints:{xs:12,sm:12,md:12,lg:12,xl:12},required:!0},{name:"notes",initailValue:"",label:"Notes",type:"text",uiType:"textarea",uiBreakpoints:{xs:12,sm:12,md:12,lg:12,xl:12},rows:3}]},s=function(){return[{name:"investor_account_id",initailValue:"",label:"Investor Account",type:"select",uiType:"select",uiBreakpoints:{xs:12,sm:12,md:12,lg:12,xl:12},required:!0,options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]},{name:"amount",initailValue:"",label:"Withdrawal Amount (UGX)",type:"number",uiType:"number",uiBreakpoints:{xs:12,sm:12,md:12,lg:12,xl:12},required:!0},{name:"notes",initailValue:"",label:"Notes",type:"text",uiType:"textarea",uiBreakpoints:{xs:12,sm:12,md:12,lg:12,xl:12},rows:3}]},o=function(){return[{name:"investor_account_id",initailValue:"",label:"Investor Account",type:"select",uiType:"select",uiBreakpoints:{xs:12,sm:12,md:12,lg:12,xl:12},required:!0,options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]},{name:"profit_threshold",initailValue:"2.00",label:"Profit Threshold (%)",type:"number",uiType:"number",uiBreakpoints:{xs:12,sm:12,md:6,lg:6,xl:6},required:!0},{name:"investor_share",initailValue:"75.00",label:"Investor Share (%)",type:"number",uiType:"number",uiBreakpoints:{xs:12,sm:12,md:6,lg:6,xl:6},required:!0},{name:"bennu_share",initailValue:"25.00",label:"BENNU Share (%)",type:"number",uiType:"number",uiBreakpoints:{xs:12,sm:12,md:6,lg:6,xl:6},required:!0},{name:"notes",initailValue:"",label:"Notes",type:"text",uiType:"textarea",uiBreakpoints:{xs:12,sm:12,md:12,lg:12,xl:12},rows:3}]}},46055:(e,t,a)=>{a.d(t,{pU:()=>r});const r=e=>{if(!e)return"N/A";const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const a=t.getDate().toString().padStart(2,"0"),r=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getFullYear();return"".concat(a,"/").concat(r,"/").concat(n)}},46431:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ee});var r=a(89379),n=a(80045),s=a(96446),o=a(8302),i=a(14912),l=a(24056),c=a(65043),d=a(23768),u=a(63471),h=a(95540),m=a(47260),x=a(19778),p=a(85502),v=a(13194),A=a(8433),g=a(37938),f=a(64093),j=a(61408),y=a(85865),b=a(43845),C=a(46055),w=a(23817),S=a(42438),_=a(70579);const I={cursor:"pointer","&:hover":{textDecoration:"underline",fontWeight:"bold"}},k=e=>{let{name:t,onView:a,account:r}=e;return(0,_.jsx)(y.A,{sx:I,color:"primary",variant:"h6",onClick:()=>a(r),children:t})},W=(e,t)=>[{Header:"Investor Name",accessor:"investor.first_name",minWidth:200,Cell:e=>{let{row:a}=e;const{investor:r,id:n}=a.original;return(0,_.jsx)(k,{id:n,name:"".concat(r.first_name," ").concat(r.last_name),onView:t,account:a.original})}},{Header:"Phone Number",accessor:"investor.phone_number",minWidth:150},{Header:"Total Deposited",accessor:"total_deposited",minWidth:150,Cell:e=>{let{row:t}=e;return(0,_.jsxs)(S.L9,{children:["UGX ",parseFloat(t.original.total_deposited).toLocaleString()]})}},{Header:"Available Balance",accessor:"available_balance",minWidth:150,Cell:e=>{let{row:t}=e;return(0,_.jsxs)(S.L9,{children:["UGX ",parseFloat(t.original.available_balance).toLocaleString()]})}},{Header:"Total Utilized",accessor:"total_utilized",minWidth:150,Cell:e=>{let{row:t}=e;return(0,_.jsxs)(S.L9,{children:["UGX ",parseFloat(t.original.total_utilized).toLocaleString()]})}},{Header:"Margin Earned",accessor:"total_margin_earned",minWidth:150,Cell:e=>{let{row:t}=e;return(0,_.jsxs)(S.L9,{children:["UGX ",parseFloat(t.original.total_margin_earned).toLocaleString()]})}},{Header:"Total Value",accessor:"total_value",minWidth:150,Cell:e=>{let{row:t}=e;return(0,_.jsxs)(S.L9,{children:["UGX ",parseFloat(t.original.total_value).toLocaleString()]})}},{Header:"Created Date",accessor:"created_at",minWidth:150,Cell:e=>{let{row:t}=e;return(0,_.jsx)(S.L9,{children:(0,C.pU)(t.original.created_at)})}},{Header:"Action",accessor:"action",minWidth:100,maxWidth:100,Cell:t=>{let{row:a}=t;const r=a.original;return(0,_.jsx)(w.A,{actions:e,metaData:r},a.id)}}],R=e=>[{Header:"Investor Name",accessor:"investor.first_name",minWidth:200,Cell:e=>{let{row:t}=e;const{investor:a}=t.original;return(0,_.jsx)(S.L9,{children:"".concat(a.first_name," ").concat(a.last_name)})}},{Header:"Amount",accessor:"amount",minWidth:150,Cell:e=>{let{row:t}=e;return(0,_.jsxs)(S.L9,{children:["UGX ",parseFloat(t.original.amount).toLocaleString()]})}},{Header:"Status",accessor:"status",minWidth:120,Cell:e=>{let{row:t}=e;const a=t.original.status,r="approved"===a?"success":"rejected"===a?"error":"warning";return(0,_.jsx)(b.A,{label:a.toUpperCase(),color:r,size:"small"})}},{Header:"Withdrawal Date",accessor:"withdrawal_date",minWidth:150,Cell:e=>{let{row:t}=e;return(0,_.jsx)(S.L9,{children:(0,C.pU)(t.original.withdrawal_date)})}},{Header:"Approved By",accessor:"approved_by",minWidth:150,Cell:e=>{let{row:t}=e;const{approved_by:a}=t.original;return(0,_.jsx)(S.L9,{children:a?"".concat(a.first_name," ").concat(a.last_name):"N/A"})}},{Header:"Action",accessor:"action",minWidth:100,maxWidth:100,Cell:t=>{let{row:a}=t;const r=a.original,n="pending"===r.status?e:[];return(0,_.jsx)(w.A,{actions:n,metaData:r},a.id)}}],z=e=>[{Header:"Investor Name",accessor:"investor.first_name",minWidth:200,Cell:e=>{let{row:t}=e;const{investor:a}=t.original;return(0,_.jsx)(S.L9,{children:"".concat(a.first_name," ").concat(a.last_name)})}},{Header:"Profit Threshold",accessor:"profit_threshold",minWidth:120,Cell:e=>{let{row:t}=e;return(0,_.jsxs)(S.L9,{children:[t.original.profit_threshold,"%"]})}},{Header:"Investor Share",accessor:"investor_share",minWidth:120,Cell:e=>{let{row:t}=e;return(0,_.jsxs)(S.L9,{color:"success.main",children:[t.original.investor_share,"%"]})}},{Header:"BENNU Share",accessor:"bennu_share",minWidth:120,Cell:e=>{let{row:t}=e;return(0,_.jsxs)(S.L9,{color:"info.main",children:[t.original.bennu_share,"%"]})}},{Header:"Effective Date",accessor:"effective_date",minWidth:150,Cell:e=>{let{row:t}=e;return(0,_.jsx)(S.L9,{children:(0,C.pU)(t.original.effective_date)})}},{Header:"Notes",accessor:"notes",minWidth:200},{Header:"Action",accessor:"action",minWidth:100,maxWidth:100,Cell:t=>{let{row:a}=t;const r=a.original;return(0,_.jsx)(w.A,{actions:e,metaData:r},a.id)}}];var P=a(36644),B=a(63516),D=a(74523),M=a(23722),L=a(80644),F=a(25933),N=a(75992),U=a(45396),E=a(15238),H=a(29761);const T=e=>{let{handleClose:t,formType:a="Save",initialValues:r,callBack:n}=e;const i=(0,c.useRef)(null),[l,u]=(0,c.useState)(!1),[h,m]=(0,c.useState)(!0),[x,p]=(0,c.useState)([]),[v,A]=(0,c.useState)((0,U.Zd)()),f=(0,B.Wx)({initialValues:(0,F.f6)(v),validationSchema:H.nG,validateOnChange:!1,validateOnMount:!1,validateOnBlur:!1,enableReinitialize:!0,onSubmit:e=>y(e)});(0,c.useEffect)(()=>{j()},[]),(0,c.useEffect)(()=>{var e;"Update"===a&&r&&f.setValues({investor_id:(null===(e=r.investor)||void 0===e?void 0:e.id)||""})},[r,a]);const j=async()=>{m(!0);try{const e=await E.D.getUsers({role:"investor"});if(!e||!e.results)throw new Error("Invalid response from server");const t=e.results.map(e=>({label:"".concat(e.first_name," ").concat(e.last_name," (").concat(e.phone_number,")"),value:e.id}));p(t),A((0,U.Zd)(t)),m(!1)}catch(e){console.error("Error fetching investors:",e),d.oR.error("Failed to load investors"),m(!1),t()}},y=async e=>{if(e.investor_id){u(!0);try{"Update"===a&&null!==r&&void 0!==r&&r.id?(await g.s.updateInvestorAccount(e,r.id),d.oR.success("Investor account updated successfully")):(await g.s.createInvestorAccount(e),d.oR.success("Investor account created successfully")),f.resetForm(),n&&n(),t()}catch(o){var s;console.error("Error saving account:",o),null!==(s=o.response)&&void 0!==s&&s.data&&f.setErrors(o.response.data),d.oR.error(o.message||"An error occurred")}finally{u(!1)}}else d.oR.error("Please select an investor")},b=()=>{f.resetForm(),t()},C=()=>{f.handleSubmit()};return(0,_.jsx)(D.A,{title:"Save"===a?"New Investor Account":"Edit Investor Account",onClose:b,id:(0,N.A)(),ActionButtons:()=>(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(o.A,{onClick:b,disabled:l||h,children:"Close"}),(0,_.jsx)(o.A,{onClick:C,type:"button",variant:"contained",disabled:l||h,children:l?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(M.A,{color:"inherit",size:20})," ",(0,_.jsx)(S.L9,{style:{marginLeft:"0.5rem"},color:"primary",children:"Loading..."})]}):"Update"===a?"Update Account":"Create Account"})]}),children:h?(0,_.jsx)(s.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:(0,_.jsx)(M.A,{size:40})}):(0,_.jsx)("form",{ref:i,onSubmit:e=>{e.preventDefault(),y(f.values)},children:(0,_.jsx)(s.A,{sx:{width:"100%"},children:(0,_.jsx)(L.A,{others:{sx:{marginBottom:"0rem"}},formikInstance:f,formFields:v,validationSchema:H.nG})})})})},q=e=>{let{handleClose:t,callBack:a}=e;const r=(0,c.useRef)(null),[n,i]=(0,c.useState)(!1),[l,u]=(0,c.useState)(!0),[h,m]=(0,c.useState)([]),[x,p]=(0,c.useState)((0,U.Gx)()),v=(0,B.Wx)({initialValues:(0,F.f6)(x),validationSchema:H.IY,validateOnChange:!1,validateOnMount:!1,validateOnBlur:!1,enableReinitialize:!0,onSubmit:e=>f(e)});(0,c.useEffect)(()=>{A()},[]);const A=async()=>{u(!0);try{const e=await g.s.getInvestorAccounts({page:1,page_size:100});if(!e||!e.results)throw new Error("Invalid response from server");const t=e.results.map(e=>({label:"".concat(e.investor.first_name," ").concat(e.investor.last_name," (Phone: ").concat(e.investor.phone_number,")"),value:e.id}));m(t),p((0,U.Gx)(t)),u(!1)}catch(e){console.error("Error fetching investor accounts:",e),d.oR.error("Failed to load investor accounts"),u(!1),t()}},f=async e=>{if(e.investor_account_id){i(!0);try{await g.s.createInvestorDeposit(e),d.oR.success("Deposit created successfully"),v.resetForm(),a&&a(),t()}catch(n){var r;null!==(r=n.response)&&void 0!==r&&r.data&&v.setErrors(n.response.data),d.oR.error(n.message||"An error occurred")}finally{i(!1)}}else d.oR.error("Please select an investor account")},j=()=>{v.resetForm(),t()},y=()=>{v.handleSubmit()};return(0,_.jsx)(D.A,{title:"New Deposit",onClose:j,id:(0,N.A)(),ActionButtons:()=>(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(o.A,{onClick:j,disabled:n||l,children:"Close"}),(0,_.jsx)(o.A,{onClick:y,type:"button",variant:"contained",disabled:n||l,children:n?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(M.A,{color:"inherit",size:20})," ",(0,_.jsx)(S.L9,{style:{marginLeft:"0.5rem"},color:"primary",children:"Loading..."})]}):"Create Deposit"})]}),children:l?(0,_.jsx)(s.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:(0,_.jsx)(M.A,{size:40})}):(0,_.jsx)("form",{ref:r,onSubmit:e=>{e.preventDefault(),f(v.values)},children:(0,_.jsx)(s.A,{sx:{width:"100%"},children:(0,_.jsx)(L.A,{others:{sx:{marginBottom:"0rem"}},formikInstance:v,formFields:x,validationSchema:H.IY})})})})};var V=a(9038);const G=e=>{let{handleClose:t,formType:a="Save",initialValues:r,callBack:n}=e;const i=(0,c.useRef)(null),[l,u]=(0,c.useState)(!1),[h,m]=(0,c.useState)(!0),[x,p]=(0,c.useState)([]),[v,A]=(0,c.useState)((0,U.G5)()),f=(0,B.Wx)({initialValues:(0,F.f6)(v),validationSchema:H._n,validateOnChange:!1,validateOnMount:!1,validateOnBlur:!1,enableReinitialize:!0,onSubmit:e=>y(e)});(0,c.useEffect)(()=>{j()},[]),(0,c.useEffect)(()=>{"Update"===a&&r&&f.setValues((0,F.RA)(v)(r||{}))},[r,a,x]);const j=async()=>{m(!0);try{const e=await g.s.getInvestorAccounts({page:1,page_size:100});if(!e||!e.results)throw new Error("Invalid response from server");const t=e.results.map(e=>({label:"".concat(e.investor.first_name," ").concat(e.investor.last_name," (Phone: ").concat(e.investor.phone_number,")"),value:e.id}));p(t),A((0,U.G5)(t)),m(!1)}catch(e){console.error("Error fetching investor accounts:",e),d.oR.error("Failed to load investor accounts"),m(!1),t()}},y=async e=>{if(e.investor_account_id){u(!0);try{"Update"===a&&null!==r&&void 0!==r&&r.id?(await g.s.updateProfitAgreement(e,r.id),d.oR.success("Profit agreement updated successfully")):(await g.s.createProfitAgreement(e),d.oR.success("Profit agreement created successfully")),f.resetForm(),n&&n(),t()}catch(l){var s,o,i;null!==(s=l.response)&&void 0!==s&&s.data&&f.setErrors(l.response.data),d.oR.error((null===(o=l.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.detail)||l.message||"An error occurred")}finally{u(!1)}}else d.oR.error("Please select an investor account")},b=()=>{f.resetForm(),t()},C=()=>{f.handleSubmit()};return(0,_.jsx)(D.A,{title:"Save"===a?"New Profit Agreement":"Edit Profit Agreement",onClose:b,id:(0,N.A)(),ActionButtons:()=>(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(o.A,{onClick:b,disabled:l||h,children:"Close"}),(0,_.jsx)(o.A,{onClick:C,type:"button",variant:"contained",disabled:l||h,children:l?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(M.A,{color:"inherit",size:20})," ",(0,_.jsx)(S.L9,{style:{marginLeft:"0.5rem"},color:"primary",children:"Loading..."})]}):"Update"===a?"Update Agreement":"Create Agreement"})]}),children:h?(0,_.jsx)(s.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:(0,_.jsx)(M.A,{size:40})}):(0,_.jsx)("form",{ref:i,onSubmit:e=>{e.preventDefault(),y(f.values)},children:(0,_.jsx)(s.A,{sx:{width:"100%"},children:(0,_.jsx)(L.A,{others:{sx:{marginBottom:"0rem"}},formikInstance:f,formFields:v,validationSchema:H._n})})})})};var Y=a(12110),O=a(26494),X=a(39336),Z=a(68903);const J=e=>{let{account:t,handleClose:a}=e;const r=e=>"UGX ".concat(parseFloat(e.toString()).toLocaleString()),n=()=>(0,_.jsx)(o.A,{onClick:a,variant:"contained",children:"Close"});return t&&t.investor?(0,_.jsx)(D.A,{title:"Investor Account Details",onClose:a,id:(0,N.A)(),ActionButtons:n,maxWidth:"md",children:(0,_.jsxs)(s.A,{sx:{width:"100%",p:2},children:[(0,_.jsx)(Y.A,{sx:{mb:3},children:(0,_.jsxs)(O.A,{children:[(0,_.jsx)(y.A,{variant:"h6",gutterBottom:!0,color:"primary",children:"Investor Information"}),(0,_.jsx)(X.A,{sx:{mb:2}}),(0,_.jsxs)(Z.Ay,{container:!0,spacing:2,children:[(0,_.jsxs)(Z.Ay,{item:!0,xs:12,md:6,children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"Name"}),(0,_.jsxs)(y.A,{variant:"body1",sx:{fontWeight:"bold"},children:[t.investor.first_name," ",t.investor.last_name]})]}),(0,_.jsxs)(Z.Ay,{item:!0,xs:12,md:6,children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"Phone Number"}),(0,_.jsx)(y.A,{variant:"body1",sx:{fontWeight:"bold"},children:t.investor.phone_number||"N/A"})]}),(0,_.jsxs)(Z.Ay,{item:!0,xs:12,md:6,children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"Email"}),(0,_.jsx)(y.A,{variant:"body1",sx:{fontWeight:"bold"},children:t.investor.email||"N/A"})]}),(0,_.jsxs)(Z.Ay,{item:!0,xs:12,md:6,children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"Account Created"}),(0,_.jsx)(y.A,{variant:"body1",sx:{fontWeight:"bold"},children:(0,C.pU)(t.created_at)})]})]})]})}),(0,_.jsx)(Y.A,{sx:{mb:3},children:(0,_.jsxs)(O.A,{children:[(0,_.jsx)(y.A,{variant:"h6",gutterBottom:!0,color:"primary",children:"Financial Summary"}),(0,_.jsx)(X.A,{sx:{mb:2}}),(0,_.jsxs)(Z.Ay,{container:!0,spacing:2,children:[(0,_.jsx)(Z.Ay,{item:!0,xs:12,md:6,children:(0,_.jsxs)(s.A,{sx:{p:2,bgcolor:"#e3f2fd",borderRadius:1},children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"Total Deposited"}),(0,_.jsx)(y.A,{variant:"h6",color:"primary",children:r(t.total_deposited||0)})]})}),(0,_.jsx)(Z.Ay,{item:!0,xs:12,md:6,children:(0,_.jsxs)(s.A,{sx:{p:2,bgcolor:"#e8f5e9",borderRadius:1},children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"Available Balance"}),(0,_.jsx)(y.A,{variant:"h6",color:"success.main",children:r(t.available_balance||0)})]})}),(0,_.jsx)(Z.Ay,{item:!0,xs:12,md:6,children:(0,_.jsxs)(s.A,{sx:{p:2,bgcolor:"#fff3e0",borderRadius:1},children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"Total Utilized"}),(0,_.jsx)(y.A,{variant:"h6",color:"warning.main",children:r(t.total_utilized||0)})]})}),(0,_.jsx)(Z.Ay,{item:!0,xs:12,md:6,children:(0,_.jsxs)(s.A,{sx:{p:2,bgcolor:"#f3e5f5",borderRadius:1},children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"Total Margin Earned"}),(0,_.jsx)(y.A,{variant:"h6",color:"secondary.main",children:r(t.total_margin_earned||0)})]})}),(0,_.jsx)(Z.Ay,{item:!0,xs:12,md:6,children:(0,_.jsxs)(s.A,{sx:{p:2,bgcolor:"#fce4ec",borderRadius:1},children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"Total Margin Paid"}),(0,_.jsx)(y.A,{variant:"h6",children:r(t.total_margin_paid||0)})]})}),(0,_.jsx)(Z.Ay,{item:!0,xs:12,md:6,children:(0,_.jsxs)(s.A,{sx:{p:2,bgcolor:"#e0f2f1",borderRadius:1},children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"Utilization Rate"}),(0,_.jsxs)(y.A,{variant:"h6",children:[t.total_deposited?(parseFloat(t.total_utilized||"0")/parseFloat(t.total_deposited)*100).toFixed(2):"0.00","%"]})]})})]})]})}),t.profit_agreement&&(0,_.jsx)(Y.A,{children:(0,_.jsxs)(O.A,{children:[(0,_.jsx)(y.A,{variant:"h6",gutterBottom:!0,color:"primary",children:"Profit Sharing Agreement"}),(0,_.jsx)(X.A,{sx:{mb:2}}),(0,_.jsxs)(Z.Ay,{container:!0,spacing:2,children:[(0,_.jsxs)(Z.Ay,{item:!0,xs:12,md:4,children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"Profit Threshold"}),(0,_.jsxs)(y.A,{variant:"body1",sx:{fontWeight:"bold"},children:[t.profit_agreement.profit_threshold||0,"%"]})]}),(0,_.jsxs)(Z.Ay,{item:!0,xs:12,md:4,children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"Investor Share"}),(0,_.jsxs)(y.A,{variant:"body1",sx:{fontWeight:"bold",color:"success.main"},children:[t.profit_agreement.investor_share||0,"%"]})]}),(0,_.jsxs)(Z.Ay,{item:!0,xs:12,md:4,children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"BENNU Share"}),(0,_.jsxs)(y.A,{variant:"body1",sx:{fontWeight:"bold",color:"info.main"},children:[t.profit_agreement.bennu_share||0,"%"]})]}),(0,_.jsxs)(Z.Ay,{item:!0,xs:12,children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"Effective Date"}),(0,_.jsx)(y.A,{variant:"body1",sx:{fontWeight:"bold"},children:(0,C.pU)(t.profit_agreement.effective_date||new Date)})]}),t.profit_agreement.notes&&(0,_.jsxs)(Z.Ay,{item:!0,xs:12,children:[(0,_.jsx)(y.A,{variant:"body2",color:"textSecondary",children:"Notes"}),(0,_.jsx)(y.A,{variant:"body1",children:t.profit_agreement.notes})]})]})]})})]})}):(0,_.jsx)(D.A,{title:"Error",onClose:a,id:(0,N.A)(),ActionButtons:n,maxWidth:"md",children:(0,_.jsx)(s.A,{sx:{p:2},children:(0,_.jsx)(y.A,{variant:"h6",color:"error",children:"Investor data is not available."})})})},K=["children","value","index"];function Q(e){const{children:t,value:a,index:o}=e,i=(0,n.A)(e,K);return(0,_.jsx)("div",(0,r.A)((0,r.A)({role:"tabpanel",hidden:a!==o,id:"investor-tabpanel-".concat(o),"aria-labelledby":"investor-tab-".concat(o)},i),{},{children:a===o&&(0,_.jsx)(s.A,{sx:{py:3},children:t})}))}const $={tablePreHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,marginBottom:2}},ee=()=>{(0,v.A)("Investors Management");const{showModal:e,setShowModal:t}=(0,A.k3)(),[a,n]=(0,c.useState)(0),[y,b]=(0,c.useState)(""),[I,k]=(0,c.useState)({page:1,page_size:P.hk}),[B,D]=(0,c.useState)(!1),[M,L]=(0,c.useState)(),[F,N]=(0,c.useState)(),[U,E]=(0,c.useState)(),[H,Y]=(0,c.useState)(),[O,X]=(0,c.useState)(null),[Z,K]=(0,c.useState)(null),[ee,te]=(0,c.useState)("Save"),[ae,re]=(0,c.useState)(null);(0,c.useEffect)(()=>{ne()},[a,I]);const ne=async()=>{D(!0);try{switch(a){case 0:const e=await g.s.getInvestorAccounts(I);L(e);break;case 1:const t=await g.s.getInvestorDeposits(I);N(t);break;case 2:const a=await g.s.getInvestorWithdrawals(I);E(a);break;case 3:const r=await g.s.getProfitAgreements(I);Y(r)}D(!1)}catch(r){var e,t;D(!1),console.error("Error fetching data:",r),d.oR.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to load data")}},se=e=>{const t=e.target.value;b(t)},oe=()=>{t(!1),re(null),X(null),K(null)},ie=()=>{te("Save"),X(null),re("account"),t(!0)},le=e=>{X(e),re("details"),t(!0)},ce=()=>{re("deposit"),t(!0)},de=()=>{re("withdrawal"),t(!0)},ue=()=>{te("Save"),K(null),re("profit_agreement"),t(!0)},he=[{label:"View",icon:(0,_.jsx)(m.A,{}),onClick:le},{label:"Edit",icon:(0,_.jsx)(h.A,{}),onClick:e=>{X(e),te("Update"),re("account"),t(!0)}},{label:"Delete",icon:(0,_.jsx)(u.A,{}),onClick:async e=>{if(window.confirm("Are you sure you want to delete the account for ".concat(e.investor.first_name," ").concat(e.investor.last_name,"?")))try{await g.s.deleteInvestorAccount(e.id),d.oR.success("Account deleted successfully"),ne()}catch(r){var t,a;d.oR.error((null===(t=r.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to delete account")}}}],me=[{label:"Delete",icon:(0,_.jsx)(u.A,{}),onClick:async e=>{if(window.confirm("Are you sure you want to delete this deposit of ".concat(e.amount," UGX?")))try{await g.s.deleteInvestorDeposit(e.id),d.oR.success("Deposit deleted successfully"),ne()}catch(r){var t,a;d.oR.error((null===(t=r.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to delete deposit")}}}],xe=[{label:"Approve",icon:(0,_.jsx)(x.A,{}),onClick:async e=>{if(window.confirm("Are you sure you want to approve withdrawal of ".concat(e.amount," UGX for ").concat(e.investor.first_name," ").concat(e.investor.last_name,"?")))try{await g.s.approveWithdrawal(e.id),d.oR.success("Withdrawal approved successfully"),ne()}catch(s){var t,a,r,n;d.oR.error((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||(null===(r=s.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to approve withdrawal")}}},{label:"Reject",icon:(0,_.jsx)(p.A,{}),onClick:async e=>{const t=window.prompt("Enter rejection reason:","Insufficient funds or invalid request");if(null!==t)try{await g.s.rejectWithdrawal(e.id,t),d.oR.success("Withdrawal rejected successfully"),ne()}catch(n){var a,r;d.oR.error((null===(a=n.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.detail)||"Failed to reject withdrawal")}}}],pe=[{label:"Edit",icon:(0,_.jsx)(h.A,{}),onClick:e=>{K(e),te("Update"),re("profit_agreement"),t(!0)}},{label:"Delete",icon:(0,_.jsx)(u.A,{}),onClick:async e=>{if(window.confirm("Are you sure you want to delete this profit sharing agreement?"))try{await g.s.deleteProfitAgreement(e.id),d.oR.success("Profit agreement deleted successfully"),ne()}catch(r){var t,a;d.oR.error((null===(t=r.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to delete profit agreement")}}}],ve=()=>{switch(a){case 0:return(0,_.jsx)(o.A,{variant:"contained",onClick:ie,children:"Create Account"});case 1:return(0,_.jsx)(o.A,{variant:"contained",onClick:ce,children:"Create Deposit"});case 2:return(0,_.jsx)(o.A,{variant:"contained",onClick:de,children:"Request Withdrawal"});case 3:return(0,_.jsx)(o.A,{variant:"contained",onClick:ue,children:"Create Profit Agreement"});default:return null}};return(0,_.jsxs)(s.A,{sx:{p:3},children:[(0,_.jsx)(s.A,{sx:{mb:3},children:(0,_.jsx)(s.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,_.jsxs)(i.A,{value:a,onChange:(e,t)=>{n(t),k({page:1,page_size:P.hk}),b("")},"aria-label":"investor tabs",children:[(0,_.jsx)(l.A,{label:"Accounts"}),(0,_.jsx)(l.A,{label:"Deposits"}),(0,_.jsx)(l.A,{label:"Withdrawals"}),(0,_.jsx)(l.A,{label:"Profit Agreements"})]})})}),(0,_.jsxs)(Q,{value:a,index:0,children:[(0,_.jsxs)(s.A,{sx:$.tablePreHeader,children:[(0,_.jsx)(f.A,{value:y,onChange:se,type:"text",placeholder:"Search accounts by name, phone..."}),ve()]}),(0,_.jsx)(j.A,{columnShape:W(he,le),data:(null===M||void 0===M?void 0:M.results)||[],dataCount:(null===M||void 0===M?void 0:M.count)||0,pageInitialState:{pageSize:P.hk,pageIndex:0},setPageIndex:e=>k((0,r.A)((0,r.A)({},I),{},{page:e})),pageIndex:(null===I||void 0===I?void 0:I.page)||1,setPageSize:e=>k((0,r.A)((0,r.A)({},I),{},{page_size:e})),loading:B})]}),(0,_.jsxs)(Q,{value:a,index:1,children:[(0,_.jsxs)(s.A,{sx:$.tablePreHeader,children:[(0,_.jsx)(f.A,{value:y,onChange:se,type:"text",placeholder:"Search deposits..."}),ve()]}),(0,_.jsx)(j.A,{columnShape:(Ae=me,[{Header:"Investor Name",accessor:"investor.first_name",minWidth:200,Cell:e=>{let{row:t}=e;const{investor:a}=t.original;return(0,_.jsx)(S.L9,{children:"".concat(a.first_name," ").concat(a.last_name)})}},{Header:"Amount",accessor:"amount",minWidth:150,Cell:e=>{let{row:t}=e;return(0,_.jsxs)(S.L9,{children:["UGX ",parseFloat(t.original.amount).toLocaleString()]})}},{Header:"Deposit Date",accessor:"deposit_date",minWidth:150,Cell:e=>{let{row:t}=e;return(0,_.jsx)(S.L9,{children:(0,C.pU)(t.original.deposit_date)})}},{Header:"Notes",accessor:"notes",minWidth:200},{Header:"Action",accessor:"action",minWidth:100,maxWidth:100,Cell:e=>{let{row:t}=e;const a=t.original;return(0,_.jsx)(w.A,{actions:Ae,metaData:a},t.id)}}]),data:(null===F||void 0===F?void 0:F.results)||[],dataCount:(null===F||void 0===F?void 0:F.count)||0,pageInitialState:{pageSize:P.hk,pageIndex:0},setPageIndex:e=>k((0,r.A)((0,r.A)({},I),{},{page:e})),pageIndex:(null===I||void 0===I?void 0:I.page)||1,setPageSize:e=>k((0,r.A)((0,r.A)({},I),{},{page_size:e})),loading:B})]}),(0,_.jsxs)(Q,{value:a,index:2,children:[(0,_.jsxs)(s.A,{sx:$.tablePreHeader,children:[(0,_.jsx)(f.A,{value:y,onChange:se,type:"text",placeholder:"Search withdrawals..."}),ve()]}),(0,_.jsx)(j.A,{columnShape:R(xe),data:(null===U||void 0===U?void 0:U.results)||[],dataCount:(null===U||void 0===U?void 0:U.count)||0,pageInitialState:{pageSize:P.hk,pageIndex:0},setPageIndex:e=>k((0,r.A)((0,r.A)({},I),{},{page:e})),pageIndex:(null===I||void 0===I?void 0:I.page)||1,setPageSize:e=>k((0,r.A)((0,r.A)({},I),{},{page_size:e})),loading:B})]}),(0,_.jsxs)(Q,{value:a,index:3,children:[(0,_.jsxs)(s.A,{sx:$.tablePreHeader,children:[(0,_.jsx)(f.A,{value:y,onChange:se,type:"text",placeholder:"Search profit agreements..."}),ve()]}),(0,_.jsx)(j.A,{columnShape:z(pe),data:(null===H||void 0===H?void 0:H.results)||[],dataCount:(null===H||void 0===H?void 0:H.count)||0,pageInitialState:{pageSize:P.hk,pageIndex:0},setPageIndex:e=>k((0,r.A)((0,r.A)({},I),{},{page:e})),pageIndex:(null===I||void 0===I?void 0:I.page)||1,setPageSize:e=>k((0,r.A)((0,r.A)({},I),{},{page_size:e})),loading:B})]}),(()=>{var t,a;if(!e)return null;switch(ae){case"account":return(0,_.jsx)(T,{handleClose:oe,formType:ee,initialValues:null!==O&&void 0!==O?O:void 0,callBack:ne});case"deposit":return(0,_.jsx)(q,{handleClose:oe,callBack:ne,accountId:null!==(t=null===O||void 0===O?void 0:O.id)&&void 0!==t?t:""});case"withdrawal":return(0,_.jsx)(V.A,{handleClose:oe,callBack:ne,accountId:null!==(a=null===O||void 0===O?void 0:O.id)&&void 0!==a?a:""});case"profit_agreement":return(0,_.jsx)(G,{handleClose:oe,formType:ee,initialValues:Z,callBack:ne});case"details":return(0,_.jsx)(J,{handleClose:oe,account:O});default:return null}})()]});var Ae}},47260:(e,t,a)=>{var r=a(24994);t.A=void 0;var n=r(a(40039)),s=a(70579);t.A=(0,n.default)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},49250:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(89379),n=a(8122),s=a(70579);const o=e=>(0,s.jsxs)(n.A,(0,r.A)((0,r.A)({viewBox:"0 0 20 20"},e),{},{children:[(0,s.jsx)("path",{d:"M8.80758 0C3.95121 0 0 3.95121 0 8.80758C0 13.6642 3.95121 17.6152 8.80758 17.6152C13.6642 17.6152 17.6152 13.6642 17.6152 8.80758C17.6152 3.95121 13.6642 0 8.80758 0ZM8.80758 15.9892C4.84769 15.9892 1.62602 12.7675 1.62602 8.80762C1.62602 4.84773 4.84769 1.62602 8.80758 1.62602C12.7675 1.62602 15.9891 4.84769 15.9891 8.80758C15.9891 12.7675 12.7675 15.9892 8.80758 15.9892Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M19.7617 18.6124L15.1005 13.9511C14.7829 13.6335 14.2685 13.6335 13.9509 13.9511C13.6332 14.2684 13.6332 14.7834 13.9509 15.1007L18.6121 19.762C18.7709 19.9208 18.9788 20.0002 19.1869 20.0002C19.3948 20.0002 19.6029 19.9208 19.7617 19.762C20.0794 19.4446 20.0794 18.9297 19.7617 18.6124Z",fill:"currentColor"})]}))},61408:(e,t,a)=>{a.d(t,{A:()=>S});var r=a(89379),n=a(14126),s=a(34535),o=a(59135),i=a(26240),l=a(96446),c=a(71806),d=a(84882),u=a(28076),h=a(10039),m=a(73460),x=a(67024),p=a(72949),v=a(65043),A=a(71094),g=a(6905),f=a(42438),j=a(70579);const y=e=>{let{message:t}=e;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(l.A,{sx:{width:"100%",color:"text.disabled"},children:(0,j.jsx)("p",{className:"font13",style:{fontWeight:500,color:"text.disabled"},children:t})})})};var b=a(32513),C=a(55935);const w=(0,s.Ay)(o.A)(e=>{let{theme:t}=e;return{"& .MuiPaginationItem-root":{fontSize:12,fontWeight:500,color:t.palette.text.disabled},"& .MuiPaginationItem-page:hover":{borderRadius:20,backgroundColor:"transparent",color:t.palette.primary.main,border:"1px solid ".concat(t.palette.primary.main)},"& .MuiPaginationItem-page.Mui-selected":{borderRadius:20,backgroundColor:"transparent",color:t.palette.primary.main,border:"1px solid ".concat(t.palette.primary.main)},"& .MuiPaginationItem-previousNext":{margin:10,borderRadius:20,color:t.palette.primary.main,border:"1px solid ".concat(t.palette.primary.main),"&:hover":{backgroundColor:"transparent"}}}}),S=e=>{const{data:t,rowClick:a,showFooter:s,columnShape:o,hidePagination:S=!1,dataCount:_,pageInitialState:I,setPageIndex:k,pageIndex:W,loading:R}=e,z=(0,i.A)(),P=(0,v.useMemo)(()=>t,[t]),B=(0,v.useMemo)(()=>o,[o]),D=(0,v.useMemo)(()=>I,[I]),{getTableProps:M,getTableBodyProps:L,headerGroups:F,prepareRow:N,page:U,state:{pageSize:E},setPageSize:H}=(0,A.useTable)({columns:B,data:P,initialState:D},A.useSortBy,A.useExpanded,A.usePagination,A.useRowSelect);return(0,v.useEffect)(()=>{H(I.pageSize)},[I,H]),(0,j.jsxs)(l.A,{children:[(0,j.jsx)("div",{className:"table-responsive whiteBg",style:{borderRadius:10,border:"1px solid #eee"},children:(0,j.jsxs)(c.A,(0,r.A)((0,r.A)({},M()),{},{sx:{borderSpacing:"0 0.2rem",borderCollapse:"separate"},children:[(0,j.jsx)(d.A,{children:F.map(e=>(0,j.jsxs)(u.A,(0,r.A)((0,r.A)({},e.getHeaderGroupProps()),{},{children:[(0,j.jsx)(h.A,{sx:{paddingY:1,fontSize:13,width:10},children:"#"}),e.headers.map(e=>(0,j.jsx)(h.A,(0,r.A)((0,r.A)({},e.getHeaderProps(e.getSortByToggleProps())),{},{sx:{paddingY:0,fontSize:13,fontWeight:600,color:"text.black",width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,"&:last-child":{textAlign:"center"}},children:e.render("Header")})))]})))}),(0,j.jsx)(m.A,(0,r.A)((0,r.A)({},L()),{},{children:R?(0,j.jsx)(u.A,{children:(0,j.jsx)(h.A,{colSpan:B.length+1,sx:{textAlign:"left"},children:(0,j.jsx)(b.a,{})})}):U.length>0?U.map((e,t)=>{var n;return N(e),(0,j.jsxs)(u.A,(0,r.A)((0,r.A)({},e.getRowProps()),{},{onClick:a&&a(e.original),sx:{backgroundColor:null!==(n=e.original)&&void 0!==n&&n.has_error?"pink":1&t?"background.paper":C.j3,borderTop:"1.5px solid ".concat(C.j3),cursor:a?"pointer":"unset","& td:first-of-type":{},"& td:last-of-type":{textAlign:"center"},"&:last-of-type .MuiTableCell-root":{borderBottom:"dark"===z.palette.mode?"1px solid ".concat(z.palette.divider," !important"):"1px solid ".concat(z.palette.text.secondary," !important")},borderSpacing:5},children:[(0,j.jsx)(h.A,{sx:{fontSize:12,fontWeight:500,paddingY:1.2,color:"text.black","&:last-of-type div.css-o3rlxk":{display:"flex",justifyContent:"center"}},children:100*((W||1)-1)+t+1}),e.cells.map(e=>(0,j.jsx)(h.A,(0,r.A)((0,r.A)({},e.getCellProps()),{},{sx:{fontSize:12,fontWeight:500,paddingY:1.2,color:"text.black","&:last-of-type div.css-o3rlxk":{display:"flex",justifyContent:"center"}},children:null===e||void 0===e?void 0:e.render("Cell")})))]}))}):(0,j.jsx)(u.A,{sx:{borderBottomWidth:0,borderColor:"white"},children:(0,j.jsx)(h.A,{colSpan:B.length+1,sx:{textAlign:"center"},children:(0,j.jsx)(y,{message:"No Data Available"})})})}))]}))}),!S&&(0,j.jsx)(x.A,{alignItems:"flex-end",marginY:1,children:(0,j.jsx)(w,{count:Math.ceil(_/E),shape:"rounded",page:W,onChange:(e,t)=>{k(t)}})}),s&&(0,j.jsxs)(g.A,{alignItems:"center",justifyContent:"space-between",children:[(0,j.jsx)(f.H5,{color:"text.disabled",children:"Showing 1-12 of 24 result"}),(0,j.jsxs)(p.A,{disableRipple:!0,sx:{fontSize:14,fontWeight:600},children:["See All",(0,j.jsx)(n.A,{sx:{marginLeft:.5}})]})]})]})}},63471:(e,t,a)=>{var r=a(24994);t.A=void 0;var n=r(a(40039)),s=a(70579);t.A=(0,n.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},64093:(e,t,a)=>{a.d(t,{A:()=>c});var r=a(89379),n=a(62559),s=a(34535),o=a(49250),i=a(70579);const l=(0,s.Ay)(n.Ay)(e=>{let{theme:t}=e;return{height:35,fontSize:13,width:"100%",maxWidth:270,fontWeight:500,padding:"0 1rem",borderRadius:"8px",border:"1px solid ",borderColor:"light"===t.palette.mode?t.palette.secondary[300]:t.palette.divider,color:t.palette.text.primary,backgroundColor:t.palette.background.paper,[t.breakpoints.down(500)]:{maxWidth:"100%"}}}),c=e=>(0,i.jsx)(l,(0,r.A)((0,r.A)({},e),{},{sx:(0,r.A)({justifyContent:"initial"},e.sx),startAdornment:(0,i.jsx)(o.A,{sx:{fontSize:13,marginRight:1,color:"#bbb"}})}))},74523:(e,t,a)=>{a.d(t,{A:()=>f});a(65043);var r=a(8302),n=a(34535),s=a(90035),o=a(4219),i=a(35316),l=a(29347),c=a(17392),d=a(74802),u=a(8433),h=a(42438),m=a(96446),x=a(10611),p=a(70579);const v=(0,n.Ay)(s.A)(e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}),A=e=>{const{title:t,onClose:a,id:r}=e;return(0,p.jsxs)(o.A,{sx:{m:0,p:2},id:r,children:[(0,p.jsx)(h.L9,{sx:{fontSize:"1.2rem",fontWeight:"bold",padding:10,paddingLeft:0},children:t}),a?(0,p.jsx)(c.A,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,p.jsx)(d.A,{})}):null]})},g={loadingModalContentBackground:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#fff",opacity:.6,zIndex:1e3,pointerEvents:"none"}},f=e=>{let{children:t,onClose:a,title:n,maxWidth:s,minWidth:o,ActionButtons:c,selectedModalId:d,open:h}=e;const{showModal:f,loadingModalContent:j,modalId:y}=(0,u.k3)();if(!f&&!h)return null;if(void 0!==y&&y!==d)return null;return(0,p.jsx)(m.A,{children:(0,p.jsxs)(v,{onClose:e=>{a()},"aria-labelledby":"customized-dialog-title",open:void 0!==h?h:f,maxWidth:s,sx:{"& .MuiPaper-root":{minWidth:o||0}},style:{borderRadius:"10px"},children:[j&&(0,p.jsx)(m.A,{sx:{width:"100%",zIndex:1200},children:(0,p.jsx)(x.A,{})}),(0,p.jsx)(m.A,{sx:j?g.loadingModalContentBackground:{}}),(0,p.jsx)(A,{id:"customized-dialog-title",title:n,onClose:a}),(0,p.jsx)(i.A,{dividers:!0,children:t}),(0,p.jsx)(l.A,{children:c?(0,p.jsx)(c,{}):(0,p.jsx)(r.A,{autoFocus:!0,onClick:a,children:"Cancel"})})]})})}},74802:(e,t,a)=>{var r=a(24994);t.A=void 0;var n=r(a(40039)),s=a(70579);t.A=(0,n.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},85502:(e,t,a)=>{var r=a(24994);t.A=void 0;var n=r(a(40039)),s=a(70579);t.A=(0,n.default)((0,s.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel")},95540:(e,t,a)=>{var r=a(24994);t.A=void 0;var n=r(a(40039)),s=a(70579);t.A=(0,n.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},98082:(e,t,a)=>{var r=a(24994);t.A=void 0;var n=r(a(40039)),s=a(70579);t.A=(0,n.default)((0,s.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")}}]);
//# sourceMappingURL=6431.24b1adda.chunk.js.map