"use strict";(self.webpackChunkinvest=self.webpackChunkinvest||[]).push([[4013],{13194:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(65043),i=n(95926);const l=e=>{const{title:t,setTitle:n}=(0,o.useContext)(i.C);return(0,o.useEffect)(()=>n(e),[e,n]),t}},23722:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(89379),i=(n(65043),n(67024)),l=n(81637),a=n(70579);const s=e=>{let{size:t,color:n="primary",sx:s}=e;return(0,a.jsx)(i.A,{sx:(0,o.A)({color:"grey.500"},s),spacing:2,direction:"row",children:(0,a.jsx)(l.A,{size:t,color:n})})}},46055:(e,t,n)=>{n.d(t,{pU:()=>o});const o=e=>{if(!e)return"N/A";const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const n=t.getDate().toString().padStart(2,"0"),o=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getFullYear();return"".concat(n,"/").concat(o,"/").concat(i)}},66925:(e,t,n)=>{n.d(t,{$W:()=>s,As:()=>l,VB:()=>a,Zr:()=>i});var o=n(89379);n(36644);const i=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"";function l(e){var t,n;return null===e||void 0===e||null===(t=e.replaceAll)||void 0===t||null===(n=t.call(e,"_"," "))||void 0===n?void 0:n.replaceAll("-"," ")}const a=(e,t)=>{let n={};return Object.keys(e).forEach(i=>{n=(0,o.A)((0,o.A)({},n),{},{["".concat(t,".").concat(i)]:e[i]})}),n},s=e=>{const t=new FormData;return Object.keys(e).forEach(n=>{t.append(n,e[n])}),t}},74523:(e,t,n)=>{n.d(t,{A:()=>v});n(65043);var o=n(8302),i=n(34535),l=n(90035),a=n(4219),s=n(35316),r=n(29347),d=n(17392),c=n(74802),u=n(8433),p=n(42438),h=n(96446),x=n(10611),m=n(70579);const A=(0,i.Ay)(l.A)(e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}),g=e=>{const{title:t,onClose:n,id:o}=e;return(0,m.jsxs)(a.A,{sx:{m:0,p:2},id:o,children:[(0,m.jsx)(p.L9,{sx:{fontSize:"1.2rem",fontWeight:"bold",padding:10,paddingLeft:0},children:t}),n?(0,m.jsx)(d.A,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,m.jsx)(c.A,{})}):null]})},b={loadingModalContentBackground:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#fff",opacity:.6,zIndex:1e3,pointerEvents:"none"}},v=e=>{let{children:t,onClose:n,title:i,maxWidth:l,minWidth:a,ActionButtons:d,selectedModalId:c,open:p}=e;const{showModal:v,loadingModalContent:f,modalId:j}=(0,u.k3)();if(!v&&!p)return null;if(void 0!==j&&j!==c)return null;return(0,m.jsx)(h.A,{children:(0,m.jsxs)(A,{onClose:e=>{n()},"aria-labelledby":"customized-dialog-title",open:void 0!==p?p:v,maxWidth:l,sx:{"& .MuiPaper-root":{minWidth:a||0}},style:{borderRadius:"10px"},children:[f&&(0,m.jsx)(h.A,{sx:{width:"100%",zIndex:1200},children:(0,m.jsx)(x.A,{})}),(0,m.jsx)(h.A,{sx:f?b.loadingModalContentBackground:{}}),(0,m.jsx)(g,{id:"customized-dialog-title",title:i,onClose:n}),(0,m.jsx)(s.A,{dividers:!0,children:t}),(0,m.jsx)(r.A,{children:d?(0,m.jsx)(d,{}):(0,m.jsx)(o.A,{autoFocus:!0,onClick:n,children:"Cancel"})})]})})}},94013:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ve});var o=n(57528),i=n(77739),l=n(94109),a=n(96446),s=n(35721),r=n(38968),d=n(93287),c=n(14149),u=n(89557),p=n(20351),h=n(65043),x=n(68110),m=n(66925),A=n(73216),g=n(55935),b=n(32513),v=n(8433),f=n(34535),j=n(12110),y=n(24056),C=n(68903),k=n(8302),w=n(60234),S=n(15710),_=n(34705),N=n(6905),z=n(13194),D=n(32672),E=n(56629),B=n(36644);const I={getUser:async()=>E.A.get("users/").then(e=>e.data),getUsers:async e=>(console.log(e),E.A.get("users/",{params:e}).then(e=>e.data)),getUserDetails:async e=>E.A.get("users/".concat(e,"/")).then(e=>e.data),createUser:async e=>E.A.post("users/",e).then(e=>e.data),updateUser:async(e,t)=>E.A.patch("users/".concat(e,"/"),t,{headers:{"Content-Type":B.Tw}}).then(e=>e.data),verifyUserPhone:async e=>(console.log(e),E.A.post("users/verify-phone/",e).then(e=>e.data)),verifyUserEmail:async e=>(console.log(e),E.A.post("users/verify-email/",e).then(e=>e.data)),resetUserPassword:async e=>(console.log(e),E.A.post("users/update-password/",e).then(e=>e.data))};var W=n(46149),M=n(42438),U=n(89379),P=n(80045),F=n(70579);const R=["title","type"],L={badge:{lineHeight:1.5,borderRadius:"1.03125rem",padding:"0.25rem 0.625rem",border:"0.0625rem solid transparent",cursor:"pointer"},0:{color:"#f72b50",backgroundColor:"#fee6ea"},1:{color:"#44814E",backgroundColor:"#44814e1a"},2:{color:"#f7962b",backgroundColor:"#fef4e6"},3:{color:"#44814E",backgroundColor:"#44814e1a"},4:{color:"#626563",backgroundColor:"#626b631a"},5:{color:"#f72b50",backgroundColor:"#fee6ea"},6:{color:"#f72b50",backgroundColor:"#fee6ea"}},O=e=>{let{title:t,type:n}=e,o=(0,P.A)(e,R);return(0,F.jsx)(M.Oc,(0,U.A)((0,U.A)({sx:[L.badge,L[n]]},o),{},{children:t}))};var T,q=n(46055),V=n(33438),H=n(83560),J=n(59506),Z=n(52343),$=n(20691),G=n(85367);const Y=e=>{let{title:t,items:n,span:o=2,isEditable:i=!0}=e;const[l,a]=(0,h.useState)(!1),s=l?V.A:H.A,r={style:{boxShadow:"none"},size:"small",className:"font11 semiBold"},d=i?(0,F.jsxs)("div",{className:"flexSpaceCenter",children:[(0,F.jsx)("div",{children:t}),(0,F.jsxs)(K,{className:"p5 flexNullCenter gap10",children:[l&&(0,F.jsx)(Z.Ay,(0,U.A)((0,U.A)({type:"primary",icon:(0,F.jsx)(J.A,{sx:{fontSize:14}})},r),{},{children:"Submit"})),(0,F.jsx)(Z.Ay,(0,U.A)((0,U.A)({type:l?"dashed":"primary",icon:(0,F.jsx)(s,{sx:{fontSize:14}}),onClick:()=>a(!l)},r),{},{children:l?"Cancel":"Edit"}))]})]}):t;return(0,F.jsx)($.A,{title:d,size:"small",contentStyle:{fontSize:12},labelStyle:{fontSize:12,fontWeight:600,maxWidth:100,color:"black"},bordered:!0,items:null===n||void 0===n?void 0:n.map(e=>{const{field:t,value:n,label:i}=e||{};return(0,U.A)((0,U.A)({},e),{},{label:(0,F.jsx)("div",{className:"capitalize",children:(0,m.As)(i)}),span:o,children:l&&t?(0,F.jsx)("div",{children:(0,F.jsx)(G.A,{name:t,className:"font12",value:n})}):n||!isNaN(n)?n:(0,F.jsx)("div",{className:"textDisabled",children:"N/A"})})})})},K=x.Ay.div(T||(T=(0,o.A)(["\n  flex-wrap: wrap;\n  justify-content: flex-end;\n"]))),Q=((0,f.Ay)(C.Ay)(()=>({borderRadius:"8px !important",border:"1px solid #E5EAF2",padding:"1rem",position:"relative"})),e=>{let{userDetails:t}=e;const{extra_details:n,first_name:o,last_name:i,account_type:l,profile:a,phone_number:s,user_type:r,email:d}=t||{},{country:c,dateofbirth:u,gender:p}=a||{},h=[{label:"first_name",value:o,field:"first_name"},{label:"last_name",value:i,field:"last_name"},{label:"other_name",value:i,field:"other_name"},{label:"date of birth",value:(0,q.pU)(u)},{label:"email",value:d},{label:"country",value:c},{label:"gender",value:p},{label:"phone_number",value:s,field:"phone_number"},{label:"account_type",value:l},{label:"user_type",value:r}];return(0,F.jsx)("div",{className:"radius10 whiteBg p20",children:(0,F.jsx)(Y,{title:"Profile Details",items:h})})});var X=n(63516),ee=n(73033),te=n(23768),ne=n(23722),oe=n(75992),ie=n(74523),le=n(80644);const ae=e=>{let{handleClose:t,open:n,photo:o,user:i,callback:l}=e;const s=(0,h.useRef)(null),[r,d]=h.useState(!1),c=ee.Ik().shape({photo:ee.gl().required("Profile photo is required")}),u=(0,X.Wx)({initialValues:{photo:o},validationSchema:c,validateOnChange:!0,validateOnMount:!0,onSubmit:e=>p(e)}),p=async e=>{var t;d(!0);const n=(0,m.$W)((0,U.A)({},(0,m.VB)({photo:null===e||void 0===e||null===(t=e.photo)||void 0===t?void 0:t[0]},"profile")));try{await I.updateUser(String(null===i||void 0===i?void 0:i.id),n),te.oR.success("Profile photo updated successfully"),x(),d(!1)}catch(o){o.response.data&&u.setErrors(o.response.data),d(!1),x(),l&&l()}},x=()=>{u.resetForm(),t()},A=()=>{s.current&&s.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))};return(0,F.jsx)(ie.A,{title:"Update Profile Photo",open:n,onClose:x,id:(0,oe.A)(),ActionButtons:()=>(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(k.A,{onClick:x,children:"Close"}),(0,F.jsx)(k.A,{disabled:!u.isValid,onClick:A,type:"submit",variant:"contained",children:r?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(ne.A,{color:"inherit",size:20})," ",(0,F.jsx)(M.L9,{style:{marginLeft:"0.5rem"},color:"primary",children:"Submitting..."})]}):"Submit"})]}),children:(0,F.jsx)("form",{ref:s,onSubmit:u.handleSubmit,children:(0,F.jsx)(a.A,{sx:{width:"100%"},children:(0,F.jsx)(le.A,{others:{sx:{marginBottom:"0rem"}},formikInstance:u,formFields:[{name:"photo",initailValue:"",label:"Profile Photo",type:"file",uiType:"file",uiBreakpoints:{xs:12,sm:12,md:6,lg:6,xl:6},accepts:"image/*",required:!0}],validationSchema:c})})})})},se=(0,f.Ay)(j.A)(()=>({position:"relative"})),re=(0,f.Ay)(N.A)(()=>({alignItems:"center",position:"relative"})),de=((0,f.Ay)(y.A)(e=>{let{theme:t}=e;return{fontSize:13,color:t.palette.text.primary}}),(0,f.Ay)(S.A)(e=>{let{theme:t}=e;return{[t.breakpoints.down(780)]:{width:"100%","& .MuiTabs-flexContainer":{justifyContent:"space-between"},marginBottom:20},[t.breakpoints.up("sm")]:{"& .MuiTabs-flexContainer":{minWidth:400,justifyContent:"space-between"}}}}),(0,f.Ay)(_.A)(()=>({padding:0})),(0,f.Ay)(C.Ay)(()=>({borderRadius:"8px !important",border:"1px solid #E5EAF2",padding:"1rem",position:"relative"})),(0,f.Ay)(k.A)(e=>{let{theme:t}=e;return{padding:"0.2rem 0.8rem !important",minWidth:"24px !important"}}),{hidden:{display:"none"},editButton:{position:"absolute",bottom:"0.1rem",right:"-0.1rem",borderRadius:"50%",padding:"0 !important",width:"2rem",height:"2rem",minWidth:"2rem",backgroundColor:"white","&:hover":{backgroundColor:"primary.main",color:"white"}}}),ce=()=>{var e,t;(0,z.A)("Account Profile");const{user:n}=(0,D.A)(),[o,i]=(0,h.useState)(!1),[l,s]=(0,h.useState)(""),[r,d]=(0,h.useState)({}),[c,u]=(0,h.useState)(null),[p,x]=(0,h.useState)(!1);(0,h.useEffect)(()=>{const e=localStorage.getItem("accessToken");if(e){const t=JSON.parse(atob(e.split(".")[1]));u(t.user_id)}s((new Date).getTime().toString())},[]),(0,h.useEffect)(()=>{l&&m()},[l]);const m=async()=>{try{i(!0);const e=await I.getUserDetails(c||"0");d(e),i(!1)}catch(e){i(!1)}};return o?(0,F.jsx)(b.a,{}):(0,F.jsxs)(a.A,{pt:2,pb:4,children:[(0,F.jsx)(se,{sx:{mb:2},children:(0,F.jsx)(N.A,{flexWrap:"wrap",padding:"1rem 1rem",alignItems:"center",justifyContent:"space-between",children:(0,F.jsxs)(re,{children:[(0,F.jsxs)(a.A,{position:"relative",children:[(0,F.jsx)(W.A,{src:"".concat(B.Rn).concat(null===n||void 0===n||null===(e=n.profile)||void 0===e?void 0:e.photo_url)||"/static/avatar/001-man.svg",sx:{border:4,width:100,height:100,borderColor:"background.paper"}}),(0,F.jsx)(k.A,{variant:"outlined",sx:de.editButton,onClick:()=>x(!0),children:(0,F.jsx)(w.A,{sx:{fontSize:16}})})]}),(0,F.jsxs)(a.A,{marginLeft:3,children:[(0,F.jsx)(M.H3,{lineHeight:1.2,marginBottom:1,children:"".concat(null===r||void 0===r?void 0:r.first_name," ").concat(null===r||void 0===r?void 0:r.last_name)}),(0,F.jsx)(M.L9,{sx:{display:"block",marginBottom:"5px"},children:(0,F.jsxs)(M.Oc,{color:"text.disabled",children:[(0,F.jsx)(M.L9,{fontWeight:"bold",children:"Account Status: "}),(0,F.jsx)(O,{type:null!==r&&void 0!==r&&r.is_active?1:0,title:null!==r&&void 0!==r&&r.is_active?"Active":"In-active"})]})}),(0,F.jsxs)(M.Oc,{display:"block",color:"text.disabled",children:[(0,F.jsx)(M.L9,{fontWeight:"bold",children:"Joining Date: "}),(0,F.jsx)(M.L9,{children:"".concat((0,q.pU)(null===r||void 0===r?void 0:r.date_joined))})]})]})]})})}),(0,F.jsx)(Q,{userDetails:r}),(0,F.jsx)(ae,{open:p,handleClose:()=>x(!1),photo:null===n||void 0===n||null===(t=n.profile)||void 0===t?void 0:t.photo_url,user:n,callback:m})]})},ue=()=>((0,z.A)("Change Password"),null);var pe,he,xe,me;const Ae=e=>{let{onClick:t,toggleDrawer:n,selected:o}=e;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:"bold mainColor",style:{padding:"20px 20px 10px 20px"},children:"Options Menu"}),(0,F.jsx)(s.A,{children:[{label:B.sA,icon:c.A},{label:B.sN,icon:u.A},{label:B.vC,icon:p.A}].map(e=>{let{icon:i,label:l}=e;const a=o===l;return(0,F.jsxs)(r.A,{className:"animate",sx:{gap:2,py:a?2.3:1.3},selected:a,onClick:()=>{t(l),n&&n()},children:[i&&(0,F.jsx)(i,{sx:{fontSize:16,fill:a?g.eq:"black"}}),(0,F.jsx)("div",{className:"font12 capitalize ".concat(a&&"mainColor semiBold"),children:(0,m.As)(l)})]})})})]})},ge={[B.sA]:ce,[B.vC]:ue},be=e=>{let{InvestmentDetails:t,handleRefreshInvestment:n,value:o}=e;const i=(null===ge||void 0===ge?void 0:ge[o])||(0,F.jsx)(F.Fragment,{});console.log(o);return(0,h.cloneElement)((0,F.jsx)(i,{}),{InvestmentDetails:t,handleRefreshInvestment:n})},ve=()=>{const[e,t]=(0,h.useState)(!1),[n,o]=(0,h.useState)(!1),{setShowModal:s,showModal:r}=(0,v.k3)(),c=(0,A.Zp)(),{tabId:u}=((0,A.zy)(),(0,A.g)()),p=u||B.sA,x=()=>{o(!n)},m=e=>{const t="/dashboard/account/".concat(e);c(t)};return e?(0,F.jsx)(b.A,{}):(0,F.jsxs)(je,{className:"h100 flex gap20",children:[(0,F.jsx)(fe,{className:"whiteBg h100",children:(0,F.jsx)(Ae,{onClick:m,selected:p})}),(0,F.jsx)(ye,{className:"flexGrow h100 scroll flexColumn gap20",children:be({value:p})}),(0,F.jsx)(Ce,{className:"animate",onClick:x,children:(0,F.jsx)(i.A,{title:"Open Sidebar",placement:"left",children:(0,F.jsx)(d.A,{})})}),(0,F.jsxs)(l.Ay,{open:n,onClose:x,anchor:"bottom",PaperProps:{sx:{borderRadius:3}},children:[(0,F.jsx)(Ae,{onClick:m,toggleDrawer:x,selected:p}),(0,F.jsx)(a.A,{height:60})]})]})},fe=x.Ay.div(pe||(pe=(0,o.A)(["\n  width: 200px;\n  min-width: 200px;\n  margin-left: -20px;\n\n  @media (max-width: 960px) {\n    display: none;\n  }\n"]))),je=x.Ay.div(he||(he=(0,o.A)([""]))),ye=x.Ay.div(xe||(xe=(0,o.A)(["\n  // paddingLeft: 20,\n  padding-block: 20px;\n  @media (max-width: 960px) {\n  }\n"]))),Ce=x.Ay.div(me||(me=(0,o.A)(["\n  padding: 10px;\n  border-radius: 15px;\n  bottom: 70px;\n  right: 20px;\n  color: white;\n  background-color: ",";\n  position: fixed;\n  display: none;\n  z-index: 20;\n\n  &:hover {\n    background-color: ",";\n    scale: 1.05;\n  }\n\n  @media (max-width: 960px) {\n    display: block;\n  }\n"])),g.eq,g.oD)}}]);
//# sourceMappingURL=4013.f587a29b.chunk.js.map