{"version":3,"file":"static/js/6085.6a8cf886.chunk.js","mappings":"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","sources":["hooks/useTitle.tsx","pages/Accounting/Budgets/BudgetDetails.tsx","components/UI/ProgressIndicator.tsx","utils/date_formatter.ts","pages/Accounting/Budgets/Budgets.service.ts"],"sourcesContent":["import { useContext, useEffect } from \"react\";\nimport { TitleContext } from \"../contexts/TitleContext\";\n\nconst useTitle = (text: string) => {\n  const { title, setTitle } = useContext(TitleContext);\n\n  useEffect(() => setTitle(text), [text, setTitle]);\n\n  return title;\n};\n\nexport default useTitle;\n","import React, { useEffect, useState } from \"react\";\nimport { Box, Button, Typography, Paper, Divider } from \"@mui/material\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-hot-toast\";\nimport useTitle from \"../../../hooks/useTitle\";\nimport { BudgetService } from \"./Budgets.service\";\nimport { IBudget } from \"./Budgets.interface\";\nimport { formatDateToDDMMYYYY } from \"../../../utils/date_formatter\";\nimport ProgressIndicator from \"../../../components/UI/ProgressIndicator\";\n\nconst BudgetDetails = () => {\n  useTitle(\"Budget Details\");\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const [budget, setBudget] = useState<IBudget | null>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n\n  useEffect(() => {\n    if (id) {\n      fetchBudgetDetails(id);\n    }\n  }, [id]);\n\n  const fetchBudgetDetails = async (budgetId: string) => {\n    try {\n      setLoading(true);\n      const data = await BudgetService.getBudgetDetails(budgetId);\n      setBudget(data);\n    } catch (error: any) {\n      toast.error(\"Failed to fetch budget details\");\n      console.error(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleBack = () => {\n    navigate(\"/admin/accounting/budgets\");\n  };\n\n  if (loading) {\n    return (\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", mt: 4 }}>\n        <ProgressIndicator size={40} />\n      </Box>\n    );\n  }\n\n  if (!budget) {\n    return (\n      <Box sx={{ p: 4 }}>\n        <Typography variant=\"h6\" color=\"error\">\n          Budget not found\n        </Typography>\n        <Button variant=\"contained\" onClick={handleBack} sx={{ mt: 2 }}>\n          Back to Budgets\n        </Button>\n      </Box>\n    );\n  }\n\n  const formatCurrency = (value: any) => {\n    const num = parseFloat(value || \"0\");\n    return num.toLocaleString(\"en-UG\", {\n      style: \"currency\",\n      currency: \"UGX\",\n      minimumFractionDigits: 2,\n    });\n  };\n\n  return (\n    <Box sx={{ p: 4, maxWidth: 800, mx: \"auto\" }}>\n      <Button variant=\"outlined\" onClick={handleBack} sx={{ mb: 2 }}>\n        Back to Budgets\n      </Button>\n      <Paper sx={{ p: 3 }}>\n        <Typography variant=\"h4\" gutterBottom>\n          Budget for {formatDateToDDMMYYYY(budget.period)}\n        </Typography>\n        <Divider sx={{ mb: 2 }} />\n        <Box sx={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 2 }}>\n          <Box>\n            <Typography variant=\"subtitle1\" fontWeight=\"bold\">\n              Hub\n            </Typography>\n            <Typography>{budget.hub?.name || \"N/A\"}</Typography>\n          </Box>\n\n          <Box>\n            <Typography variant=\"subtitle1\" fontWeight=\"bold\">\n              Hub Admin\n            </Typography>\n            <Typography>\n              {budget.hub?.hub_admin\n                ? `${budget.hub.hub_admin.first_name} ${budget.hub.hub_admin.last_name}`\n                : \"N/A\"}\n            </Typography>\n          </Box>\n\n          <Box>\n            <Typography variant=\"subtitle1\" fontWeight=\"bold\">\n              Grain Type\n            </Typography>\n            <Typography>{budget.grain_type?.name || \"N/A\"}</Typography>\n          </Box>\n\n          <Box>\n            <Typography variant=\"subtitle1\" fontWeight=\"bold\">\n              Budgeted Amount\n            </Typography>\n            <Typography>{formatCurrency(budget.budgeted_amount)}</Typography>\n          </Box>\n\n          <Box>\n            <Typography variant=\"subtitle1\" fontWeight=\"bold\">\n              Actual Amount\n            </Typography>\n            <Typography>{formatCurrency(budget.actual_amount)}</Typography>\n          </Box>\n\n          <Box>\n            <Typography variant=\"subtitle1\" fontWeight=\"bold\">\n              Variance\n            </Typography>\n            <Typography>{formatCurrency(budget.variance)}</Typography>\n          </Box>\n\n          <Box>\n            <Typography variant=\"subtitle1\" fontWeight=\"bold\">\n              Variance Percentage\n            </Typography>\n            <Typography>{budget.variance_percentage?.toFixed(2)}%</Typography>\n          </Box>\n\n          <Box>\n            <Typography variant=\"subtitle1\" fontWeight=\"bold\">\n              Over Budget\n            </Typography>\n            <Typography>{budget.is_over_budget ? \"Yes\" : \"No\"}</Typography>\n          </Box>\n\n          <Box>\n            <Typography variant=\"subtitle1\" fontWeight=\"bold\">\n              Created At\n            </Typography>\n            <Typography>{formatDateToDDMMYYYY(budget.created_at)}</Typography>\n          </Box>\n        </Box>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default BudgetDetails;\n","import * as React from 'react';\nimport Stack from '@mui/material/Stack';\nimport CircularProgress from '@mui/material/CircularProgress';\n\ninterface IProgressIndicatorProps {\n    size?: number | undefined;\n    color?: \"inherit\" | \"primary\" | \"secondary\" | \"success\" | undefined;\n    sx?: object;\n}\n\nconst ProgressIndicator: React.FC<IProgressIndicatorProps> = ({size, color = \"primary\", sx}) => {\n  return (\n    <Stack sx={{ color: 'grey.500', ...sx }} spacing={2} direction=\"row\">\n      <CircularProgress size={size} color={color} />\n    </Stack>\n  );\n}\n\nexport default ProgressIndicator;\n","// export const formatDateToDDMMYYYY = (date: string) => {\n//     if (!date) return '';\n//     const dateObj = new Date(date);\n//     const day = dateObj.getDate().toString().padStart(2, '0');\n//     const month = (dateObj.getMonth() + 1).toString().padStart(2, '0');\n//     const year = dateObj.getFullYear().toString();\n//     return `${day}/${month}/${year}`;\n// }\n\n\nexport const formatDateToDDMMYYYY = (dateString: string | Date): string => {\n    if (!dateString) return 'N/A';\n    \n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) return 'Invalid Date';\n    \n    const day = date.getDate().toString().padStart(2, '0');\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\n    const year = date.getFullYear();\n    \n    return `${day}/${month}/${year}`;\n  };\n  \n  export const formatDateToMMYYYY = (dateString: string | Date): string => {\n    if (!dateString) return 'N/A';\n    \n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) return 'Invalid Date';\n    \n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\n    const year = date.getFullYear();\n    \n    return `${month}/${year}`;\n  };\n  \n  export const formatCurrency = (amount: string | number, currency = 'UGX'): string => {\n    if (!amount && amount !== 0) return 'N/A';\n    \n    const numericAmount = typeof amount === 'string' ? parseFloat(amount) : amount;\n    if (isNaN(numericAmount)) return 'Invalid Amount';\n    \n    return `${currency} ${numericAmount.toLocaleString()}`;\n  };\n  \n  export const getCurrentMonth = (): string => {\n    return new Date().toISOString().slice(0, 7); // YYYY-MM format\n  };\n  \n  export const formatMonthYear = (dateString: string): string => {\n    if (!dateString) return 'N/A';\n    \n    const [year, month] = dateString.split('-');\n    const monthNames = [\n      'January', 'February', 'March', 'April', 'May', 'June',\n      'July', 'August', 'September', 'October', 'November', 'December'\n    ];\n    \n    const monthIndex = parseInt(month) - 1;\n    return `${monthNames[monthIndex]} ${year}`;\n  };\n  ","import instance from \"../../../api\";\n\nexport const BudgetService = {\n  async getBudgets(filters: Object) {\n    return instance\n      .get(\"accounting/budgets/\", { params: filters })\n      .then((response) => response.data);\n  },\n  async getBudgetDetails(id: string) {\n    return instance.get(`accounting/budgets/${id}/`).then((response) => response.data);\n  },\n  async createBudget(payload: Object) {\n    return instance.post(\"accounting/budgets/\", payload).then((response) => response.data);\n  },\n  async updateBudget(payload: Object, id: string) {\n    return instance.patch(`accounting/budgets/${id}/`, payload).then((response) => response.data);\n  },\n  async deleteBudget(id: string) {\n    return instance.delete(`accounting/budgets/${id}/`).then((response) => response.data);\n  },\n  async getPerformance(params: { period?: string }) {\n    return instance.get(\"accounting/budgets/performance/\", { params }).then((response) => response.data);\n  },\n};"],"names":["text","title","setTitle","useContext","TitleContext","useEffect","BudgetDetails","_budget$hub","_budget$hub2","_budget$grain_type","_budget$variance_perc","useTitle","id","useParams","navigate","useNavigate","budget","setBudget","useState","loading","setLoading","fetchBudgetDetails","async","data","BudgetService","getBudgetDetails","budgetId","error","toast","console","handleBack","_jsx","Box","sx","display","justifyContent","mt","children","ProgressIndicator","size","_jsxs","p","Typography","variant","color","Button","onClick","formatCurrency","value","parseFloat","toLocaleString","style","currency","minimumFractionDigits","maxWidth","mx","mb","Paper","gutterBottom","formatDateToDDMMYYYY","period","Divider","gridTemplateColumns","gap","fontWeight","hub","name","hub_admin","concat","first_name","last_name","grain_type","budgeted_amount","actual_amount","variance","variance_percentage","toFixed","is_over_budget","created_at","_ref","Stack","_objectSpread","spacing","direction","CircularProgress","dateString","date","Date","isNaN","getTime","day","getDate","toString","padStart","month","getMonth","year","getFullYear","getBudgets","filters","instance","get","params","then","response","createBudget","payload","post","updateBudget","patch","deleteBudget","delete","getPerformance"],"sourceRoot":""}