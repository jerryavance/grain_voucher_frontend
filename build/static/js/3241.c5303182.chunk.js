"use strict";(self.webpackChunkinvest=self.webpackChunkinvest||[]).push([[3241],{13194:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(65043),a=n(95926);const i=e=>{const{title:t,setTitle:n}=(0,o.useContext)(a.C);return(0,o.useEffect)((()=>n(e)),[e,n]),t}},23817:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(65043),a=n(17392),i=n(688),r=n(32143),s=n(42438),l=n(98082),d=n(70579);const c=e=>{let{actions:t,metaData:n,btnColor:c}=e;const[u,h]=(0,o.useState)(null),p=()=>{h(null)},g=t.filter((e=>!e.condition||e.condition(n)));return 0===g.length?null:(0,d.jsxs)("div",{children:[(0,d.jsx)(a.A,{size:"small",onClick:e=>{h(e.currentTarget)},children:(0,d.jsx)(l.A,{fontSize:"small"})}),(0,d.jsx)(i.A,{anchorEl:u,open:Boolean(u),onClose:p,children:g.map(((e,t)=>(0,d.jsxs)(r.A,{onClick:()=>(e=>{e.onClick(n),p()})(e),children:[e.icon,(0,d.jsx)(s.L9,{sx:{marginLeft:"0.5rem"},children:e.label})]},t)))})]})}},49250:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(89379),a=n(8122),i=n(70579);const r=e=>(0,i.jsxs)(a.A,(0,o.A)((0,o.A)({viewBox:"0 0 20 20"},e),{},{children:[(0,i.jsx)("path",{d:"M8.80758 0C3.95121 0 0 3.95121 0 8.80758C0 13.6642 3.95121 17.6152 8.80758 17.6152C13.6642 17.6152 17.6152 13.6642 17.6152 8.80758C17.6152 3.95121 13.6642 0 8.80758 0ZM8.80758 15.9892C4.84769 15.9892 1.62602 12.7675 1.62602 8.80762C1.62602 4.84773 4.84769 1.62602 8.80758 1.62602C12.7675 1.62602 15.9891 4.84769 15.9891 8.80758C15.9891 12.7675 12.7675 15.9892 8.80758 15.9892Z",fill:"currentColor"}),(0,i.jsx)("path",{d:"M19.7617 18.6124L15.1005 13.9511C14.7829 13.6335 14.2685 13.6335 13.9509 13.9511C13.6332 14.2684 13.6332 14.7834 13.9509 15.1007L18.6121 19.762C18.7709 19.9208 18.9788 20.0002 19.1869 20.0002C19.3948 20.0002 19.6029 19.9208 19.7617 19.762C20.0794 19.4446 20.0794 18.9297 19.7617 18.6124Z",fill:"currentColor"})]}))},61408:(e,t,n)=>{n.d(t,{A:()=>k});var o=n(89379),a=n(14126),i=n(34535),r=n(59135),s=n(26240),l=n(96446),d=n(71806),c=n(84882),u=n(28076),h=n(10039),p=n(73460),g=n(67024),x=n(72949),m=n(65043),v=n(71094),A=n(6905),f=n(42438),b=n(70579);const j=e=>{let{message:t}=e;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(l.A,{sx:{width:"100%",color:"text.disabled"},children:(0,b.jsx)("p",{className:"font13",style:{fontWeight:500,color:"text.disabled"},children:t})})})};var C=n(32513),y=n(55935);const S=(0,i.Ay)(r.A)((e=>{let{theme:t}=e;return{"& .MuiPaginationItem-root":{fontSize:12,fontWeight:500,color:t.palette.text.disabled},"& .MuiPaginationItem-page:hover":{borderRadius:20,backgroundColor:"transparent",color:t.palette.primary.main,border:"1px solid ".concat(t.palette.primary.main)},"& .MuiPaginationItem-page.Mui-selected":{borderRadius:20,backgroundColor:"transparent",color:t.palette.primary.main,border:"1px solid ".concat(t.palette.primary.main)},"& .MuiPaginationItem-previousNext":{margin:10,borderRadius:20,color:t.palette.primary.main,border:"1px solid ".concat(t.palette.primary.main),"&:hover":{backgroundColor:"transparent"}}}})),k=e=>{const{data:t,rowClick:n,showFooter:i,columnShape:r,hidePagination:k=!1,dataCount:w,pageInitialState:z,setPageIndex:_,pageIndex:W,loading:I}=e,L=(0,s.A)(),H=(0,m.useMemo)((()=>t),[t]),M=(0,m.useMemo)((()=>r),[r]),P=(0,m.useMemo)((()=>z),[z]),{getTableProps:R,getTableBodyProps:T,headerGroups:B,prepareRow:D,page:U,state:{pageSize:E},setPageSize:q}=(0,v.useTable)({columns:M,data:H,initialState:P},v.useSortBy,v.useExpanded,v.usePagination,v.useRowSelect);return(0,m.useEffect)((()=>{q(z.pageSize)}),[z,q]),(0,b.jsxs)(l.A,{children:[(0,b.jsx)("div",{className:"table-responsive whiteBg",style:{borderRadius:10,border:"1px solid #eee"},children:(0,b.jsxs)(d.A,(0,o.A)((0,o.A)({},R()),{},{sx:{borderSpacing:"0 0.2rem",borderCollapse:"separate"},children:[(0,b.jsx)(c.A,{children:B.map((e=>(0,b.jsxs)(u.A,(0,o.A)((0,o.A)({},e.getHeaderGroupProps()),{},{children:[(0,b.jsx)(h.A,{sx:{paddingY:1,fontSize:13,width:10},children:"#"}),e.headers.map((e=>(0,b.jsx)(h.A,(0,o.A)((0,o.A)({},e.getHeaderProps(e.getSortByToggleProps())),{},{sx:{paddingY:0,fontSize:13,fontWeight:600,color:"text.black",width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,"&:last-child":{textAlign:"center"}},children:e.render("Header")}))))]}))))}),(0,b.jsx)(p.A,(0,o.A)((0,o.A)({},T()),{},{children:I?(0,b.jsx)(u.A,{children:(0,b.jsx)(h.A,{colSpan:M.length+1,sx:{textAlign:"left"},children:(0,b.jsx)(C.a,{})})}):U.length>0?U.map(((e,t)=>{var a;return D(e),(0,b.jsxs)(u.A,(0,o.A)((0,o.A)({},e.getRowProps()),{},{onClick:n&&n(e.original),sx:{backgroundColor:null!==(a=e.original)&&void 0!==a&&a.has_error?"pink":1&t?"background.paper":y.j3,borderTop:"1.5px solid ".concat(y.j3),cursor:n?"pointer":"unset","& td:first-of-type":{},"& td:last-of-type":{textAlign:"center"},"&:last-of-type .MuiTableCell-root":{borderBottom:"dark"===L.palette.mode?"1px solid ".concat(L.palette.divider," !important"):"1px solid ".concat(L.palette.text.secondary," !important")},borderSpacing:5},children:[(0,b.jsx)(h.A,{sx:{fontSize:12,fontWeight:500,paddingY:1.2,color:"text.black","&:last-of-type div.css-o3rlxk":{display:"flex",justifyContent:"center"}},children:100*((W||1)-1)+t+1}),e.cells.map((e=>(0,b.jsx)(h.A,(0,o.A)((0,o.A)({},e.getCellProps()),{},{sx:{fontSize:12,fontWeight:500,paddingY:1.2,color:"text.black","&:last-of-type div.css-o3rlxk":{display:"flex",justifyContent:"center"}},children:null===e||void 0===e?void 0:e.render("Cell")}))))]}))})):(0,b.jsx)(u.A,{sx:{borderBottomWidth:0,borderColor:"white"},children:(0,b.jsx)(h.A,{colSpan:M.length+1,sx:{textAlign:"center"},children:(0,b.jsx)(j,{message:"No Data Available"})})})}))]}))}),!k&&(0,b.jsx)(g.A,{alignItems:"flex-end",marginY:1,children:(0,b.jsx)(S,{count:Math.ceil(w/E),shape:"rounded",page:W,onChange:(e,t)=>{_(t)}})}),i&&(0,b.jsxs)(A.A,{alignItems:"center",justifyContent:"space-between",children:[(0,b.jsx)(f.H5,{color:"text.disabled",children:"Showing 1-12 of 24 result"}),(0,b.jsxs)(x.A,{disableRipple:!0,sx:{fontSize:14,fontWeight:600},children:["See All",(0,b.jsx)(a.A,{sx:{marginLeft:.5}})]})]})]})}},63241:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var o=n(89379),a=n(96446),i=n(65043),r=n(61408),s=n(64093),l=n(42438),d=n(23817),c=n(70579);const u=e=>[{Header:"Grain Type",accessor:"grain_type.name",minWidth:100,Cell:e=>{let{row:t}=e;const{grain_type:n}=t.original;return(0,c.jsx)(l.L9,{sx:{fontSize:12,fontWeight:"bold"},children:(null===n||void 0===n?void 0:n.name)||"Unknown"})}},{Header:"Hub Name",accessor:"hub.name",minWidth:100,Cell:e=>{let{row:t}=e;const{hub:n}=t.original;return(0,c.jsx)(l.L9,{sx:{fontSize:12},children:(null===n||void 0===n?void 0:n.name)||"Unknown"})}},{Header:"Admin",accessor:"hub.hub_admin",minWidth:100,Cell:e=>{let{row:t}=e;const{hub:n}=t.original,o=null===n||void 0===n?void 0:n.hub_admin;return(0,c.jsxs)(l.L9,{sx:{fontSize:12},children:[(null===o||void 0===o?void 0:o.first_name)||"Unknown"," ",(null===o||void 0===o?void 0:o.last_name)||"Unknown"]})}},{Header:"Location",accessor:"hub.location",minWidth:100,Cell:e=>{let{row:t}=e;const{hub:n}=t.original;return(0,c.jsx)(l.L9,{sx:{fontSize:12},children:(null===n||void 0===n?void 0:n.location)||"Unknown"})}},{Header:"Total Quantity (kg)",accessor:"total_quantity_kg",minWidth:120,Cell:e=>{let{row:t}=e;const{total_quantity_kg:n}=t.original;return(0,c.jsx)(l.L9,{sx:{fontSize:12},children:n||"0.00"})}},{Header:"Available Quantity (kg)",accessor:"available_quantity_kg",minWidth:120,Cell:e=>{let{row:t}=e;const{available_quantity_kg:n}=t.original;return(0,c.jsx)(l.L9,{sx:{fontSize:12},children:n||"0.00"})}},{Header:"Reserved Quantity (kg)",accessor:"reserved_quantity_kg",minWidth:120,Cell:e=>{let{row:t}=e;const{reserved_quantity_kg:n}=t.original;return(0,c.jsx)(l.L9,{sx:{fontSize:12},children:n||"0.00"})}},{Header:"Utilization (%)",accessor:"utilization_percentage",minWidth:100,Cell:e=>{let{row:t}=e;const{utilization_percentage:n}=t.original;return(0,c.jsxs)(l.L9,{sx:{fontSize:12},children:[n||"0.00","%"]})}},{Header:"Current Value Estimate",accessor:"current_value_estimate",minWidth:120,Cell:e=>{let{row:t}=e;const{current_value_estimate:n}=t.original;return(0,c.jsx)(l.L9,{sx:{fontSize:12},children:n||"0.00"})}},{Header:"Pending Deposits",accessor:"pending_deposits_count",minWidth:100,Cell:e=>{let{row:t}=e;const{pending_deposits_count:n}=t.original;return(0,c.jsx)(l.L9,{sx:{fontSize:12},children:n||0})}},{Header:"Active Vouchers",accessor:"active_vouchers_count",minWidth:100,Cell:e=>{let{row:t}=e;const{active_vouchers_count:n}=t.original;return(0,c.jsx)(l.L9,{sx:{fontSize:12},children:n||0})}},{Header:"Last Updated",accessor:"last_updated",minWidth:150,Cell:e=>{let{row:t}=e;const{last_updated:n}=t.original;return(0,c.jsx)(l.L9,{sx:{fontSize:12},children:n?new Date(n).toLocaleDateString():"Unknown"})}},{Header:"Action",accessor:"action",minWidth:50,maxWidth:50,Cell:t=>{let{row:n}=t;const o=n.original;return(0,c.jsx)(d.A,{actions:e,metaData:o},n.id)}}];var h=n(8433),p=n(13194),g=n(23768),x=n(95540),m=n(63471),v=n(56629);const A={getInventories:async e=>v.A.get("vouchers/inventories/",{params:e}).then((e=>e.data)),getInventoriesDetails:async e=>v.A.get("vouchers/inventories/".concat(e,"/")).then((e=>e.data)),async createInventories(e){const t=new FormData;for(const n in e)t.append(n,e[n]);return v.A.post("vouchers/inventories/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>e.data))},updateInventories:async(e,t)=>(console.log(e),v.A.patch("vouchers/inventories/".concat(t,"/"),e).then((e=>e.data))),deleteInventories:async e=>(console.log(e),v.A.delete("vouchers/inventories/".concat(e,"/")).then((e=>e.data)))};var f=n(36644);const b={tablePreHeader:{display:"flex",alignItems:"center",gap:2,marginBottom:2},createButton:{marginLeft:"auto",height:"fit-content"},pageSize:{maxWidth:60,marginLeft:2}},j=()=>{(0,p.A)("Grain Inventories");const{setShowModal:e}=(0,h.k3)(),[t,n]=(0,i.useState)(),[l,d]=(0,i.useState)({}),[v,j]=(0,i.useState)(!1),[C,y]=(0,i.useState)(null),[S,k]=(0,i.useState)("Save");(0,i.useEffect)((()=>{w(l)}),[l]);const w=async e=>{try{j(!0);const t=await A.getInventories(e);n(t),j(!1)}catch(t){j(!1)}},z=async e=>{try{await A.deleteInventories(e.id),g.oR.success("Inventories deleted successfully"),(async()=>{w(l)})()}catch(t){g.oR.error("Something went wrong")}},_=[{label:"Edit",icon:(0,c.jsx)(x.A,{color:"primary"}),onClick:t=>(t=>{k("Update"),y(t),setTimeout((()=>{e(!0)}))})(t)},{label:"Delete",icon:(0,c.jsx)(m.A,{color:"error"}),onClick:e=>z(e)}];return(0,c.jsxs)(a.A,{pt:2,pb:4,children:[(0,c.jsx)(a.A,{sx:b.tablePreHeader,children:(0,c.jsx)(s.A,{onBlur:e=>d((0,o.A)((0,o.A)({},l),{},{name:e.target.value})),onKeyUp:e=>{if("Enter"===e.key){const t=e.target;d((0,o.A)((0,o.A)({},l),{},{name:null===t||void 0===t?void 0:t.value}))}},type:"text",placeholder:"Search Inventories..."})}),(0,c.jsx)(r.A,{columnShape:u(_),data:(null===t||void 0===t?void 0:t.results)||[],dataCount:(null===t||void 0===t?void 0:t.count)||0,pageInitialState:{pageSize:f.hk,pageIndex:0},setPageIndex:e=>d((0,o.A)((0,o.A)({},l),{},{page:e})),pageIndex:(null===l||void 0===l?void 0:l.page)||1,setPageSize:e=>d((0,o.A)((0,o.A)({},l),{},{page_size:e})),loading:v})]})}},63471:(e,t,n)=>{var o=n(24994);t.A=void 0;var a=o(n(40039)),i=n(70579);t.A=(0,a.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},64093:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(89379),a=n(34535),i=n(62559),r=n(49250),s=n(70579);const l=(0,a.Ay)(i.Ay)((e=>{let{theme:t}=e;return{height:35,fontSize:13,width:"100%",maxWidth:270,fontWeight:500,padding:"0 1rem",borderRadius:"8px",border:"1px solid ",borderColor:"light"===t.palette.mode?t.palette.secondary[300]:t.palette.divider,color:t.palette.text.primary,backgroundColor:t.palette.background.paper,[t.breakpoints.down(500)]:{maxWidth:"100%"}}})),d=e=>(0,s.jsx)(l,(0,o.A)((0,o.A)({},e),{},{sx:(0,o.A)({justifyContent:"initial"},e.sx),startAdornment:(0,s.jsx)(r.A,{sx:{fontSize:13,marginRight:1,color:"#bbb"}})}))},95540:(e,t,n)=>{var o=n(24994);t.A=void 0;var a=o(n(40039)),i=n(70579);t.A=(0,a.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},98082:(e,t,n)=>{var o=n(24994);t.A=void 0;var a=o(n(40039)),i=n(70579);t.A=(0,a.default)((0,i.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")}}]);
//# sourceMappingURL=3241.c5303182.chunk.js.map