"use strict";(self.webpackChunkgrain_voucher_system=self.webpackChunkgrain_voucher_system||[]).push([[6085],{13194:(t,e,n)=>{n.d(e,{A:()=>s});var a=n(65043),i=n(95926);const s=t=>{const{title:e,setTitle:n}=(0,a.useContext)(i.C);return(0,a.useEffect)((()=>n(t)),[t,n]),e}},16085:(t,e,n)=>{n.r(e),n.d(e,{default:()=>b});var a=n(65043),i=n(96446),s=n(85865),r=n(8302),c=n(63336),d=n(39336),o=n(73216),l=n(23768),u=n(13194),h=n(96581),g=n(46055),A=n(23722),x=n(70579);const b=()=>{var t,e,n,b;(0,u.A)("Budget Details");const{id:j}=(0,o.g)(),m=(0,o.Zp)(),[v,f]=(0,a.useState)(null),[p,y]=(0,a.useState)(!0);(0,a.useEffect)((()=>{j&&B(j)}),[j]);const B=async t=>{try{y(!0);const e=await h.N.getBudgetDetails(t);f(e)}catch(e){l.oR.error("Failed to fetch budget details"),console.error(e)}finally{y(!1)}},_=()=>{m("/admin/accounting/budgets")};if(p)return(0,x.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,x.jsx)(A.A,{size:40})});if(!v)return(0,x.jsxs)(i.A,{sx:{p:4},children:[(0,x.jsx)(s.A,{variant:"h6",color:"error",children:"Budget not found"}),(0,x.jsx)(r.A,{variant:"contained",onClick:_,sx:{mt:2},children:"Back to Budgets"})]});const W=t=>parseFloat(t||"0").toLocaleString("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:2});return(0,x.jsxs)(i.A,{sx:{p:4,maxWidth:800,mx:"auto"},children:[(0,x.jsx)(r.A,{variant:"outlined",onClick:_,sx:{mb:2},children:"Back to Budgets"}),(0,x.jsxs)(c.A,{sx:{p:3},children:[(0,x.jsxs)(s.A,{variant:"h4",gutterBottom:!0,children:["Budget for ",(0,g.pU)(v.period)]}),(0,x.jsx)(d.A,{sx:{mb:2}}),(0,x.jsxs)(i.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[(0,x.jsxs)(i.A,{children:[(0,x.jsx)(s.A,{variant:"subtitle1",fontWeight:"bold",children:"Hub"}),(0,x.jsx)(s.A,{children:(null===(t=v.hub)||void 0===t?void 0:t.name)||"N/A"})]}),(0,x.jsxs)(i.A,{children:[(0,x.jsx)(s.A,{variant:"subtitle1",fontWeight:"bold",children:"Hub Admin"}),(0,x.jsx)(s.A,{children:null!==(e=v.hub)&&void 0!==e&&e.hub_admin?"".concat(v.hub.hub_admin.first_name," ").concat(v.hub.hub_admin.last_name):"N/A"})]}),(0,x.jsxs)(i.A,{children:[(0,x.jsx)(s.A,{variant:"subtitle1",fontWeight:"bold",children:"Grain Type"}),(0,x.jsx)(s.A,{children:(null===(n=v.grain_type)||void 0===n?void 0:n.name)||"N/A"})]}),(0,x.jsxs)(i.A,{children:[(0,x.jsx)(s.A,{variant:"subtitle1",fontWeight:"bold",children:"Budgeted Amount"}),(0,x.jsx)(s.A,{children:W(v.budgeted_amount)})]}),(0,x.jsxs)(i.A,{children:[(0,x.jsx)(s.A,{variant:"subtitle1",fontWeight:"bold",children:"Actual Amount"}),(0,x.jsx)(s.A,{children:W(v.actual_amount)})]}),(0,x.jsxs)(i.A,{children:[(0,x.jsx)(s.A,{variant:"subtitle1",fontWeight:"bold",children:"Variance"}),(0,x.jsx)(s.A,{children:W(v.variance)})]}),(0,x.jsxs)(i.A,{children:[(0,x.jsx)(s.A,{variant:"subtitle1",fontWeight:"bold",children:"Variance Percentage"}),(0,x.jsxs)(s.A,{children:[null===(b=v.variance_percentage)||void 0===b?void 0:b.toFixed(2),"%"]})]}),(0,x.jsxs)(i.A,{children:[(0,x.jsx)(s.A,{variant:"subtitle1",fontWeight:"bold",children:"Over Budget"}),(0,x.jsx)(s.A,{children:v.is_over_budget?"Yes":"No"})]}),(0,x.jsxs)(i.A,{children:[(0,x.jsx)(s.A,{variant:"subtitle1",fontWeight:"bold",children:"Created At"}),(0,x.jsx)(s.A,{children:(0,g.pU)(v.created_at)})]})]})]})]})}},23722:(t,e,n)=>{n.d(e,{A:()=>c});var a=n(89379),i=(n(65043),n(67024)),s=n(81637),r=n(70579);const c=t=>{let{size:e,color:n="primary",sx:c}=t;return(0,r.jsx)(i.A,{sx:(0,a.A)({color:"grey.500"},c),spacing:2,direction:"row",children:(0,r.jsx)(s.A,{size:e,color:n})})}},46055:(t,e,n)=>{n.d(e,{pU:()=>a});const a=t=>{if(!t)return"N/A";const e=new Date(t);if(isNaN(e.getTime()))return"Invalid Date";const n=e.getDate().toString().padStart(2,"0"),a=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear();return"".concat(n,"/").concat(a,"/").concat(i)}},96581:(t,e,n)=>{n.d(e,{N:()=>i});var a=n(56629);const i={getBudgets:async t=>a.A.get("accounting/budgets/",{params:t}).then((t=>t.data)),getBudgetDetails:async t=>a.A.get("accounting/budgets/".concat(t,"/")).then((t=>t.data)),createBudget:async t=>a.A.post("accounting/budgets/",t).then((t=>t.data)),updateBudget:async(t,e)=>a.A.patch("accounting/budgets/".concat(e,"/"),t).then((t=>t.data)),deleteBudget:async t=>a.A.delete("accounting/budgets/".concat(t,"/")).then((t=>t.data)),getPerformance:async t=>a.A.get("accounting/budgets/performance/",{params:t}).then((t=>t.data))}}}]);
//# sourceMappingURL=6085.6a8cf886.chunk.js.map