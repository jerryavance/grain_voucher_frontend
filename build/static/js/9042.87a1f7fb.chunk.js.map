{"version":3,"file":"static/js/9042.87a1f7fb.chunk.js","mappings":"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","sources":["pages/Trade/Trade.service.ts","hooks/useTitle.tsx","components/UI/ProgressIndicator.tsx","pages/Trade/tradeWorkflowHelper.ts","pages/Trade/TradeFormFields.ts","pages/Trade/TradeFormValidations.tsx","pages/Trade/TradeForm.tsx","components/UI/Modal/ModalDialog.tsx"],"sourcesContent":["// src/pages/Trade/Trade.service.ts - COMPLETE VERSION\nimport instance from \"../../api\";\nimport {\n  IVoucherAllocationRequest,\n  IProgressStatusRequest,\n  IApproveRejectRequest,\n  ICreateDeliveryBatchRequest,\n} from \"./Trade.interface\";\n\nexport const TradeService = {\n  // ========== TRADE CRUD ==========\n  async getTrades(filters: Record<string, any>) {\n    return instance\n      .get(\"trade/trades/\", { params: filters })\n      .then((response) => response.data);\n  },\n\n  async getTradeDetails(id: string) {\n    return instance\n      .get(`trade/trades/${id}/`)\n      .then((response) => response.data);\n  },\n\n  async createTrade(payload: any) {\n    return instance\n      .post(\"trade/trades/\", payload)\n      .then((response) => response.data);\n  },\n\n  async updateTrade(payload: any, id: string) {\n    return instance\n      .patch(`trade/trades/${id}/`, payload)\n      .then((response) => response.data);\n  },\n\n  async deleteTrade(id: string) {\n    return instance\n      .delete(`trade/trades/${id}/`)\n      .then((response) => response.data);\n  },\n\n  // ========== TRADE WORKFLOW ACTIONS ==========\n  async progressStatus(id: string, payload: IProgressStatusRequest) {\n    return instance\n      .post(`trade/trades/${id}/progress_status/`, payload)\n      .then((response) => response.data);\n  },\n\n  async quickApprove(id: string, payload: IApproveRejectRequest) {\n    return instance\n      .post(`trade/trades/${id}/quick_approve/`, payload)\n      .then((response) => response.data);\n  },\n\n  async quickReject(id: string, payload: IApproveRejectRequest) {\n    return instance\n      .post(`trade/trades/${id}/quick_reject/`, payload)\n      .then((response) => response.data);\n  },\n\n  // âœ… CRITICAL: This method was missing!\n  async allocateVouchers(id: string, payload: IVoucherAllocationRequest) {\n    return instance\n      .post(`trade/trades/${id}/allocate_vouchers/`, payload)\n      .then((response) => response.data);\n  },\n\n  // ========== MULTI-DELIVERY ENDPOINTS ==========\n  async createDeliveryBatch(id: string, payload: ICreateDeliveryBatchRequest) {\n    return instance\n      .post(`trade/trades/${id}/create_delivery_batch/`, payload)\n      .then((response) => response.data);\n  },\n\n  async getDeliveryProgress(id: string) {\n    return instance\n      .get(`trade/trades/${id}/delivery_progress/`)\n      .then((response) => response.data);\n  },\n\n  async markCompleted(id: string) {\n    return instance\n      .post(`trade/trades/${id}/mark_completed/`)\n      .then((response) => response.data);\n  },\n\n  // ========== INVOICE & PAYMENT ENDPOINTS ==========\n  async getInvoicesAndPayments(id: string) {\n    return instance\n      .get(`trade/trades/${id}/invoices_and_payments/`)\n      .then((response) => response.data);\n  },\n\n  async getPaymentInfo(id: string) {\n    return instance\n      .get(`trade/trades/${id}/payment_info/`)\n      .then((response) => response.data);\n  },\n\n  // ========== COST BREAKDOWN ==========\n  async getCostBreakdown(id: string) {\n    return instance\n      .get(`trade/trades/${id}/cost_breakdown/`)\n      .then((response) => response.data);\n  },\n\n  async getDeliveryStatusCheck(id: string) {\n    return instance\n      .get(`trade/trades/${id}/delivery_status_check/`)\n      .then((response) => response.data);\n  },\n\n  // ========== DASHBOARD ==========\n  async getDashboardStats(filters?: Record<string, any>) {\n    return instance\n      .get(\"trade/trades/dashboard_stats/\", { params: filters })\n      .then((response) => response.data);\n  },\n\n  // ========== TRADE FINANCING ==========\n  async getFinancingAllocations(filters: Record<string, any>) {\n    return instance\n      .get(\"trade/financing/\", { params: filters })\n      .then((response) => response.data);\n  },\n\n  async createFinancingAllocation(payload: any) {\n    return instance\n      .post(\"trade/financing/\", payload)\n      .then((response) => response.data);\n  },\n\n  async updateFinancingAllocation(payload: any, id: string) {\n    return instance\n      .patch(`trade/financing/${id}/`, payload)\n      .then((response) => response.data);\n  },\n\n  async deleteFinancingAllocation(id: string) {\n    return instance\n      .delete(`trade/financing/${id}/`)\n      .then((response) => response.data);\n  },\n\n  // ========== TRADE LOANS ==========\n  async getLoans(filters: Record<string, any>) {\n    return instance\n      .get(\"trade/loans/\", { params: filters })\n      .then((response) => response.data);\n  },\n\n  async createLoan(payload: any) {\n    return instance\n      .post(\"trade/loans/\", payload)\n      .then((response) => response.data);\n  },\n\n  async updateLoan(payload: any, id: string) {\n    return instance\n      .patch(`trade/loans/${id}/`, payload)\n      .then((response) => response.data);\n  },\n\n  async repayLoan(id: string, payload: { amount: number }) {\n    return instance\n      .post(`trade/loans/${id}/repay/`, payload)\n      .then((response) => response.data);\n  },\n\n  // ========== TRADE COSTS ==========\n  async getTradeCosts(filters: Record<string, any>) {\n    return instance\n      .get(\"trade/costs/\", { params: filters })\n      .then((response) => response.data);\n  },\n\n  async createTradeCost(payload: any) {\n    return instance\n      .post(\"trade/costs/\", payload)\n      .then((response) => response.data);\n  },\n\n  async updateTradeCost(payload: any, id: string) {\n    return instance\n      .patch(`trade/costs/${id}/`, payload)\n      .then((response) => response.data);\n  },\n\n  async deleteTradeCost(id: string) {\n    return instance\n      .delete(`trade/costs/${id}/`)\n      .then((response) => response.data);\n  },\n\n  // ========== BROKERAGES ==========\n  async getBrokerages(filters: Record<string, any>) {\n    return instance\n      .get(\"trade/brokerages/\", { params: filters })\n      .then((response) => response.data);\n  },\n\n  async createBrokerage(payload: any) {\n    return instance\n      .post(\"trade/brokerages/\", payload)\n      .then((response) => response.data);\n  },\n\n  async updateBrokerage(payload: any, id: string) {\n    return instance\n      .patch(`trade/brokerages/${id}/`, payload)\n      .then((response) => response.data);\n  },\n\n  async deleteBrokerage(id: string) {\n    return instance\n      .delete(`trade/brokerages/${id}/`)\n      .then((response) => response.data);\n  },\n\n  async getMyCommissions() {\n    return instance\n      .get(\"trade/brokerages/my_commissions/\")\n      .then((response) => response.data);\n  },\n\n  // ========== GOODS RECEIVED NOTES (GRNs) ==========\n  async getGRNs(filters: Record<string, any>) {\n    return instance\n      .get(\"trade/grns/\", { params: filters })\n      .then((response) => response.data);\n  },\n\n  async getGRNDetails(id: string) {\n    return instance\n      .get(`trade/grns/${id}/`)\n      .then((response) => response.data);\n  },\n\n  async createGRN(payload: any) {\n    return instance\n      .post(\"trade/grns/\", payload)\n      .then((response) => response.data);\n  },\n\n  async updateGRN(payload: any, id: string) {\n    return instance\n      .patch(`trade/grns/${id}/`, payload)\n      .then((response) => response.data);\n  },\n\n  async getGRNInvoiceStatus(id: string) {\n    return instance\n      .get(`trade/grns/${id}/invoice_status/`)\n      .then((response) => response.data);\n  },\n\n  async getGRNsByTrade(tradeId: string) {\n    return instance\n      .get(`trade/grns/by_trade/`, { params: { trade_id: tradeId } })\n      .then((response) => response.data);\n  },\n\n  // ========== LOOKUPS ==========\n  async getBuyers(search?: string) {\n    return instance\n      .get(\"crm/accounts/\", {\n        params: { type: \"customer\", search, page_size: 50 },\n      })\n      .then((response) => response.data);\n  },\n\n  async getSuppliers(search?: string) {\n    return instance\n      .get(\"auth/users/\", {\n        params: { role: \"farmer\", search, page_size: 50 },\n      })\n      .then((response) => response.data);\n  },\n\n  async getGrainTypes(search?: string) {\n    return instance\n      .get(\"vouchers/grain-types/\", {\n        params: { search, page_size: 50 },\n      })\n      .then((response) => response.data);\n  },\n\n  async getQualityGrades(search?: string) {\n    return instance\n      .get(\"vouchers/quality-grades/\", {\n        params: { search, page_size: 50 },\n      })\n      .then((response) => response.data);\n  },\n\n  async getHubs(search?: string) {\n    return instance\n      .get(\"hubs/\", {\n        params: { search, page_size: 50 },\n      })\n      .then((response) => response.data);\n  },\n\n  async getAgents(search?: string) {\n    return instance\n      .get(\"auth/users/\", {\n        params: { role__in: \"bdm,agent\", search, page_size: 50 },\n      })\n      .then((response) => response.data);\n  },\n\n  async getInvestorAccounts(search?: string) {\n    return instance\n      .get(\"investors/accounts/\", {\n        params: { search, page_size: 50 },\n      })\n      .then((response) => response.data);\n  },\n};","import { useContext, useEffect } from \"react\";\nimport { TitleContext } from \"../contexts/TitleContext\";\n\nconst useTitle = (text: string) => {\n  const { title, setTitle } = useContext(TitleContext);\n\n  useEffect(() => setTitle(text), [text, setTitle]);\n\n  return title;\n};\n\nexport default useTitle;\n","import * as React from 'react';\nimport Stack from '@mui/material/Stack';\nimport CircularProgress from '@mui/material/CircularProgress';\n\ninterface IProgressIndicatorProps {\n    size?: number | undefined;\n    color?: \"inherit\" | \"primary\" | \"secondary\" | \"success\" | undefined;\n    sx?: object;\n}\n\nconst ProgressIndicator: React.FC<IProgressIndicatorProps> = ({size, color = \"primary\", sx}) => {\n  return (\n    <Stack sx={{ color: 'grey.500', ...sx }} spacing={2} direction=\"row\">\n      <CircularProgress size={size} color={color} />\n    </Stack>\n  );\n}\n\nexport default ProgressIndicator;\n","// src/utils/tradeWorkflowHelper.ts\nimport { ITrade, ITradeListItem } from \"./Trade.interface\";\n\n/**\n * Get user-friendly message about what to do next with this trade\n */\nexport const getNextActionMessage = (trade: ITrade | ITradeListItem): string => {\n  if (trade.status === 'draft') {\n    return \"Submit trade for approval\";\n  }\n  \n  if (trade.status === 'pending_approval') {\n    return \"Waiting for approval from finance team\";\n  }\n  \n  if (trade.status === 'approved') {\n    if (trade.requires_financing && !trade.financing_complete) {\n      return \"Allocate investor financing before delivery\";\n    }\n    if (trade.requires_voucher_allocation && !trade.allocation_complete) {\n      return \"Allocate vouchers before delivery\";\n    }\n    return \"Trade approved! Ready to start delivery\";\n  }\n  \n  if (trade.status === 'ready_for_delivery') {\n    return \"Create first delivery batch to generate invoice\";\n  }\n  \n  if (trade.status === 'in_transit') {\n    const remaining = (trade as any).remaining_quantity_kg || 0;\n    if (remaining > 0) {\n      return `Create delivery batch for remaining ${remaining.toLocaleString()} kg`;\n    }\n    return \"All deliveries created - waiting for final delivery confirmation\";\n  }\n  \n  if (trade.status === 'delivered') {\n    const completion = (trade as any).delivery_completion_percentage || 0;\n    if (completion < 100) {\n      return \"Complete remaining deliveries\";\n    }\n    return \"All goods delivered - collect outstanding payments to complete trade\";\n  }\n  \n  if (trade.status === 'completed') {\n    return \"Trade completed successfully!\";\n  }\n  \n  if (trade.status === 'cancelled') {\n    return \"Trade cancelled\";\n  }\n  \n  if (trade.status === 'rejected') {\n    return \"Trade rejected\";\n  }\n  \n  return \"\";\n};\n\n/**\n * Check if user can create a new delivery batch\n */\nexport const canCreateDelivery = (trade: ITrade | ITradeListItem): boolean => {\n  const validStatuses = ['ready_for_delivery', 'in_transit', 'delivered'];\n  const remaining = (trade as any).remaining_quantity_kg || 0;\n  \n  return validStatuses.includes(trade.status) && remaining > 0;\n};\n\n/**\n * Check if trade can be marked as completed\n */\nexport const canMarkCompleted = (trade: ITrade): boolean => {\n  const deliveryComplete = (trade.delivery_completion_percentage || 0) >= 100;\n  const paymentsComplete = (trade as any).payment_summary?.all_paid || false;\n  \n  return trade.status === 'delivered' && deliveryComplete && paymentsComplete;\n};\n\n/**\n * Get delivery status color for chips\n */\nexport const getDeliveryStatusColor = (\n  completionPercentage: number\n): \"default\" | \"primary\" | \"secondary\" | \"success\" | \"warning\" | \"error\" => {\n  if (completionPercentage === 0) return \"default\";\n  if (completionPercentage < 50) return \"warning\";\n  if (completionPercentage < 100) return \"primary\";\n  return \"success\";\n};\n\n/**\n * Get payment status color for chips\n */\nexport const getPaymentStatusColor = (\n  status?: string\n): \"default\" | \"primary\" | \"secondary\" | \"success\" | \"warning\" | \"error\" => {\n  const statusColors: Record<string, any> = {\n    pending: \"warning\",\n    partial: \"info\",\n    paid: \"success\",\n    overdue: \"error\",\n    unpaid: \"error\",\n  };\n  return statusColors[status?.toLowerCase() || \"pending\"] || \"default\";\n};\n\n/**\n * Get trade status color for chips\n */\nexport const getTradeStatusColor = (\n  status: string\n): \"default\" | \"primary\" | \"secondary\" | \"success\" | \"warning\" | \"error\" => {\n  const statusColors: Record<string, any> = {\n    draft: \"default\",\n    pending_approval: \"warning\",\n    approved: \"info\",\n    ready_for_delivery: \"primary\",\n    in_transit: \"secondary\",\n    delivered: \"success\",\n    completed: \"success\",\n    cancelled: \"error\",\n    rejected: \"error\",\n  };\n  return statusColors[status] || \"default\";\n};\n\n/**\n * Format currency for UGX\n */\nexport const formatCurrency = (value: number): string => {\n  return new Intl.NumberFormat(\"en-UG\", {\n    style: \"currency\",\n    currency: \"UGX\",\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(value);\n};\n\n/**\n * Format number with locale\n */\nexport const formatNumber = (value: number, decimals: number = 2): string => {\n  return new Intl.NumberFormat(\"en-UG\", {\n    minimumFractionDigits: decimals,\n    maximumFractionDigits: decimals,\n  }).format(value);\n};\n\n/**\n * Format date to locale string\n */\nexport const formatDate = (dateStr: string): string => {\n  return new Date(dateStr).toLocaleDateString(\"en-UG\", {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  });\n};\n\n/**\n * Format datetime to locale string\n */\nexport const formatDateTime = (dateStr: string): string => {\n  return new Date(dateStr).toLocaleString(\"en-UG\", {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  });\n};\n\n/**\n * Get delivery progress percentage text\n */\nexport const getDeliveryProgressText = (\n  deliveredKg: number,\n  totalKg: number\n): string => {\n  const percentage = totalKg > 0 ? (deliveredKg / totalKg) * 100 : 0;\n  return `${formatNumber(deliveredKg, 0)} / ${formatNumber(totalKg, 0)} kg (${percentage.toFixed(1)}%)`;\n};\n\n/**\n * Check if trade requires user action\n */\nexport const requiresUserAction = (trade: ITrade | ITradeListItem): boolean => {\n  if (trade.status === 'draft') return true;\n  if (trade.status === 'pending_approval') return false; // Waiting on others\n  \n  if (trade.status === 'approved') {\n    if (trade.requires_financing && !trade.financing_complete) return true;\n    if (trade.requires_voucher_allocation && !trade.allocation_complete) return true;\n    return true; // Can progress to ready_for_delivery\n  }\n  \n  if (trade.status === 'ready_for_delivery') return true; // Can create first delivery\n  \n  if (trade.status === 'in_transit') {\n    const remaining = (trade as any).remaining_quantity_kg || 0;\n    return remaining > 0; // More deliveries needed\n  }\n  \n  if (trade.status === 'delivered') {\n    const paymentDue = trade.amount_due || 0;\n    return paymentDue > 0; // Payment collection needed\n  }\n  \n  return false;\n};","import { IFormField } from \"../../utils/form_factory\";\nimport { TTradeFormProps } from \"./Trade.interface\";\n\nexport const TradeFormFields = (props: TTradeFormProps, step: number): IFormField[] => {\n  const {\n    buyers,\n    suppliers,\n    grainTypes,\n    qualityGrades,\n    hubs,\n    handleBuyerSearch,\n    handleSupplierSearch,\n    handleGrainTypeSearch,\n    handleQualityGradeSearch,\n    handleHubSearch,\n  } = props;\n\n  // Step 1: Basic Information\n  const step1Fields: IFormField[] = [\n    {\n      name: \"buyer_id\",\n      initailValue: \"\",\n      label: \"Buyer *\",\n      type: \"select\",\n      uiType: \"select\",\n      options: buyers,\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n      required: true,\n      handleSearch: handleBuyerSearch,\n    },\n    {\n      name: \"supplier_id\",\n      initailValue: \"\",\n      label: \"Supplier/Farmer *\",\n      type: \"select\",\n      uiType: \"select\",\n      options: suppliers,\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n      required: true,\n      handleSearch: handleSupplierSearch,\n    },\n    {\n      name: \"hub_id\",\n      initailValue: \"\",\n      label: \"Hub/Warehouse *\",\n      type: \"select\",\n      uiType: \"select\",\n      options: hubs,\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n      required: true,\n      handleSearch: handleHubSearch,\n    },\n    {\n      name: \"grain_type_id\",\n      initailValue: \"\",\n      label: \"Grain Type *\",\n      type: \"select\",\n      uiType: \"select\",\n      options: grainTypes,\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n      required: true,\n      handleSearch: handleGrainTypeSearch,\n    },\n    {\n      name: \"quality_grade_id\",\n      initailValue: \"\",\n      label: \"Quality Grade *\",\n      type: \"select\",\n      uiType: \"select\",\n      options: qualityGrades,\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n      required: true,\n      handleSearch: handleQualityGradeSearch,\n    },\n  ];\n\n  // Step 2: Quantities & Weight\n  const step2Fields: IFormField[] = [\n    {\n      name: \"gross_tonnage\",\n      initailValue: \"\",\n      label: \"Gross Tonnage (MT) *\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 4 },\n      required: true,\n    },\n    {\n      name: \"net_tonnage\",\n      initailValue: \"\",\n      label: \"Net Tonnage (MT) *\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 4 },\n      required: true,\n    },\n    {\n      name: \"quantity_bags\",\n      initailValue: \"\",\n      label: \"Number of Bags\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 4 },\n    },\n    {\n      name: \"bag_weight_kg\",\n      initailValue: \"100\",\n      label: \"Bag Weight (kg)\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 4 },\n    },\n    {\n      name: \"quantity_kg\",\n      initailValue: \"100\",\n      label: \"Bag Weight (kg)\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 4 },\n    },\n  ];\n\n  // Step 3: Pricing\n  const step3Fields: IFormField[] = [\n    {\n      name: \"buying_price\",\n      initailValue: \"\",\n      label: \"Buying Price (per kg) *\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n      required: true,\n    },\n    {\n      name: \"selling_price\",\n      initailValue: \"\",\n      label: \"Selling Price (per kg) *\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n      required: true,\n    },\n  ];\n\n  // Step 4: Costs\n  const step4Fields: IFormField[] = [\n    {\n      name: \"aflatoxin_qa_cost\",\n      initailValue: \"0\",\n      label: \"Aflatoxin/QA Cost\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n    {\n      name: \"weighbridge_cost\",\n      initailValue: \"0\",\n      label: \"Weighbridge Cost\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n    {\n      name: \"offloading_cost\",\n      initailValue: \"0\",\n      label: \"Offloading Cost\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n    {\n      name: \"loading_cost\",\n      initailValue: \"0\",\n      label: \"Loading Cost\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n    {\n      name: \"transport_cost_per_kg\",\n      initailValue: \"0\",\n      label: \"Transport Cost (per kg)\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n    {\n      name: \"financing_fee_percentage\",\n      initailValue: \"0\",\n      label: \"Financing Fee %\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 4 },\n    },\n    {\n      name: \"financing_days\",\n      initailValue: \"0\",\n      label: \"Financing Days\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 4 },\n    },\n    {\n      name: \"git_insurance_percentage\",\n      initailValue: \"0.30\",\n      label: \"GIT Insurance %\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 4 },\n    },\n    {\n      name: \"deduction_percentage\",\n      initailValue: \"0\",\n      label: \"Deduction %\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n    {\n      name: \"other_expenses\",\n      initailValue: \"0\",\n      label: \"Other Expenses\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n    {\n      name: \"bennu_fees\",\n      initailValue: \"0\",\n      label: \"Bennu Fees\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n    {\n      name: \"bennu_fees_payer\",\n      initailValue: \"buyer\",\n      label: \"Bennu Fees Payer\",\n      type: \"select\",\n      uiType: \"select\",\n      options: [\n        { label: \"Buyer\", value: \"buyer\" },\n        { label: \"Seller\", value: \"seller\" },\n        { label: \"Split 50/50\", value: \"split\" },\n      ],\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n  ];\n\n  // Step 5: Delivery & Payment\n  const step5Fields: IFormField[] = [\n    {\n      name: \"delivery_date\",\n      initailValue: \"\",\n      label: \"Delivery Date *\",\n      uiType: \"date\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n      required: true,\n    },\n    {\n      name: \"delivery_location\",\n      initailValue: \"\",\n      label: \"Delivery Location *\",\n      type: \"text\",\n      uiType: \"textarea\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n      required: true,\n      rows: 2,\n    },\n    {\n      name: \"delivery_distance_km\",\n      initailValue: \"\",\n      label: \"Delivery Distance (km)\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n    {\n      name: \"payment_terms\",\n      initailValue: \"24_hours\",\n      label: \"Payment Terms\",\n      type: \"select\",\n      uiType: \"select\",\n      options: [\n        { label: \"Cash on Delivery\", value: \"cash_on_delivery\" },\n        { label: \"24 Hours\", value: \"24_hours\" },\n        { label: \"7 Days\", value: \"7_days\" },\n        { label: \"14 Days\", value: \"14_days\" },\n        { label: \"30 Days\", value: \"30_days\" },\n        { label: \"Custom Terms\", value: \"custom\" },\n      ],\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n    {\n      name: \"payment_terms_days\",\n      initailValue: \"1\",\n      label: \"Payment Terms (Days)\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n    {\n      name: \"credit_terms_days\",\n      initailValue: \"0\",\n      label: \"Credit Terms (Days)\",\n      type: \"number\",\n      uiType: \"text\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n  ];\n\n  // Step 6: Additional Options\n  const step6Fields: IFormField[] = [\n    {\n      name: \"requires_financing\",\n      initailValue: false,\n      label: \"Requires Investor Financing\",\n      type: \"checkbox\",\n      uiType: \"checkbox\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n    {\n      name: \"requires_voucher_allocation\",\n      initailValue: false,\n      label: \"Requires Voucher Allocation\",\n      type: \"checkbox\",\n      uiType: \"checkbox\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n    },\n    {\n      name: \"remarks\",\n      initailValue: \"\",\n      label: \"Remarks\",\n      type: \"text\",\n      uiType: \"textarea\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n      rows: 3,\n    },\n    {\n      name: \"internal_notes\",\n      initailValue: \"\",\n      label: \"Internal Notes\",\n      type: \"text\",\n      uiType: \"textarea\",\n      uiBreakpoints: { xs: 12, sm: 12, md: 6 },\n      rows: 3,\n    },\n  ];\n\n  // Return fields based on step\n  switch (step) {\n    case 0:\n      return step1Fields;\n    case 1:\n      return step2Fields;\n    case 2:\n      return step3Fields;\n    case 3:\n      return step4Fields;\n    case 4:\n      return step5Fields;\n    case 5:\n      return step6Fields;\n    default:\n      return [...step1Fields, ...step2Fields, ...step3Fields, ...step4Fields, ...step5Fields, ...step6Fields];\n  }\n};","import * as Yup from \"yup\";\n\nexport const TradeFormValidations = (step: number) => {\n  // Step 0: Basic Information\n  const step0Schema = Yup.object().shape({\n    buyer_id: Yup.string().required(\"Buyer is required\"),\n    supplier_id: Yup.string().required(\"Supplier is required\"),\n    hub_id: Yup.string().required(\"Hub is required\"),\n    grain_type_id: Yup.string().required(\"Grain type is required\"),\n    quality_grade_id: Yup.string().required(\"Quality grade is required\"),\n  });\n\n  // Step 1: Quantities & Weight\n  const step1Schema = Yup.object().shape({\n    gross_tonnage: Yup.number()\n      .required(\"Gross tonnage is required\")\n      .positive(\"Must be positive\")\n      .test(\"is-decimal\", \"Invalid decimal\", (value) =>\n        value ? /^\\d+(\\.\\d{1,2})?$/.test(value.toString()) : true\n      ),\n    net_tonnage: Yup.number()\n      .required(\"Net tonnage is required\")\n      .positive(\"Must be positive\")\n      .max(\n        Yup.ref(\"gross_tonnage\"),\n        \"Net tonnage cannot exceed gross tonnage\"\n      )\n      .test(\"is-decimal\", \"Invalid decimal\", (value) =>\n        value ? /^\\d+(\\.\\d{1,2})?$/.test(value.toString()) : true\n      ),\n    quantity_bags: Yup.number()\n      .nullable()\n      .positive(\"Must be positive\")\n      .integer(\"Must be a whole number\"),\n    bag_weight_kg: Yup.number()\n      .positive(\"Must be positive\")\n      .test(\"is-decimal\", \"Invalid decimal\", (value) =>\n        value ? /^\\d+(\\.\\d{1,2})?$/.test(value.toString()) : true\n      ),\n    quantity_kg: Yup.number()\n      .positive(\"Must be positive\")\n      .test(\"is-decimal\", \"Invalid decimal\", (value) =>\n        value ? /^\\d+(\\.\\d{1,2})?$/.test(value.toString()) : true\n      ),\n  });\n\n  // Step 2: Pricing\n  const step2Schema = Yup.object().shape({\n    buying_price: Yup.number()\n      .required(\"Buying price is required\")\n      .positive(\"Must be positive\")\n      .test(\"is-decimal\", \"Invalid decimal\", (value) =>\n        value ? /^\\d+(\\.\\d{1,2})?$/.test(value.toString()) : true\n      ),\n    selling_price: Yup.number()\n      .required(\"Selling price is required\")\n      .positive(\"Must be positive\")\n      .moreThan(\n        Yup.ref(\"buying_price\"),\n        \"Selling price must be greater than buying price\"\n      )\n      .test(\"is-decimal\", \"Invalid decimal\", (value) =>\n        value ? /^\\d+(\\.\\d{1,2})?$/.test(value.toString()) : true\n      ),\n  });\n\n  // Step 3: Costs\n  const step3Schema = Yup.object().shape({\n    aflatoxin_qa_cost: Yup.number().min(0, \"Cannot be negative\"),\n    weighbridge_cost: Yup.number().min(0, \"Cannot be negative\"),\n    offloading_cost: Yup.number().min(0, \"Cannot be negative\"),\n    loading_cost: Yup.number().min(0, \"Cannot be negative\"),\n    transport_cost_per_kg: Yup.number().min(0, \"Cannot be negative\"),\n    financing_fee_percentage: Yup.number()\n      .min(0, \"Cannot be negative\")\n      .max(100, \"Cannot exceed 100%\"),\n    financing_days: Yup.number()\n      .min(0, \"Cannot be negative\")\n      .integer(\"Must be a whole number\"),\n    git_insurance_percentage: Yup.number()\n      .min(0, \"Cannot be negative\")\n      .max(100, \"Cannot exceed 100%\"),\n    deduction_percentage: Yup.number()\n      .min(0, \"Cannot be negative\")\n      .max(100, \"Cannot exceed 100%\"),\n    other_expenses: Yup.number().min(0, \"Cannot be negative\"),\n    bennu_fees: Yup.number().min(0, \"Cannot be negative\"),\n    bennu_fees_payer: Yup.string().oneOf(\n      [\"buyer\", \"seller\", \"split\"],\n      \"Invalid option\"\n    ),\n  });\n\n  // Step 4: Delivery & Payment\n  const step4Schema = Yup.object().shape({\n    delivery_date: Yup.date()\n      .required(\"Delivery date is required\")\n      .min(new Date(), \"Delivery date cannot be in the past\"),\n    delivery_location: Yup.string().required(\"Delivery location is required\"),\n    delivery_distance_km: Yup.number()\n      .nullable()\n      .min(0, \"Cannot be negative\"),\n    payment_terms: Yup.string().required(\"Payment terms are required\"),\n    payment_terms_days: Yup.number()\n      .required(\"Payment terms days is required\")\n      .min(0, \"Cannot be negative\")\n      .integer(\"Must be a whole number\"),\n    credit_terms_days: Yup.number()\n      .min(0, \"Cannot be negative\")\n      .integer(\"Must be a whole number\"),\n  });\n\n  // Step 5: Additional Options\n  const step5Schema = Yup.object().shape({\n    requires_financing: Yup.boolean(),\n    requires_voucher_allocation: Yup.boolean(),\n    remarks: Yup.string().max(1000, \"Remarks too long\"),\n    internal_notes: Yup.string().max(1000, \"Notes too long\"),\n  });\n\n  // Full schema (all steps combined)\n  const fullSchema = step0Schema\n    .concat(step1Schema)\n    .concat(step2Schema)\n    .concat(step3Schema)\n    .concat(step4Schema)\n    .concat(step5Schema);\n\n  // Return schema based on step\n  switch (step) {\n    case 0:\n      return step0Schema;\n    case 1:\n      return step1Schema;\n    case 2:\n      return step2Schema;\n    case 3:\n      return step3Schema;\n    case 4:\n      return step4Schema;\n    case 5:\n      return step5Schema;\n    default:\n      return fullSchema;\n  }\n};","import React, { FC, useEffect, useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Stepper,\n  Step,\n  StepLabel,\n  Typography,\n  Paper,\n} from \"@mui/material\";\nimport { useFormik } from \"formik\";\nimport ModalDialog from \"../../components/UI/Modal/ModalDialog\";\nimport ProgressIndicator from \"../../components/UI/ProgressIndicator\";\nimport { Span } from \"../../components/Typography\";\nimport FormFactory from \"../../components/UI/FormFactory\";\nimport { toast } from \"react-hot-toast\";\nimport { getInitialValues, patchInitialValues } from \"../../utils/form_factory\";\nimport uniqueId from \"../../utils/generateId\";\nimport { TradeFormFields } from \"./TradeFormFields\";\nimport { TradeService } from \"./Trade.service\";\nimport { TradeFormValidations } from \"./TradeFormValidations\";\nimport { ITradeFormProps, TTradeFormProps } from \"./Trade.interface\";\nimport { TOption } from \"../../@types/common\";\n\nconst steps = [\n  \"Basic Information\",\n  \"Quantities & Weight\",\n  \"Pricing\",\n  \"Costs & Fees\",\n  \"Delivery & Payment\",\n  \"Additional Options\",\n];\n\nconst TradeForm: FC<ITradeFormProps> = ({\n  handleClose,\n  formType = \"Save\",\n  initialValues,\n  callBack,\n}) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [activeStep, setActiveStep] = useState<number>(0);\n\n  // Lookup options\n  const [buyers, setBuyers] = useState<TOption[]>([]);\n  const [suppliers, setSuppliers] = useState<TOption[]>([]);\n  const [grainTypes, setGrainTypes] = useState<TOption[]>([]);\n  const [qualityGrades, setQualityGrades] = useState<TOption[]>([]);\n  const [hubs, setHubs] = useState<TOption[]>([]);\n\n  const formProps: TTradeFormProps = {\n    buyers,\n    suppliers,\n    grainTypes,\n    qualityGrades,\n    hubs,\n    handleBuyerSearch,\n    handleSupplierSearch,\n    handleGrainTypeSearch,\n    handleQualityGradeSearch,\n    handleHubSearch,\n  };\n\n  const allFormFields = TradeFormFields(formProps, -1); // Get all fields\n  const currentStepFields = TradeFormFields(formProps, activeStep);\n\n  const tradeForm = useFormik({\n    initialValues: getInitialValues(allFormFields),\n    validationSchema: TradeFormValidations(activeStep),\n    validateOnChange: false,\n    validateOnMount: false,\n    validateOnBlur: false,\n    enableReinitialize: true,\n    onSubmit: (values: any) => handleSubmit(values),\n  });\n\n  useEffect(() => {\n    // Load lookup data\n    loadBuyers();\n    loadSuppliers();\n    loadGrainTypes();\n    loadQualityGrades();\n    loadHubs();\n  }, []);\n\n  useEffect(() => {\n    if (formType === \"Update\" && initialValues) {\n      tradeForm.setValues(patchInitialValues(allFormFields)(initialValues || {}));\n    }\n  }, [initialValues, formType]);\n\n  // Lookup loaders\n  async function loadBuyers(search?: string) {\n    try {\n      const data = await TradeService.getBuyers(search);\n      setBuyers(\n        data.results.map((item: any) => ({\n          label: item.name,\n          value: item.id,\n        }))\n      );\n    } catch (error) {\n      console.error(\"Error loading buyers:\", error);\n    }\n  }\n\n  async function loadSuppliers(search?: string) {\n    try {\n      const data = await TradeService.getSuppliers(search);\n      setSuppliers(\n        data.results.map((item: any) => ({\n          label: `${item.first_name} ${item.last_name}`,\n          value: item.id,\n        }))\n      );\n    } catch (error) {\n      console.error(\"Error loading suppliers:\", error);\n    }\n  }\n\n  async function loadGrainTypes(search?: string) {\n    try {\n      const data = await TradeService.getGrainTypes(search);\n      setGrainTypes(\n        data.results.map((item: any) => ({\n          label: item.name,\n          value: item.id,\n        }))\n      );\n    } catch (error) {\n      console.error(\"Error loading grain types:\", error);\n    }\n  }\n\n  async function loadQualityGrades(search?: string) {\n    try {\n      const data = await TradeService.getQualityGrades(search);\n      setQualityGrades(\n        data.results.map((item: any) => ({\n          label: item.name,\n          value: item.id,\n        }))\n      );\n    } catch (error) {\n      console.error(\"Error loading quality grades:\", error);\n    }\n  }\n\n  async function loadHubs(search?: string) {\n    try {\n      const data = await TradeService.getHubs(search);\n      setHubs(\n        data.results.map((item: any) => ({\n          label: item.name,\n          value: item.id,\n        }))\n      );\n    } catch (error) {\n      console.error(\"Error loading hubs:\", error);\n    }\n  }\n\n  // Search handlers\n  function handleBuyerSearch(value: any) {\n    loadBuyers(value);\n  }\n\n  function handleSupplierSearch(value: any) {\n    loadSuppliers(value);\n  }\n\n  function handleGrainTypeSearch(value: any) {\n    loadGrainTypes(value);\n  }\n\n  function handleQualityGradeSearch(value: any) {\n    loadQualityGrades(value);\n  }\n\n  function handleHubSearch(value: any) {\n    loadHubs(value);\n  }\n\n  const handleSubmit = async (values: any) => {\n    setLoading(true);\n    try {\n      if (formType === \"Update\") {\n        await TradeService.updateTrade(values, initialValues.id);\n        toast.success(\"Trade updated successfully\");\n      } else {\n        await TradeService.createTrade(values);\n        toast.success(\"Trade created successfully\");\n      }\n\n      tradeForm.resetForm();\n      callBack && callBack();\n      handleClose();\n      setActiveStep(0);\n      setLoading(false);\n    } catch (error: any) {\n      setLoading(false);\n      if (error.response?.data) {\n        tradeForm.setErrors(error.response.data);\n      }\n      toast.error(error.message || \"An error occurred\");\n    }\n  };\n\n  const handleReset = () => {\n    tradeForm.resetForm();\n    setActiveStep(0);\n    handleClose();\n  };\n\n  const handleNext = async () => {\n    // Validate current step\n    const errors = await tradeForm.validateForm();\n    const currentFieldNames = currentStepFields.map((f) => f.name);\n    const currentErrors = Object.keys(errors).filter((key) =>\n      currentFieldNames.includes(key)\n    );\n\n    if (currentErrors.length > 0) {\n      toast.error(\"Please fill in all required fields\");\n      tradeForm.setErrors(errors);\n      return;\n    }\n\n    if (activeStep === steps.length - 1) {\n      tradeForm.handleSubmit();\n    } else {\n      setActiveStep((prev) => prev + 1);\n    }\n  };\n\n  const handleBack = () => {\n    setActiveStep((prev) => prev - 1);\n  };\n\n  const ActionBtns: FC = () => {\n    return (\n      <>\n        <Button onClick={handleReset} disabled={loading}>\n          Close\n        </Button>\n        <Box sx={{ flex: \"1 1 auto\" }} />\n        {activeStep > 0 && (\n          <Button onClick={handleBack} disabled={loading}>\n            Back\n          </Button>\n        )}\n        <Button\n          onClick={handleNext}\n          type=\"button\"\n          variant=\"contained\"\n          disabled={loading}\n        >\n          {loading ? (\n            <>\n              <ProgressIndicator color=\"inherit\" size={20} />{\" \"}\n              <Span style={{ marginLeft: \"0.5rem\" }} color=\"primary\">\n                Loading...\n              </Span>\n            </>\n          ) : activeStep === steps.length - 1 ? (\n            formType === \"Update\" ? \"Update Trade\" : \"Create Trade\"\n          ) : (\n            \"Next\"\n          )}\n        </Button>\n      </>\n    );\n  };\n\n  return (\n    <ModalDialog\n      title={formType === \"Save\" ? \"New Trade\" : \"Edit Trade\"}\n      onClose={handleReset}\n      id={uniqueId()}\n      ActionButtons={ActionBtns}\n      maxWidth=\"md\"\n    >\n      <Box sx={{ width: \"100%\", mb: 3 }}>\n        <Stepper activeStep={activeStep} alternativeLabel>\n          {steps.map((label) => (\n            <Step key={label}>\n              <StepLabel>{label}</StepLabel>\n            </Step>\n          ))}\n        </Stepper>\n      </Box>\n\n      <Paper elevation={0} sx={{ p: 2, backgroundColor: \"grey.50\" }}>\n        <Typography variant=\"h6\" gutterBottom>\n          {steps[activeStep]}\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n          {getStepDescription(activeStep)}\n        </Typography>\n\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n            handleSubmit(tradeForm.values);\n          }}\n        >\n          <FormFactory\n            others={{ sx: { marginBottom: \"0rem\" } }}\n            formikInstance={tradeForm}\n            formFields={currentStepFields}\n            validationSchema={TradeFormValidations(activeStep)}\n          />\n        </form>\n      </Paper>\n    </ModalDialog>\n  );\n};\n\nfunction getStepDescription(step: number): string {\n  const descriptions = [\n    \"Enter the buyer, supplier, hub, and grain details for this trade\",\n    \"Specify the gross tonnage, net tonnage, and bag quantities\",\n    \"Enter the buying and selling prices per kilogram\",\n    \"Add all costs associated with this trade including transport, QA, and fees\",\n    \"Set delivery date, location, and payment terms\",\n    \"Configure financing and voucher allocation requirements\",\n  ];\n  return descriptions[step] || \"\";\n}\n\nexport default TradeForm;","import * as React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport { styled } from \"@mui/material/styles\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport IconButton from \"@mui/material/IconButton\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport { useModalContext } from \"../../../contexts/ModalDialogContext\";\nimport { Span } from \"../../Typography\";\nimport { Box } from \"@mui/material\";\nimport LinearProgress from '@mui/material/LinearProgress';\n\nconst BootstrapDialog = styled(Dialog)(({ theme }) => ({\n  \"& .MuiDialogContent-root\": {\n    padding: theme.spacing(2),\n  },\n  \"& .MuiDialogActions-root\": {\n    padding: theme.spacing(1),\n  },\n}));\n\nexport interface IDialogProps {\n  id: string;\n  title: string;\n  open?: boolean;\n  onClose: () => void;\n  children?: React.ReactNode;\n  minWidth?: number;\n  selectedModalId?: string,\n  maxWidth?: \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\" | false;\n  ActionButtons?: React.FC;\n}\n\nconst ModalDialogTitle: React.FC<IDialogProps> = (props: IDialogProps) => {\n  const { title, onClose, id } = props;\n\n  return (\n    <DialogTitle sx={{ m: 0, p: 2 }} id={id}>\n      <Span sx={{ fontSize: \"1.2rem\", fontWeight: \"bold\", padding: 10, paddingLeft: 0 }}>\n        {title}\n      </Span>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          onClick={onClose}\n          sx={{\n            position: \"absolute\",\n            right: 8,\n            top: 8,\n            color: (theme) => theme.palette.grey[500],\n          }}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </DialogTitle>\n  );\n};\n\nconst ModalDialog: React.FC<IDialogProps> = ({ children, onClose, title, maxWidth, minWidth, ActionButtons, selectedModalId, open }) => {\n  const { showModal, loadingModalContent, modalId } = useModalContext();\n  \n\n  if (!(showModal || open)) return null;\n\n  if (modalId !== undefined) {\n    if (modalId !== selectedModalId) return null;\n  }\n\n  const handleBackgroundClick = (event: React.MouseEvent) => {\n    onClose();\n  };\n\n  return (\n    <Box>\n      <BootstrapDialog\n        onClose={handleBackgroundClick}\n        aria-labelledby=\"customized-dialog-title\"\n        open={open !== undefined? open: showModal}\n        maxWidth={maxWidth}\n        sx={{ \"& .MuiPaper-root\": { minWidth: minWidth || 0 } }}\n        style={{borderRadius: \"10px\"}}\n      >\n        {\n          loadingModalContent && (\n            <Box sx={{ width: '100%', zIndex: 1200 }}>\n              <LinearProgress />\n            </Box>\n          )\n        }\n\n        <Box sx={loadingModalContent ? styles.loadingModalContentBackground : {}} />\n\n        <ModalDialogTitle\n          id=\"customized-dialog-title\"\n          title={title}\n          onClose={onClose}\n        />\n        <DialogContent dividers>\n          {children}\n        </DialogContent>\n        <DialogActions>\n          {\n            ActionButtons ? <ActionButtons /> : (\n              <Button autoFocus onClick={onClose}>\n                Cancel\n              </Button>)\n          }\n\n        </DialogActions>\n      </BootstrapDialog>\n    </Box>\n  );\n};\n\nconst styles = {\n  // create faint foregound color to hide modal content when loading\n  loadingModalContentBackground: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    width: \"100%\",\n    height: \"100%\",\n    backgroundColor: \"#fff\",\n    opacity: 0.6,\n    zIndex: 1000,\n    pointerEvents: \"none\",\n  } as React.CSSProperties,\n}\n\nexport default ModalDialog;\n"],"names":["TradeService","async","getTrades","filters","instance","get","params","then","response","data","getTradeDetails","id","concat","createTrade","payload","post","updateTrade","patch","deleteTrade","delete","progressStatus","quickApprove","quickReject","allocateVouchers","createDeliveryBatch","getDeliveryProgress","markCompleted","getInvoicesAndPayments","getPaymentInfo","getCostBreakdown","getDeliveryStatusCheck","getDashboardStats","getFinancingAllocations","createFinancingAllocation","updateFinancingAllocation","deleteFinancingAllocation","getLoans","createLoan","updateLoan","repayLoan","getTradeCosts","createTradeCost","updateTradeCost","deleteTradeCost","getBrokerages","createBrokerage","updateBrokerage","deleteBrokerage","getMyCommissions","getGRNs","getGRNDetails","createGRN","updateGRN","getGRNInvoiceStatus","getGRNsByTrade","tradeId","trade_id","getBuyers","search","type","page_size","getSuppliers","role","getGrainTypes","getQualityGrades","getHubs","getAgents","role__in","getInvestorAccounts","text","title","setTitle","useContext","TitleContext","useEffect","_ref","size","color","sx","_jsx","Stack","_objectSpread","spacing","direction","children","CircularProgress","getNextActionMessage","trade","status","requires_financing","financing_complete","requires_voucher_allocation","allocation_complete","remaining","remaining_quantity_kg","toLocaleString","delivery_completion_percentage","canCreateDelivery","includes","getPaymentStatusColor","pending","partial","paid","overdue","unpaid","toLowerCase","getTradeStatusColor","draft","pending_approval","approved","ready_for_delivery","in_transit","delivered","completed","cancelled","rejected","formatCurrency","value","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatNumber","decimals","arguments","length","undefined","formatDate","dateStr","Date","toLocaleDateString","year","month","day","TradeFormFields","props","step","buyers","suppliers","grainTypes","qualityGrades","hubs","handleBuyerSearch","handleSupplierSearch","handleGrainTypeSearch","handleQualityGradeSearch","handleHubSearch","step1Fields","name","initailValue","label","uiType","options","uiBreakpoints","xs","sm","md","required","handleSearch","step2Fields","step3Fields","step4Fields","step5Fields","rows","step6Fields","TradeFormValidations","step0Schema","Yup","shape","buyer_id","supplier_id","hub_id","grain_type_id","quality_grade_id","step1Schema","gross_tonnage","positive","test","toString","net_tonnage","max","quantity_bags","nullable","integer","bag_weight_kg","quantity_kg","step2Schema","buying_price","selling_price","moreThan","step3Schema","aflatoxin_qa_cost","min","weighbridge_cost","offloading_cost","loading_cost","transport_cost_per_kg","financing_fee_percentage","financing_days","git_insurance_percentage","deduction_percentage","other_expenses","bennu_fees","bennu_fees_payer","oneOf","step4Schema","delivery_date","delivery_location","delivery_distance_km","payment_terms","payment_terms_days","credit_terms_days","step5Schema","remarks","internal_notes","fullSchema","steps","getStepDescription","handleClose","formType","initialValues","callBack","loading","setLoading","useState","activeStep","setActiveStep","setBuyers","setSuppliers","setGrainTypes","setQualityGrades","setHubs","formProps","loadBuyers","loadSuppliers","loadGrainTypes","loadQualityGrades","loadHubs","allFormFields","currentStepFields","tradeForm","useFormik","getInitialValues","validationSchema","validateOnChange","validateOnMount","validateOnBlur","enableReinitialize","onSubmit","values","handleSubmit","results","map","item","error","console","first_name","last_name","setValues","patchInitialValues","toast","success","resetForm","_error$response","setErrors","message","handleReset","handleNext","errors","validateForm","currentFieldNames","f","Object","keys","filter","key","prev","handleBack","_jsxs","ModalDialog","onClose","uniqueId","ActionButtons","ActionBtns","_Fragment","Button","onClick","disabled","Box","flex","variant","ProgressIndicator","Span","marginLeft","maxWidth","width","mb","Stepper","alternativeLabel","Step","StepLabel","Paper","elevation","p","backgroundColor","Typography","gutterBottom","e","preventDefault","FormFactory","others","marginBottom","formikInstance","formFields","BootstrapDialog","styled","Dialog","theme","padding","ModalDialogTitle","DialogTitle","m","fontSize","fontWeight","paddingLeft","IconButton","position","right","top","palette","grey","CloseIcon","styles","loadingModalContentBackground","left","height","opacity","zIndex","pointerEvents","_ref2","minWidth","selectedModalId","open","showModal","loadingModalContent","modalId","useModalContext","event","borderRadius","LinearProgress","DialogContent","dividers","DialogActions","autoFocus"],"ignoreList":[],"sourceRoot":""}