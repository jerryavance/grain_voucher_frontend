{"version":3,"file":"static/js/8046.ce4305ef.chunk.js","mappings":"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","sources":["pages/Voucher/Voucher.service.ts","hooks/useTitle.tsx","utils/date_formatter.ts","pages/Voucher/VoucherCard.tsx","pages/Voucher/VoucherDetailsDialog.tsx","pages/Voucher/TradeDialog.tsx","pages/Voucher/RedemptionDialog.tsx","pages/Voucher/VoucherGrid.tsx"],"sourcesContent":["// Voucher.service.ts\nimport instance from \"../../api\";\nimport { IVoucher, IRedemption, ITrade, ApiResponse, ApiFilters } from \"./Voucher.interface\";\n\nexport const VoucherService = {\n    // Existing methods updated\n    async getVouchers(filters: ApiFilters): Promise<ApiResponse<IVoucher>> {\n        return instance.get('vouchers/vouchers/', {\n            params: filters\n        }).then((response) => response.data);\n    },\n\n    async getMyVouchers(filters: ApiFilters): Promise<ApiResponse<IVoucher>> {\n        return instance.get('vouchers/vouchers/my_vouchers/', {\n            params: filters\n        }).then((response) => response.data);\n    },\n\n    async getVouchersForPurchase(filters: ApiFilters): Promise<ApiResponse<IVoucher>> {\n        return instance.get('vouchers/vouchers/available_for_purchase/', {\n            params: filters\n        }).then((response) => response.data);\n    },\n\n    async getVoucherDetails(id: string): Promise<IVoucher> {\n        return instance.get(`vouchers/vouchers/${id}/`).then((response) => response.data);\n    },\n\n    async createVoucher(payload: Partial<IVoucher>): Promise<IVoucher> {\n        console.log('Creating voucher:', payload);\n        return instance.post('vouchers/vouchers/', payload).then((response) => response.data);\n    }, \n\n    async updateVoucher(payload: Partial<IVoucher>, id: string): Promise<IVoucher> {\n        console.log('Updating voucher:', payload);\n        return instance.patch(`vouchers/vouchers/${id}/`, payload).then((response) => response.data);\n    },\n\n    async deleteVoucher(id: string): Promise<void> {\n        console.log('Deleting voucher:', id);\n        return instance.delete(`vouchers/vouchers/${id}/`).then((response) => response.data);\n    },\n\n    // New redemption methods\n    async getRedemptions(filters: ApiFilters): Promise<ApiResponse<IRedemption>> {\n        return instance.get('vouchers/redemptions/', {\n            params: filters\n        }).then((response) => response.data);\n    },\n\n    async createRedemption(payload: Omit<IRedemption, 'id' | 'created_at' | 'updated_at'>): Promise<IRedemption> {\n        console.log('Creating redemption:', payload);\n        return instance.post('vouchers/redemptions/', payload).then((response) => response.data);\n    },\n\n    async getRedemptionDetails(id: string): Promise<IRedemption> {\n        return instance.get(`vouchers/redemptions/${id}/`).then((response) => response.data);\n    },\n\n    async updateRedemption(payload: Partial<IRedemption>, id: string): Promise<IRedemption> {\n        return instance.patch(`vouchers/redemptions/${id}/`, payload).then((response) => response.data);\n    },\n\n    async approveRedemption(id: string): Promise<IRedemption> {\n        return instance.post(`vouchers/redemptions/${id}/approve/`).then((response) => response.data);\n    },\n\n    async payRedemption(id: string): Promise<IRedemption> {\n        return instance.post(`vouchers/redemptions/${id}/pay/`).then((response) => response.data);\n    },\n\n    async deleteRedemption(id: string): Promise<void> {\n        return instance.delete(`vouchers/redemptions/${id}/`).then((response) => response.data);\n    }\n};\n\n\n\n// import instance from \"../../api\"\n\n// export const VoucherService = {\n//     async getVouchers(filters: Object) {\n//         return instance.get('vouchers/vouchers/', {\n//             params: filters\n//         }).then((response) => response.data)\n//     },\n//     async getMyVouchers(filters: Object) {\n//         return instance.get('vouchers/vouchers/my_vouchers/', {\n//             params: filters\n//         }).then((response) => response.data)\n//     },\n//     async getVouchersForPurchase(filters: Object) {\n//         return instance.get('vouchers/vouchers/available_for_purchase/', {\n//             params: filters\n//         }).then((response) => response.data)\n//     },\n//     async getVoucherDetails(id: any) {\n//         return instance.get(`vouchers/vouchers/${id}/`).then((response) => response.data)\n//     },\n//     async createVoucher(payload: Object) {\n//         console.log(payload)\n//         return instance.post('vouchers/vouchers/', payload).then((response) => response.data)\n//     }, \n//     async updateVoucher(payload: Object, id: string) {\n//         console.log(payload)\n//         return instance.patch(`vouchers/vouchers/${id}/`, payload).then((response) => response.data)\n//     },\n//     async deleteVoucher(id: string) {\n//         console.log(id)\n//         return instance.delete(`vouchers/vouchers/${id}/`).then((response) => response.data)\n//     }\n// }","import { useContext, useEffect } from \"react\";\nimport { TitleContext } from \"../contexts/TitleContext\";\n\nconst useTitle = (text: string) => {\n  const { title, setTitle } = useContext(TitleContext);\n\n  useEffect(() => setTitle(text), [text, setTitle]);\n\n  return title;\n};\n\nexport default useTitle;\n","// export const formatDateToDDMMYYYY = (date: string) => {\n//     if (!date) return '';\n//     const dateObj = new Date(date);\n//     const day = dateObj.getDate().toString().padStart(2, '0');\n//     const month = (dateObj.getMonth() + 1).toString().padStart(2, '0');\n//     const year = dateObj.getFullYear().toString();\n//     return `${day}/${month}/${year}`;\n// }\n\n\nexport const formatDateToDDMMYYYY = (dateString: string | Date): string => {\n    if (!dateString) return 'N/A';\n    \n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) return 'Invalid Date';\n    \n    const day = date.getDate().toString().padStart(2, '0');\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\n    const year = date.getFullYear();\n    \n    return `${day}/${month}/${year}`;\n  };\n  \n  export const formatDateToMMYYYY = (dateString: string | Date): string => {\n    if (!dateString) return 'N/A';\n    \n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) return 'Invalid Date';\n    \n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\n    const year = date.getFullYear();\n    \n    return `${month}/${year}`;\n  };\n  \n  export const formatCurrency = (amount: string | number, currency = 'UGX'): string => {\n    if (!amount && amount !== 0) return 'N/A';\n    \n    const numericAmount = typeof amount === 'string' ? parseFloat(amount) : amount;\n    if (isNaN(numericAmount)) return 'Invalid Amount';\n    \n    return `${currency} ${numericAmount.toLocaleString()}`;\n  };\n  \n  export const getCurrentMonth = (): string => {\n    return new Date().toISOString().slice(0, 7); // YYYY-MM format\n  };\n  \n  export const formatMonthYear = (dateString: string): string => {\n    if (!dateString) return 'N/A';\n    \n    const [year, month] = dateString.split('-');\n    const monthNames = [\n      'January', 'February', 'March', 'April', 'May', 'June',\n      'July', 'August', 'September', 'October', 'November', 'December'\n    ];\n    \n    const monthIndex = parseInt(month) - 1;\n    return `${monthNames[monthIndex]} ${year}`;\n  };\n  ","import React, { FC } from \"react\";\nimport {\n  Card,\n  CardContent,\n  Grid,\n  Typography,\n  Box,\n  Chip,\n  Avatar,\n  Button,\n  Stack,\n  useTheme,\n} from \"@mui/material\";\nimport {\n  QrCode,\n  TrendingUp,\n  Verified,\n  LocationOn,\n  Person,\n  Water,\n  Visibility,\n} from \"@mui/icons-material\";\nimport { IVoucher } from \"./Voucher.interface\";\nimport { formatDateToDDMMYYYY } from \"../../utils/date_formatter\";\n\ninterface VoucherCardProps {\n  Voucher: IVoucher;\n  onViewDetails: (voucher: IVoucher) => void;\n  onTrade: (voucher: IVoucher) => void;\n}\n\nconst VoucherCard: FC<VoucherCardProps> = ({ Voucher, onViewDetails, onTrade }) => {\n  const theme = useTheme();\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case \"issued\":\n        return \"success\";\n      case \"traded\":\n        return \"warning\";\n      case \"redeemed\":\n        return \"info\";\n      default:\n        return \"default\";\n    }\n  };\n\n  const primaryColor = theme.palette.primary.main;\n\n  return (\n    <Card\n      sx={{\n        height: \"100%\",\n        position: \"relative\",\n        background: \"#fff\",\n        border: `2px solid ${primaryColor}`,\n        borderRadius: 3,\n        overflow: \"hidden\",\n        transition: \"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)\",\n        \"&:hover\": {\n          transform: \"translateY(-6px)\",\n          boxShadow: `0 8px 24px ${primaryColor}40`,\n        },\n        \"&::before\": {\n          content: '\"\"',\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          right: 0,\n          height: 4,\n          background: primaryColor,\n        },\n      }}\n    >\n      {/* Status Badge */}\n      <Box sx={{ position: \"absolute\", top: 16, right: 16, zIndex: 2 }}>\n        <Chip\n          label={Voucher.status.toUpperCase()}\n          color={getStatusColor(Voucher.status)}\n          size=\"small\"\n          icon={<Verified />}\n          sx={{\n            fontWeight: \"bold\",\n            \"& .MuiChip-icon\": { color: \"inherit\" },\n          }}\n        />\n      </Box>\n\n      <CardContent\n        sx={{ p: 3, height: \"100%\", display: \"flex\", flexDirection: \"column\" }}\n      >\n        {/* Header */}\n        <Box sx={{ mb: 2 }}>\n          <Typography\n            variant=\"h6\"\n            sx={{ fontWeight: 700, mb: 1, color: primaryColor }}\n          >\n            {Voucher.deposit.grain_type_details.name} Voucher\n          </Typography>\n          <Typography\n            variant=\"body2\"\n            sx={{\n              fontFamily: \"monospace\",\n              color: primaryColor,\n              fontWeight: 600,\n            }}\n          >\n            ID: {Voucher.id.substring(0, 8)}...\n          </Typography>\n        </Box>\n\n        {/* Farmer Info */}\n        <Box sx={{ display: \"flex\", alignItems: \"center\", mb: 2 }}>\n          <Avatar sx={{ bgcolor: primaryColor, mr: 2, width: 40, height: 40 }}>\n            <Person />\n          </Avatar>\n          <Box>\n            <Typography variant=\"subtitle2\" sx={{ fontWeight: 600, color: \"text.primary\" }}>\n              {Voucher.deposit.farmer.first_name} {Voucher.deposit.farmer.last_name}\n            </Typography>\n            <Typography variant=\"caption\" sx={{ color: \"text.primary\" }}>\n              {Voucher.deposit.farmer.phone_number}\n            </Typography>\n          </Box>\n        </Box>\n\n        {/* Key Details Grid */}\n        <Grid container spacing={2} sx={{ mb: 2 }}>\n          <Grid item xs={6}>\n            <Box\n              sx={{\n                textAlign: \"center\",\n                p: 1,\n                bgcolor: \"grey.100\",\n                borderRadius: 2,\n                border: `1px solid ${primaryColor}40`,\n              }}\n            >\n              <Typography\n                variant=\"h6\"\n                sx={{ color: primaryColor, fontWeight: 700 }}\n              >\n                {parseFloat(Voucher.deposit.quantity_kg).toFixed(0)}kg\n              </Typography>\n              <Typography variant=\"caption\" sx={{ color: \"text.primary\" }}>\n                Quantity\n              </Typography>\n            </Box>\n          </Grid>\n          <Grid item xs={6}>\n            <Box\n              sx={{\n                textAlign: \"center\",\n                p: 1,\n                bgcolor: \"grey.100\",\n                borderRadius: 2,\n                border: `1px solid ${primaryColor}40`,\n              }}\n            >\n              <Typography\n                variant=\"h6\"\n                sx={{ color: \"success.dark\", fontWeight: 700 }}\n              >\n                UGX {parseFloat(Voucher.current_value).toLocaleString()}\n              </Typography>\n              <Typography variant=\"caption\" sx={{ color: \"text.primary\" }}>\n                Value\n              </Typography>\n            </Box>\n          </Grid>\n        </Grid>\n\n        {/* Quality Info */}\n        <Box sx={{ mb: 2, p: 2, bgcolor: \"grey.100\", borderRadius: 2, border: `1px solid ${primaryColor}30` }}>\n          <Typography variant=\"subtitle2\" sx={{ fontWeight: 600, mb: 1, color: \"text.primary\" }}>\n            {Voucher.deposit.quality_grade_details.name}\n          </Typography>\n          <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n            <Water sx={{ fontSize: 16, color: primaryColor }} />\n            <Typography variant=\"body2\" sx={{ color: \"text.primary\" }}>\n              Moisture: {Voucher.deposit.moisture_level}%\n            </Typography>\n          </Box>\n        </Box>\n\n        {/* Hub Info */}\n        <Box sx={{ display: \"flex\", alignItems: \"center\", mb: 2 }}>\n          <LocationOn sx={{ fontSize: 16, color: primaryColor, mr: 1 }} />\n          <Typography\n            variant=\"body2\"\n            sx={{ fontSize: \"0.875rem\", color: \"text.primary\", fontWeight: 500 }}\n          >\n            {Voucher.deposit.hub.name} - {Voucher.deposit.hub.location}\n          </Typography>\n        </Box>\n\n        {/* Issue Date */}\n        <Box sx={{ mb: 3 }}>\n          <Typography variant=\"body2\" sx={{ color: primaryColor, fontWeight: 600 }}>\n            Issued: {formatDateToDDMMYYYY(Voucher.issue_date)}\n          </Typography>\n        </Box>\n\n        {/* QR Code */}\n        <Box\n          sx={{\n            textAlign: \"center\",\n            mb: 3,\n            flexGrow: 1,\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n          }}\n        >\n          <Box\n            sx={{\n              display: \"inline-block\",\n              p: 2,\n              bgcolor: \"white\",\n              borderRadius: 2,\n              border: \"2px solid\",\n              borderColor: primaryColor,\n              mx: \"auto\",\n            }}\n          >\n            <QrCode sx={{ fontSize: 80, color: primaryColor }} />\n          </Box>\n          <Typography variant=\"caption\" sx={{ mt: 1, color: \"text.primary\" }}>\n            Scan to verify\n          </Typography>\n        </Box>\n\n        {/* Action Buttons */}\n        <Stack direction=\"row\" spacing={1}>\n          <Button\n            variant=\"outlined\"\n            size=\"small\"\n            onClick={() => onViewDetails(Voucher)}\n            sx={{\n              flex: 1,\n              borderColor: primaryColor,\n              color: primaryColor,\n              fontWeight: 600,\n            }}\n            startIcon={<Visibility />}\n          >\n            Details\n          </Button>\n          <Button\n            variant=\"contained\"\n            size=\"small\"\n            onClick={() => onTrade(Voucher)}\n            sx={{\n              flex: 1,\n              bgcolor: primaryColor,\n              \"&:hover\": { bgcolor: primaryColor + \"CC\" },\n              color: \"#fff\",\n              fontWeight: 600,\n            }}\n            startIcon={<TrendingUp />}\n          >\n            Trade\n          </Button>\n        </Stack>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default VoucherCard;\n\n\n\n\n// import { Box, Card, Divider, Grid } from \"@mui/material\";\n// import { FC } from \"react\";\n// import { H3, Small } from \"../../components/Typography\";\n// import { IVoucher } from \"./Voucher.interface\";\n// import { formatDateToDDMMYYYY } from \"../../utils/date_formatter\";\n\n// interface VoucherCardProps {\n//   Voucher: {\n//     id: string;\n//     name: string;\n//     type: string;\n//   };\n// }\n\n// const VoucherCard: FC<VoucherCardProps> = ({ Voucher }) => {\n//   return (\n//     <Card\n//       sx={{\n//         maxWidth: 400,\n//         margin: \"auto\",\n//         boxShadow: 6,\n//         borderRadius: 3,\n//         overflow: \"hidden\",\n//         position: \"relative\",\n//         backgroundColor: \"#fff\",\n//         border: \"1px solid #ddd\",\n//         transition: \"transform 0.2s ease-in-out\",\n//         \"&:hover\": {\n//           transform: \"scale(1.02)\",\n//         },\n//         \"::before, ::after\": {\n//           content: '\"\"',\n//           position: \"absolute\",\n//           width: \"20px\",\n//           height: \"20px\",\n//           backgroundColor: \"#fff\",\n//           border: \"1px solid #ddd\",\n//           borderRadius: \"50%\",\n//           zIndex: 1,\n//         },\n//         \"::before\": {\n//           top: \"50%\",\n//           left: \"-10px\",\n//           transform: \"translateY(-50%)\",\n//         },\n//         \"::after\": {\n//           top: \"50%\",\n//           right: \"-10px\",\n//           transform: \"translateY(-50%)\",\n//         },\n//       }}\n//     >\n//       {/* ImageWrapper */}\n//       <Box\n//         sx={{\n//           height: 180,\n//           width: \"100%\",\n//           overflow: \"hidden\",\n//           backgroundColor: \"#ddd\",\n//           clipPath: \"polygon(0 0, 100% 0, 100% 90%, 0 90%)\",\n//         }}\n//       >\n//         <img\n//           src=\"/static/background/user-cover-pic.png\"\n//           alt=\"Voucher Background\"\n//           height=\"100%\"\n//           width=\"100%\"\n//           style={{\n//             objectFit: \"cover\",\n//           }}\n//         />\n//       </Box>\n\n//       {/* Voucher Details */}\n//       <Box sx={{ padding: 3, textAlign: \"center\" }}>\n//         <H3 sx={{ marginBottom: 1 }}>{Voucher.name}</H3>\n//         <Small color=\"text.secondary\">{Voucher.type}</Small>\n\n//         <Divider sx={{ my: 2 }} />\n\n//         <Grid container spacing={2}>\n//           {/* <Grid item xs={6}>\n//             <Small color=\"text.disabled\">Start Date</Small>\n//             <H3>{formatDateToDDMMYYYY(Voucher.start_date)}</H3>\n//           </Grid>\n//           <Grid item xs={6}>\n//             <Small color=\"text.disabled\">End Date</Small>\n//             <H3>{formatDateToDDMMYYYY(Voucher.end_date)}</H3>\n//           </Grid> */}\n//         </Grid>\n\n//         {/* QR Code */}\n//         <Box sx={{ marginTop: 3, textAlign: \"center\" }}>\n//           <Box\n//             sx={{\n//               display: \"inline-block\",\n//               padding: 2,\n//               backgroundColor: \"#f9f9f9\",\n//               borderRadius: \"10px\",\n//               border: \"1px dashed #ccc\",\n//               boxShadow: \"inset 0 0 10px rgba(0,0,0,0.1)\",\n//             }}\n//           >\n//             <img\n//               src={`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${Voucher.id}`}\n//               alt=\"QR Code\"\n//               style={{ width: \"150px\", height: \"150px\" }}\n//             />\n//           </Box>\n\n//           <Small sx={{ display: \"block\", marginTop: 1 }} color=\"text.disabled\">\n//             Scan Me\n//           </Small>\n//         </Box>\n//       </Box>\n//     </Card>\n//   );\n// };\n\n// export default VoucherCard;\n","import React, { FC, useRef } from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  Grid,\n  Paper,\n  Typography,\n  Box,\n  Chip,\n  Avatar,\n  useTheme,\n  Table,\n  TableBody,\n  TableCell,\n  TableRow,\n  Divider,\n} from '@mui/material';\nimport {\n  Verified,\n  Person,\n  Business,\n  LocationOn,\n  Phone,\n  Download,\n  MonetizationOn,\n  QrCode,\n  Water,\n} from '@mui/icons-material';\nimport { toast } from 'react-hot-toast';\nimport { IVoucher } from './Voucher.interface';\n\ninterface VoucherDetailsDialogProps {\n  voucher: IVoucher | null;\n  open: boolean;\n  onClose: () => void;\n  onRedeem: (voucher: IVoucher) => void;\n}\n\nconst VoucherDetailsDialog: FC<VoucherDetailsDialogProps> = ({\n  voucher,\n  open,\n  onClose,\n  onRedeem,\n}) => {\n  const theme = useTheme();\n  const voucherRef = useRef<HTMLDivElement>(null);\n\n  if (!voucher) return null;\n\n  const formatDate = (dateString: string) =>\n    new Date(dateString).toLocaleString('en-UG', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n\n  const formatDateShort = (dateString: string) =>\n    new Date(dateString).toLocaleDateString('en-UG', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n    });\n\n  const formatUGX = (value: string | number) =>\n    `UGX ${parseFloat(value.toString()).toLocaleString()}`;\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'issued':\n        return 'success';\n      case 'traded':\n        return 'warning';\n      case 'redeemed':\n        return 'info';\n      default:\n        return 'default';\n    }\n  };\n\n  const loadHtml2Pdf = (): Promise<any> => {\n    return new Promise((resolve, reject) => {\n      if ((window as any).html2pdf) {\n        resolve((window as any).html2pdf);\n        return;\n      }\n\n      const script = document.createElement('script');\n      script.src = 'https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js';\n      script.onload = () => resolve((window as any).html2pdf);\n      script.onerror = () => reject(new Error('Failed to load PDF library'));\n      document.head.appendChild(script);\n    });\n  };\n\n  const handleDownloadPDF = async () => {\n    try {\n      toast.loading('Generating voucher PDF...');\n\n      const html2pdf = await loadHtml2Pdf();\n\n      const element = voucherRef.current;\n      const opt = {\n        margin: 10,\n        filename: `Voucher-${voucher.id.substring(0, 8)}.pdf`,\n        image: { type: 'jpeg', quality: 0.98 },\n        html2canvas: { scale: 2, useCORS: true },\n        jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' },\n      };\n\n      await html2pdf().set(opt).from(element).save();\n      toast.dismiss();\n      toast.success('Voucher downloaded successfully');\n    } catch (error) {\n      console.error('Error generating PDF:', error);\n      toast.dismiss();\n      toast.error('Failed to generate PDF');\n    }\n  };\n\n  return (\n    <>\n      <Dialog open={open} onClose={onClose} maxWidth=\"md\" fullWidth>\n        <DialogTitle sx={{ pb: 1 }}>\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n            <Typography variant=\"h5\" sx={{ fontWeight: 700, color: theme.palette.primary.main }}>\n              Voucher Details\n            </Typography>\n            <Chip\n              label={voucher.status.toUpperCase()}\n              color={getStatusColor(voucher.status)}\n              icon={<Verified />}\n            />\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <Grid container spacing={3}>\n            {/* Left Column */}\n            <Grid item xs={12} md={8}>\n              {/* Voucher Info */}\n              <Paper sx={{ p: 3, mb: 3 }}>\n                <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 600, color: theme.palette.primary.main }}>\n                  Voucher Information\n                </Typography>\n                <Grid container spacing={2}>\n                  <Grid item xs={6}>\n                    <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n                      ID\n                    </Typography>\n                    <Typography variant=\"body1\" sx={{ fontFamily: 'monospace', color: 'text.primary' }}>\n                      {voucher.id}\n                    </Typography>\n                  </Grid>\n                  <Grid item xs={6}>\n                    <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n                      Issue Date\n                    </Typography>\n                    <Typography variant=\"body1\" sx={{ color: 'text.primary' }}>\n                      {formatDate(voucher.issue_date)}\n                    </Typography>\n                  </Grid>\n                  <Grid item xs={6}>\n                    <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n                      Entry Price\n                    </Typography>\n                    <Typography variant=\"body1\" sx={{ color: 'text.primary' }}>\n                      {formatUGX(voucher.entry_price)}\n                    </Typography>\n                  </Grid>\n                  <Grid item xs={6}>\n                    <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n                      Current Value\n                    </Typography>\n                    <Typography variant=\"h6\" sx={{ fontWeight: 700, color: 'success.main' }}>\n                      {formatUGX(voucher.current_value)}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Paper>\n\n              {/* Deposit Info */}\n              <Paper sx={{ p: 3, mb: 3 }}>\n                <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 600, color: theme.palette.primary.main }}>\n                  Grain Details\n                </Typography>\n                <Grid container spacing={2}>\n                  <Grid item xs={6}>\n                    <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n                      Grain Type\n                    </Typography>\n                    <Typography variant=\"body1\" sx={{ color: 'text.primary' }}>\n                      {voucher.deposit.grain_type_details.name}\n                    </Typography>\n                  </Grid>\n                  <Grid item xs={6}>\n                    <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n                      Quality Grade\n                    </Typography>\n                    <Typography variant=\"body1\" sx={{ color: 'text.primary' }}>\n                      {voucher.deposit.quality_grade_details.name}\n                    </Typography>\n                  </Grid>\n                  <Grid item xs={6}>\n                    <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n                      Quantity\n                    </Typography>\n                    <Typography variant=\"h6\" sx={{ fontWeight: 600, color: 'text.primary' }}>\n                      {parseFloat(voucher.deposit.quantity_kg).toFixed(2)} kg\n                    </Typography>\n                  </Grid>\n                  <Grid item xs={6}>\n                    <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n                      Moisture Level\n                    </Typography>\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                      <Water sx={{ fontSize: 16, color: theme.palette.primary.main }} />\n                      <Typography variant=\"body1\" sx={{ color: 'text.primary' }}>\n                        {voucher.deposit.moisture_level}%\n                      </Typography>\n                    </Box>\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n                      Quality Range\n                    </Typography>\n                    <Typography variant=\"body2\" sx={{ color: 'text.primary' }}>\n                      {voucher.deposit.quality_grade_details.min_moisture}% -{' '}\n                      {voucher.deposit.quality_grade_details.max_moisture}% moisture\n                    </Typography>\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n                      Notes\n                    </Typography>\n                    <Typography variant=\"body1\" sx={{ color: 'text.primary' }}>\n                      {voucher.deposit.notes || 'No additional notes'}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Paper>\n\n              {/* Farmer & Hub Info */}\n              <Grid container spacing={3}>\n                <Grid item xs={12} md={6}>\n                  <Paper sx={{ p: 3 }}>\n                    <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 600, color: theme.palette.primary.main }}>\n                      Farmer Details\n                    </Typography>\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                      <Avatar sx={{ mr: 2, bgcolor: theme.palette.primary.main }}>\n                        <Person />\n                      </Avatar>\n                      <Box>\n                        <Typography variant=\"subtitle1\" sx={{ fontWeight: 600, color: 'text.primary' }}>\n                          {voucher.deposit.farmer.first_name} {voucher.deposit.farmer.last_name}\n                        </Typography>\n                        <Typography variant=\"body2\" sx={{ color: 'text.primary' }}>\n                          {voucher.deposit.farmer.phone_number}\n                        </Typography>\n                        <Typography variant=\"body2\" sx={{ color: 'text.primary' }}>\n                          Role: {voucher.deposit.farmer.role}\n                        </Typography>\n                      </Box>\n                    </Box>\n                  </Paper>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                  <Paper sx={{ p: 3 }}>\n                    <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 600, color: theme.palette.primary.main }}>\n                      Storage Hub\n                    </Typography>\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                      <Business sx={{ mr: 1, color: theme.palette.primary.main }} />\n                      <Typography variant=\"subtitle1\" sx={{ fontWeight: 600, color: 'text.primary' }}>\n                        {voucher.deposit.hub.name}\n                      </Typography>\n                    </Box>\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                      <LocationOn sx={{ mr: 1, color: theme.palette.primary.main }} />\n                      <Typography variant=\"body2\" sx={{ color: 'text.primary' }}>\n                        {voucher.deposit.hub.location}\n                      </Typography>\n                    </Box>\n                    {voucher.deposit.hub.hub_admin && (\n                      <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                        <Phone sx={{ mr: 1, color: theme.palette.primary.main }} />\n                        <Typography variant=\"body2\" sx={{ color: 'text.primary' }}>\n                          {voucher.deposit.hub.hub_admin.first_name}{' '}\n                          {voucher.deposit.hub.hub_admin.last_name} -{' '}\n                          {voucher.deposit.hub.hub_admin.phone_number}\n                        </Typography>\n                      </Box>\n                    )}\n                  </Paper>\n                </Grid>\n              </Grid>\n            </Grid>\n\n            {/* Right Column - QR Code */}\n            <Grid item xs={12} md={4}>\n              <Paper sx={{ p: 3, textAlign: 'center', height: 'fit-content' }}>\n                <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 600, color: theme.palette.primary.main }}>\n                  Verification QR Code\n                </Typography>\n                <Box\n                  sx={{\n                    display: 'inline-block',\n                    p: 2,\n                    bgcolor: 'white',\n                    borderRadius: 2,\n                    border: `2px solid ${theme.palette.primary.main}`,\n                  }}\n                >\n                  <QrCode sx={{ fontSize: 120, color: theme.palette.primary.main }} />\n                </Box>\n                <Typography variant=\"body2\" sx={{ mt: 1, color: 'text.primary' }}>\n                  Scan to verify authenticity\n                </Typography>\n                <Typography\n                  variant=\"caption\"\n                  sx={{ display: 'block', mt: 1, fontFamily: 'monospace', color: 'text.primary' }}\n                >\n                  ID: {voucher.id.substring(0, 8)}...\n                </Typography>\n              </Paper>\n\n              {/* Deposit Date */}\n              <Paper sx={{ p: 3, mt: 2, textAlign: 'center' }}>\n                <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n                  Deposit Date\n                </Typography>\n                <Typography variant=\"body1\" sx={{ fontWeight: 600, color: 'text.primary' }}>\n                  {formatDate(voucher.deposit.deposit_date)}\n                </Typography>\n              </Paper>\n\n              {/* Validation Status */}\n              <Paper sx={{ p: 3, mt: 2, textAlign: 'center' }}>\n                <Typography variant=\"body2\" sx={{ mb: 1, color: 'text.secondary', fontWeight: 600 }}>\n                  Validation Status\n                </Typography>\n                <Chip\n                  label={voucher.deposit.validated ? 'VALIDATED' : 'PENDING'}\n                  color={voucher.deposit.validated ? 'success' : 'warning'}\n                  icon={<Verified />}\n                />\n              </Paper>\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions sx={{ p: 3, gap: 1 }}>\n          <Button onClick={onClose} variant=\"outlined\" color=\"primary\">\n            Close\n          </Button>\n          <Button onClick={handleDownloadPDF} variant=\"outlined\" color=\"primary\" startIcon={<Download />}>\n            Download PDF\n          </Button>\n          <Button\n            onClick={() => onRedeem(voucher)}\n            variant=\"contained\"\n            color=\"primary\"\n            startIcon={<MonetizationOn />}\n            disabled={voucher.status === 'redeemed'}\n          >\n            {voucher.status === 'redeemed' ? 'Already Redeemed' : 'Redeem Voucher'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Hidden Printable Voucher for PDF */}\n      <Box sx={{ position: 'absolute', left: '-9999px', top: 0 }}>\n        <Box ref={voucherRef} sx={{ width: '190mm', bgcolor: 'white', p: 0 }}>\n          {/* Header with Logo and Title */}\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n            <Box\n              sx={{\n                bgcolor: '#76c045',\n                px: 2,\n                py: 1,\n                borderRadius: 1,\n              }}\n            >\n              <Typography sx={{ color: 'white', fontWeight: 'bold', fontSize: '1.5rem' }}>\n                BENNU\n              </Typography>\n            </Box>\n            <Box sx={{ textAlign: 'right' }}>\n              <Typography sx={{ fontWeight: 'bold', fontSize: '1.5rem', mb: 0.5 }}>\n                GRAIN VOUCHER\n              </Typography>\n              <Chip\n                label={voucher.status.toUpperCase()}\n                size=\"small\"\n                sx={{\n                  bgcolor: getStatusColor(voucher.status) === 'success' ? '#4caf50' : '#ff9800',\n                  color: 'white',\n                  fontWeight: 'bold',\n                  fontSize: '0.7rem',\n                }}\n              />\n            </Box>\n          </Box>\n\n          {/* Voucher ID and Value - Combined */}\n          <Box\n            sx={{\n              bgcolor: '#e8f5e9',\n              border: '2px solid #4caf50',\n              p: 2,\n              mb: 2,\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n            }}\n          >\n            <Box>\n              <Typography sx={{ fontSize: '0.75rem', color: '#666', mb: 0.5 }}>\n                Voucher ID\n              </Typography>\n              <Typography sx={{ fontFamily: 'monospace', fontSize: '0.8rem', fontWeight: 600 }}>\n                {voucher.id}\n              </Typography>\n            </Box>\n            <Box sx={{ textAlign: 'right' }}>\n              <Typography sx={{ fontSize: '0.75rem', color: '#2e7d32', mb: 0.5 }}>\n                Current Value\n              </Typography>\n              <Typography sx={{ fontWeight: 'bold', color: '#1b5e20', fontSize: '1.5rem' }}>\n                {formatUGX(voucher.current_value)}\n              </Typography>\n            </Box>\n          </Box>\n\n          {/* Main Details Grid */}\n          <Grid container spacing={2} sx={{ mb: 2 }}>\n            {/* Left Column */}\n            <Grid item xs={7}>\n              {/* Grain Details */}\n              <Box sx={{ border: '1px solid #ddd', p: 1.5, mb: 2, height: '140px' }}>\n                <Typography sx={{ mb: 1, fontWeight: 'bold', color: '#76c045', fontSize: '0.9rem' }}>\n                  Grain Information\n                </Typography>\n                <Table size=\"small\">\n                  <TableBody>\n                    <TableRow>\n                      <TableCell sx={{ border: 'none', py: 0.3, pl: 0, fontWeight: 600, fontSize: '0.75rem', width: '35%' }}>\n                        Type:\n                      </TableCell>\n                      <TableCell sx={{ border: 'none', py: 0.3, fontSize: '0.75rem' }}>\n                        {voucher.deposit.grain_type_details.name}\n                      </TableCell>\n                    </TableRow>\n                    <TableRow>\n                      <TableCell sx={{ border: 'none', py: 0.3, pl: 0, fontWeight: 600, fontSize: '0.75rem' }}>\n                        Grade:\n                      </TableCell>\n                      <TableCell sx={{ border: 'none', py: 0.3, fontSize: '0.75rem' }}>\n                        {voucher.deposit.quality_grade_details.name}\n                      </TableCell>\n                    </TableRow>\n                    <TableRow>\n                      <TableCell sx={{ border: 'none', py: 0.3, pl: 0, fontWeight: 600, fontSize: '0.75rem' }}>\n                        Quantity:\n                      </TableCell>\n                      <TableCell sx={{ border: 'none', py: 0.3, fontWeight: 'bold', fontSize: '0.75rem' }}>\n                        {parseFloat(voucher.deposit.quantity_kg).toFixed(2)} kg\n                      </TableCell>\n                    </TableRow>\n                    <TableRow>\n                      <TableCell sx={{ border: 'none', py: 0.3, pl: 0, fontWeight: 600, fontSize: '0.75rem' }}>\n                        Moisture:\n                      </TableCell>\n                      <TableCell sx={{ border: 'none', py: 0.3, fontSize: '0.75rem' }}>\n                        {voucher.deposit.moisture_level}%\n                      </TableCell>\n                    </TableRow>\n                    <TableRow>\n                      <TableCell sx={{ border: 'none', py: 0.3, pl: 0, fontWeight: 600, fontSize: '0.75rem' }}>\n                        Deposit:\n                      </TableCell>\n                      <TableCell sx={{ border: 'none', py: 0.3, fontSize: '0.75rem' }}>\n                        {formatDateShort(voucher.deposit.deposit_date)}\n                      </TableCell>\n                    </TableRow>\n                  </TableBody>\n                </Table>\n              </Box>\n\n              {/* Farmer Details */}\n              <Box sx={{ border: '1px solid #ddd', p: 1.5, mb: 2, height: '100px' }}>\n                <Typography sx={{ mb: 1, fontWeight: 'bold', color: '#76c045', fontSize: '0.9rem' }}>\n                  Farmer Details\n                </Typography>\n                <Table size=\"small\">\n                  <TableBody>\n                    <TableRow>\n                      <TableCell sx={{ border: 'none', py: 0.3, pl: 0, fontWeight: 600, fontSize: '0.75rem', width: '35%' }}>\n                        Name:\n                      </TableCell>\n                      <TableCell sx={{ border: 'none', py: 0.3, fontSize: '0.75rem' }}>\n                        {voucher.deposit.farmer.first_name} {voucher.deposit.farmer.last_name}\n                      </TableCell>\n                    </TableRow>\n                    <TableRow>\n                      <TableCell sx={{ border: 'none', py: 0.3, pl: 0, fontWeight: 600, fontSize: '0.75rem' }}>\n                        Phone:\n                      </TableCell>\n                      <TableCell sx={{ border: 'none', py: 0.3, fontSize: '0.75rem' }}>\n                        {voucher.deposit.farmer.phone_number}\n                      </TableCell>\n                    </TableRow>\n                    <TableRow>\n                      <TableCell sx={{ border: 'none', py: 0.3, pl: 0, fontWeight: 600, fontSize: '0.75rem' }}>\n                        Role:\n                      </TableCell>\n                      <TableCell sx={{ border: 'none', py: 0.3, fontSize: '0.75rem' }}>\n                        {voucher.deposit.farmer.role}\n                      </TableCell>\n                    </TableRow>\n                  </TableBody>\n                </Table>\n              </Box>\n\n              {/* Storage Hub */}\n              <Box sx={{ border: '1px solid #ddd', p: 1.5, height: '110px' }}>\n                <Typography sx={{ mb: 1, fontWeight: 'bold', color: '#76c045', fontSize: '0.9rem' }}>\n                  Storage Hub\n                </Typography>\n                <Table size=\"small\">\n                  <TableBody>\n                    <TableRow>\n                      <TableCell sx={{ border: 'none', py: 0.3, pl: 0, fontWeight: 600, fontSize: '0.75rem', width: '35%' }}>\n                        Hub:\n                      </TableCell>\n                      <TableCell sx={{ border: 'none', py: 0.3, fontSize: '0.75rem' }}>\n                        {voucher.deposit.hub.name}\n                      </TableCell>\n                    </TableRow>\n                    <TableRow>\n                      <TableCell sx={{ border: 'none', py: 0.3, pl: 0, fontWeight: 600, fontSize: '0.75rem' }}>\n                        Location:\n                      </TableCell>\n                      <TableCell sx={{ border: 'none', py: 0.3, fontSize: '0.75rem' }}>\n                        {voucher.deposit.hub.location}\n                      </TableCell>\n                    </TableRow>\n                    {voucher.deposit.hub.hub_admin && (\n                      <>\n                        <TableRow>\n                          <TableCell sx={{ border: 'none', py: 0.3, pl: 0, fontWeight: 600, fontSize: '0.75rem' }}>\n                            Admin:\n                          </TableCell>\n                          <TableCell sx={{ border: 'none', py: 0.3, fontSize: '0.75rem' }}>\n                            {voucher.deposit.hub.hub_admin.first_name} {voucher.deposit.hub.hub_admin.last_name}\n                          </TableCell>\n                        </TableRow>\n                        <TableRow>\n                          <TableCell sx={{ border: 'none', py: 0.3, pl: 0, fontWeight: 600, fontSize: '0.75rem' }}>\n                            Contact:\n                          </TableCell>\n                          <TableCell sx={{ border: 'none', py: 0.3, fontSize: '0.75rem' }}>\n                            {voucher.deposit.hub.hub_admin.phone_number}\n                          </TableCell>\n                        </TableRow>\n                      </>\n                    )}\n                  </TableBody>\n                </Table>\n              </Box>\n            </Grid>\n\n            {/* Right Column - QR Code and Verification */}\n            <Grid item xs={5}>\n              <Box\n                sx={{\n                  border: '2px solid #76c045',\n                  p: 2,\n                  textAlign: 'center',\n                  bgcolor: '#f9f9f9',\n                  height: '100%',\n                  display: 'flex',\n                  flexDirection: 'column',\n                  justifyContent: 'space-between',\n                }}\n              >\n                <Box>\n                  <Typography sx={{ mb: 1, fontWeight: 'bold', fontSize: '0.9rem' }}>\n                    Verification Code\n                  </Typography>\n                  <Box\n                    sx={{\n                      display: 'inline-block',\n                      p: 1.5,\n                      bgcolor: 'white',\n                      border: '1px solid #ddd',\n                    }}\n                  >\n                    <QrCode sx={{ fontSize: 120, color: '#76c045' }} />\n                  </Box>\n                  <Typography sx={{ mt: 1, fontSize: '0.7rem', fontFamily: 'monospace' }}>\n                    Scan to verify authenticity\n                  </Typography>\n                </Box>\n                \n                <Box sx={{ mt: 2, pt: 2, borderTop: '1px solid #ddd' }}>\n                  <Typography sx={{ fontSize: '0.7rem', color: '#666', mb: 0.5 }}>\n                    Entry Price\n                  </Typography>\n                  <Typography sx={{ fontWeight: 600, fontSize: '0.85rem' }}>\n                    {formatUGX(voucher.entry_price)}\n                  </Typography>\n                  <Typography sx={{ fontSize: '0.7rem', color: '#666', mt: 1, mb: 0.5 }}>\n                    Issue Date\n                  </Typography>\n                  <Typography sx={{ fontWeight: 600, fontSize: '0.85rem' }}>\n                    {formatDateShort(voucher.issue_date)}\n                  </Typography>\n                  <Typography sx={{ fontSize: '0.7rem', color: '#666', mt: 1, mb: 0.5 }}>\n                    Validated\n                  </Typography>\n                  <Typography sx={{ fontWeight: 600, fontSize: '0.85rem' }}>\n                    {voucher.deposit.validated ? ' Yes' : ' Pending'}\n                  </Typography>\n                </Box>\n              </Box>\n            </Grid>\n          </Grid>\n\n          {/* Notes Section - Only if exists */}\n          {voucher.deposit.notes && (\n            <Box sx={{ border: '1px solid #ddd', p: 1.5, mb: 2, bgcolor: '#fafafa' }}>\n              <Typography sx={{ fontWeight: 'bold', mb: 0.5, fontSize: '0.8rem' }}>\n                Additional Notes\n              </Typography>\n              <Typography sx={{ fontSize: '0.75rem' }}>{voucher.deposit.notes}</Typography>\n            </Box>\n          )}\n\n          {/* Footer */}\n          <Box sx={{ mt: 2, pt: 1.5, borderTop: '2px solid #ddd', textAlign: 'center' }}>\n            <Typography sx={{ fontSize: '0.7rem', color: '#666' }}>\n              This is an official BENNU grain voucher. For verification or inquiries, contact BENNU support.\n            </Typography>\n            <Typography sx={{ fontSize: '0.65rem', mt: 0.5, fontFamily: 'monospace', color: '#999' }}>\n              Generated on {formatDateShort(new Date().toISOString())}\n            </Typography>\n          </Box>\n        </Box>\n      </Box>\n    </>\n  );\n};\n\nexport default VoucherDetailsDialog;\n\n\n\n\n\n\n\n// import React, { FC, useRef } from 'react';\n// import {\n//   Dialog,\n//   DialogTitle,\n//   DialogContent,\n//   DialogActions,\n//   Button,\n//   Grid,\n//   Paper,\n//   Typography,\n//   Box,\n//   Chip,\n//   Avatar,\n//   useTheme,\n//   Table,\n//   TableBody,\n//   TableCell,\n//   TableRow,\n//   Divider,\n// } from '@mui/material';\n// import {\n//   Verified,\n//   Person,\n//   Business,\n//   LocationOn,\n//   Phone,\n//   Download,\n//   MonetizationOn,\n//   QrCode,\n//   Water,\n// } from '@mui/icons-material';\n// import { toast } from 'react-hot-toast';\n// import { IVoucher } from './Voucher.interface';\n\n// interface VoucherDetailsDialogProps {\n//   voucher: IVoucher | null;\n//   open: boolean;\n//   onClose: () => void;\n//   onRedeem: (voucher: IVoucher) => void;\n// }\n\n// const VoucherDetailsDialog: FC<VoucherDetailsDialogProps> = ({\n//   voucher,\n//   open,\n//   onClose,\n//   onRedeem,\n// }) => {\n//   const theme = useTheme();\n//   const voucherRef = useRef<HTMLDivElement>(null);\n\n//   if (!voucher) return null;\n\n//   const formatDate = (dateString: string) =>\n//     new Date(dateString).toLocaleString('en-UG', {\n//       year: 'numeric',\n//       month: 'long',\n//       day: 'numeric',\n//       hour: '2-digit',\n//       minute: '2-digit',\n//     });\n\n//   const formatDateShort = (dateString: string) =>\n//     new Date(dateString).toLocaleDateString('en-UG', {\n//       year: 'numeric',\n//       month: 'short',\n//       day: 'numeric',\n//     });\n\n//   const formatUGX = (value: string | number) =>\n//     `UGX ${parseFloat(value.toString()).toLocaleString()}`;\n\n//   const getStatusColor = (status: string) => {\n//     switch (status) {\n//       case 'issued':\n//         return 'success';\n//       case 'traded':\n//         return 'warning';\n//       case 'redeemed':\n//         return 'info';\n//       default:\n//         return 'default';\n//     }\n//   };\n\n//   const loadHtml2Pdf = (): Promise<any> => {\n//     return new Promise((resolve, reject) => {\n//       if ((window as any).html2pdf) {\n//         resolve((window as any).html2pdf);\n//         return;\n//       }\n\n//       const script = document.createElement('script');\n//       script.src = 'https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js';\n//       script.onload = () => resolve((window as any).html2pdf);\n//       script.onerror = () => reject(new Error('Failed to load PDF library'));\n//       document.head.appendChild(script);\n//     });\n//   };\n\n//   const handleDownloadPDF = async () => {\n//     try {\n//       toast.loading('Generating voucher PDF...');\n\n//       const html2pdf = await loadHtml2Pdf();\n\n//       const element = voucherRef.current;\n//       const opt = {\n//         margin: 10,\n//         filename: `Voucher-${voucher.id.substring(0, 8)}.pdf`,\n//         image: { type: 'jpeg', quality: 0.98 },\n//         html2canvas: { scale: 2, useCORS: true },\n//         jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' },\n//       };\n\n//       await html2pdf().set(opt).from(element).save();\n//       toast.dismiss();\n//       toast.success('Voucher downloaded successfully');\n//     } catch (error) {\n//       console.error('Error generating PDF:', error);\n//       toast.dismiss();\n//       toast.error('Failed to generate PDF');\n//     }\n//   };\n\n//   return (\n//     <>\n//       <Dialog open={open} onClose={onClose} maxWidth=\"md\" fullWidth>\n//         <DialogTitle sx={{ pb: 1 }}>\n//           <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n//             <Typography variant=\"h5\" sx={{ fontWeight: 700, color: theme.palette.primary.main }}>\n//               Voucher Details\n//             </Typography>\n//             <Chip\n//               label={voucher.status.toUpperCase()}\n//               color={getStatusColor(voucher.status)}\n//               icon={<Verified />}\n//             />\n//           </Box>\n//         </DialogTitle>\n//         <DialogContent>\n//           <Grid container spacing={3}>\n//             {/* Left Column */}\n//             <Grid item xs={12} md={8}>\n//               {/* Voucher Info */}\n//               <Paper sx={{ p: 3, mb: 3 }}>\n//                 <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 600, color: theme.palette.primary.main }}>\n//                   Voucher Information\n//                 </Typography>\n//                 <Grid container spacing={2}>\n//                   <Grid item xs={6}>\n//                     <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n//                       ID\n//                     </Typography>\n//                     <Typography variant=\"body1\" sx={{ fontFamily: 'monospace', color: 'text.primary' }}>\n//                       {voucher.id}\n//                     </Typography>\n//                   </Grid>\n//                   <Grid item xs={6}>\n//                     <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n//                       Issue Date\n//                     </Typography>\n//                     <Typography variant=\"body1\" sx={{ color: 'text.primary' }}>\n//                       {formatDate(voucher.issue_date)}\n//                     </Typography>\n//                   </Grid>\n//                   <Grid item xs={6}>\n//                     <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n//                       Entry Price\n//                     </Typography>\n//                     <Typography variant=\"body1\" sx={{ color: 'text.primary' }}>\n//                       {formatUGX(voucher.entry_price)}\n//                     </Typography>\n//                   </Grid>\n//                   <Grid item xs={6}>\n//                     <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n//                       Current Value\n//                     </Typography>\n//                     <Typography variant=\"h6\" sx={{ fontWeight: 700, color: 'success.main' }}>\n//                       {formatUGX(voucher.current_value)}\n//                     </Typography>\n//                   </Grid>\n//                 </Grid>\n//               </Paper>\n\n//               {/* Deposit Info */}\n//               <Paper sx={{ p: 3, mb: 3 }}>\n//                 <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 600, color: theme.palette.primary.main }}>\n//                   Grain Details\n//                 </Typography>\n//                 <Grid container spacing={2}>\n//                   <Grid item xs={6}>\n//                     <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n//                       Grain Type\n//                     </Typography>\n//                     <Typography variant=\"body1\" sx={{ color: 'text.primary' }}>\n//                       {voucher.deposit.grain_type_details.name}\n//                     </Typography>\n//                   </Grid>\n//                   <Grid item xs={6}>\n//                     <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n//                       Quality Grade\n//                     </Typography>\n//                     <Typography variant=\"body1\" sx={{ color: 'text.primary' }}>\n//                       {voucher.deposit.quality_grade_details.name}\n//                     </Typography>\n//                   </Grid>\n//                   <Grid item xs={6}>\n//                     <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n//                       Quantity\n//                     </Typography>\n//                     <Typography variant=\"h6\" sx={{ fontWeight: 600, color: 'text.primary' }}>\n//                       {parseFloat(voucher.deposit.quantity_kg).toFixed(2)} kg\n//                     </Typography>\n//                   </Grid>\n//                   <Grid item xs={6}>\n//                     <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n//                       Moisture Level\n//                     </Typography>\n//                     <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n//                       <Water sx={{ fontSize: 16, color: theme.palette.primary.main }} />\n//                       <Typography variant=\"body1\" sx={{ color: 'text.primary' }}>\n//                         {voucher.deposit.moisture_level}%\n//                       </Typography>\n//                     </Box>\n//                   </Grid>\n//                   <Grid item xs={12}>\n//                     <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n//                       Quality Range\n//                     </Typography>\n//                     <Typography variant=\"body2\" sx={{ color: 'text.primary' }}>\n//                       {voucher.deposit.quality_grade_details.min_moisture}% -{' '}\n//                       {voucher.deposit.quality_grade_details.max_moisture}% moisture\n//                     </Typography>\n//                   </Grid>\n//                   <Grid item xs={12}>\n//                     <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n//                       Notes\n//                     </Typography>\n//                     <Typography variant=\"body1\" sx={{ color: 'text.primary' }}>\n//                       {voucher.deposit.notes || 'No additional notes'}\n//                     </Typography>\n//                   </Grid>\n//                 </Grid>\n//               </Paper>\n\n//               {/* Farmer & Hub Info */}\n//               <Grid container spacing={3}>\n//                 <Grid item xs={12} md={6}>\n//                   <Paper sx={{ p: 3 }}>\n//                     <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 600, color: theme.palette.primary.main }}>\n//                       Farmer Details\n//                     </Typography>\n//                     <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n//                       <Avatar sx={{ mr: 2, bgcolor: theme.palette.primary.main }}>\n//                         <Person />\n//                       </Avatar>\n//                       <Box>\n//                         <Typography variant=\"subtitle1\" sx={{ fontWeight: 600, color: 'text.primary' }}>\n//                           {voucher.deposit.farmer.first_name} {voucher.deposit.farmer.last_name}\n//                         </Typography>\n//                         <Typography variant=\"body2\" sx={{ color: 'text.primary' }}>\n//                           {voucher.deposit.farmer.phone_number}\n//                         </Typography>\n//                         <Typography variant=\"body2\" sx={{ color: 'text.primary' }}>\n//                           Role: {voucher.deposit.farmer.role}\n//                         </Typography>\n//                       </Box>\n//                     </Box>\n//                   </Paper>\n//                 </Grid>\n//                 <Grid item xs={12} md={6}>\n//                   <Paper sx={{ p: 3 }}>\n//                     <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 600, color: theme.palette.primary.main }}>\n//                       Storage Hub\n//                     </Typography>\n//                     <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n//                       <Business sx={{ mr: 1, color: theme.palette.primary.main }} />\n//                       <Typography variant=\"subtitle1\" sx={{ fontWeight: 600, color: 'text.primary' }}>\n//                         {voucher.deposit.hub.name}\n//                       </Typography>\n//                     </Box>\n//                     <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n//                       <LocationOn sx={{ mr: 1, color: theme.palette.primary.main }} />\n//                       <Typography variant=\"body2\" sx={{ color: 'text.primary' }}>\n//                         {voucher.deposit.hub.location}\n//                       </Typography>\n//                     </Box>\n//                     {voucher.deposit.hub.hub_admin && (\n//                       <Box sx={{ display: 'flex', alignItems: 'center' }}>\n//                         <Phone sx={{ mr: 1, color: theme.palette.primary.main }} />\n//                         <Typography variant=\"body2\" sx={{ color: 'text.primary' }}>\n//                           {voucher.deposit.hub.hub_admin.first_name}{' '}\n//                           {voucher.deposit.hub.hub_admin.last_name} -{' '}\n//                           {voucher.deposit.hub.hub_admin.phone_number}\n//                         </Typography>\n//                       </Box>\n//                     )}\n//                   </Paper>\n//                 </Grid>\n//               </Grid>\n//             </Grid>\n\n//             {/* Right Column - QR Code */}\n//             <Grid item xs={12} md={4}>\n//               <Paper sx={{ p: 3, textAlign: 'center', height: 'fit-content' }}>\n//                 <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 600, color: theme.palette.primary.main }}>\n//                   Verification QR Code\n//                 </Typography>\n//                 <Box\n//                   sx={{\n//                     display: 'inline-block',\n//                     p: 2,\n//                     bgcolor: 'white',\n//                     borderRadius: 2,\n//                     border: `2px solid ${theme.palette.primary.main}`,\n//                   }}\n//                 >\n//                   <QrCode sx={{ fontSize: 120, color: theme.palette.primary.main }} />\n//                 </Box>\n//                 <Typography variant=\"body2\" sx={{ mt: 1, color: 'text.primary' }}>\n//                   Scan to verify authenticity\n//                 </Typography>\n//                 <Typography\n//                   variant=\"caption\"\n//                   sx={{ display: 'block', mt: 1, fontFamily: 'monospace', color: 'text.primary' }}\n//                 >\n//                   ID: {voucher.id.substring(0, 8)}...\n//                 </Typography>\n//               </Paper>\n\n//               {/* Deposit Date */}\n//               <Paper sx={{ p: 3, mt: 2, textAlign: 'center' }}>\n//                 <Typography variant=\"body2\" sx={{ color: 'text.secondary', fontWeight: 600 }}>\n//                   Deposit Date\n//                 </Typography>\n//                 <Typography variant=\"body1\" sx={{ fontWeight: 600, color: 'text.primary' }}>\n//                   {formatDate(voucher.deposit.deposit_date)}\n//                 </Typography>\n//               </Paper>\n\n//               {/* Validation Status */}\n//               <Paper sx={{ p: 3, mt: 2, textAlign: 'center' }}>\n//                 <Typography variant=\"body2\" sx={{ mb: 1, color: 'text.secondary', fontWeight: 600 }}>\n//                   Validation Status\n//                 </Typography>\n//                 <Chip\n//                   label={voucher.deposit.validated ? 'VALIDATED' : 'PENDING'}\n//                   color={voucher.deposit.validated ? 'success' : 'warning'}\n//                   icon={<Verified />}\n//                 />\n//               </Paper>\n//             </Grid>\n//           </Grid>\n//         </DialogContent>\n//         <DialogActions sx={{ p: 3, gap: 1 }}>\n//           <Button onClick={onClose} variant=\"outlined\" color=\"primary\">\n//             Close\n//           </Button>\n//           <Button onClick={handleDownloadPDF} variant=\"outlined\" color=\"primary\" startIcon={<Download />}>\n//             Download PDF\n//           </Button>\n//           <Button\n//             onClick={() => onRedeem(voucher)}\n//             variant=\"contained\"\n//             color=\"primary\"\n//             startIcon={<MonetizationOn />}\n//             disabled={voucher.status === 'redeemed'}\n//           >\n//             {voucher.status === 'redeemed' ? 'Already Redeemed' : 'Redeem Voucher'}\n//           </Button>\n//         </DialogActions>\n//       </Dialog>\n\n//       {/* Hidden Printable Voucher for PDF */}\n//       <Box sx={{ position: 'absolute', left: '-9999px', top: 0 }}>\n//         <Box ref={voucherRef} sx={{ width: '210mm', bgcolor: 'white', p: 4 }}>\n//           {/* Header with Logo and Title */}\n//           <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 4 }}>\n//             <Box\n//               sx={{\n//                 bgcolor: '#76c045',\n//                 px: 3,\n//                 py: 1.5,\n//                 borderRadius: 1,\n//               }}\n//             >\n//               <Typography variant=\"h4\" sx={{ color: 'white', fontWeight: 'bold' }}>\n//                 BENNU\n//               </Typography>\n//             </Box>\n//             <Box sx={{ textAlign: 'right' }}>\n//               <Typography variant=\"h4\" sx={{ fontWeight: 'bold', mb: 0.5 }}>\n//                 GRAIN VOUCHER\n//               </Typography>\n//               <Chip\n//                 label={voucher.status.toUpperCase()}\n//                 sx={{\n//                   bgcolor: getStatusColor(voucher.status) === 'success' ? '#4caf50' : '#ff9800',\n//                   color: 'white',\n//                   fontWeight: 'bold',\n//                 }}\n//               />\n//             </Box>\n//           </Box>\n\n//           {/* Voucher ID Banner */}\n//           <Box\n//             sx={{\n//               bgcolor: '#f5f5f5',\n//               p: 2,\n//               mb: 3,\n//               borderLeft: '4px solid #76c045',\n//             }}\n//           >\n//             <Typography variant=\"h6\" sx={{ fontWeight: 'bold', mb: 0.5 }}>\n//               Voucher ID\n//             </Typography>\n//             <Typography variant=\"body1\" sx={{ fontFamily: 'monospace', fontSize: '0.9rem' }}>\n//               {voucher.id}\n//             </Typography>\n//           </Box>\n\n//           {/* Value Section - Highlighted */}\n//           <Box\n//             sx={{\n//               bgcolor: '#e8f5e9',\n//               border: '2px solid #4caf50',\n//               p: 3,\n//               mb: 3,\n//               borderRadius: 2,\n//               textAlign: 'center',\n//             }}\n//           >\n//             <Typography variant=\"h6\" sx={{ color: '#2e7d32', mb: 1 }}>\n//               Current Voucher Value\n//             </Typography>\n//             <Typography variant=\"h3\" sx={{ fontWeight: 'bold', color: '#1b5e20' }}>\n//               {formatUGX(voucher.current_value)}\n//             </Typography>\n//             <Divider sx={{ my: 2 }} />\n//             <Box sx={{ display: 'flex', justifyContent: 'space-around' }}>\n//               <Box>\n//                 <Typography variant=\"caption\" sx={{ color: '#666' }}>\n//                   Entry Price\n//                 </Typography>\n//                 <Typography variant=\"body1\" sx={{ fontWeight: 600 }}>\n//                   {formatUGX(voucher.entry_price)}\n//                 </Typography>\n//               </Box>\n//               <Box>\n//                 <Typography variant=\"caption\" sx={{ color: '#666' }}>\n//                   Issue Date\n//                 </Typography>\n//                 <Typography variant=\"body1\" sx={{ fontWeight: 600 }}>\n//                   {formatDateShort(voucher.issue_date)}\n//                 </Typography>\n//               </Box>\n//             </Box>\n//           </Box>\n\n//           {/* Main Details Grid */}\n//           <Grid container spacing={3} sx={{ mb: 3 }}>\n//             {/* Grain Details */}\n//             <Grid item xs={6}>\n//               <Box sx={{ border: '1px solid #ddd', p: 2, height: '100%' }}>\n//                 <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 'bold', color: '#76c045' }}>\n//                   Grain Information\n//                 </Typography>\n//                 <Table size=\"small\">\n//                   <TableBody>\n//                     <TableRow>\n//                       <TableCell sx={{ border: 'none', py: 0.5, pl: 0, fontWeight: 600 }}>\n//                         Grain Type:\n//                       </TableCell>\n//                       <TableCell sx={{ border: 'none', py: 0.5 }}>\n//                         {voucher.deposit.grain_type_details.name}\n//                       </TableCell>\n//                     </TableRow>\n//                     <TableRow>\n//                       <TableCell sx={{ border: 'none', py: 0.5, pl: 0, fontWeight: 600 }}>\n//                         Quality Grade:\n//                       </TableCell>\n//                       <TableCell sx={{ border: 'none', py: 0.5 }}>\n//                         {voucher.deposit.quality_grade_details.name}\n//                       </TableCell>\n//                     </TableRow>\n//                     <TableRow>\n//                       <TableCell sx={{ border: 'none', py: 0.5, pl: 0, fontWeight: 600 }}>\n//                         Quantity:\n//                       </TableCell>\n//                       <TableCell sx={{ border: 'none', py: 0.5, fontWeight: 'bold' }}>\n//                         {parseFloat(voucher.deposit.quantity_kg).toFixed(2)} kg\n//                       </TableCell>\n//                     </TableRow>\n//                     <TableRow>\n//                       <TableCell sx={{ border: 'none', py: 0.5, pl: 0, fontWeight: 600 }}>\n//                         Moisture Level:\n//                       </TableCell>\n//                       <TableCell sx={{ border: 'none', py: 0.5 }}>\n//                         {voucher.deposit.moisture_level}%\n//                       </TableCell>\n//                     </TableRow>\n//                     <TableRow>\n//                       <TableCell sx={{ border: 'none', py: 0.5, pl: 0, fontWeight: 600 }}>\n//                         Deposit Date:\n//                       </TableCell>\n//                       <TableCell sx={{ border: 'none', py: 0.5 }}>\n//                         {formatDateShort(voucher.deposit.deposit_date)}\n//                       </TableCell>\n//                     </TableRow>\n//                     <TableRow>\n//                       <TableCell sx={{ border: 'none', py: 0.5, pl: 0, fontWeight: 600 }}>\n//                         Validated:\n//                       </TableCell>\n//                       <TableCell sx={{ border: 'none', py: 0.5 }}>\n//                         {voucher.deposit.validated ? ' Yes' : ' No'}\n//                       </TableCell>\n//                     </TableRow>\n//                   </TableBody>\n//                 </Table>\n//               </Box>\n//             </Grid>\n\n//             {/* Farmer & Hub Details */}\n//             <Grid item xs={6}>\n//               <Box sx={{ border: '1px solid #ddd', p: 2, mb: 2 }}>\n//                 <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 'bold', color: '#76c045' }}>\n//                   Farmer Details\n//                 </Typography>\n//                 <Table size=\"small\">\n//                   <TableBody>\n//                     <TableRow>\n//                       <TableCell sx={{ border: 'none', py: 0.5, pl: 0, fontWeight: 600 }}>\n//                         Name:\n//                       </TableCell>\n//                       <TableCell sx={{ border: 'none', py: 0.5 }}>\n//                         {voucher.deposit.farmer.first_name} {voucher.deposit.farmer.last_name}\n//                       </TableCell>\n//                     </TableRow>\n//                     <TableRow>\n//                       <TableCell sx={{ border: 'none', py: 0.5, pl: 0, fontWeight: 600 }}>\n//                         Phone:\n//                       </TableCell>\n//                       <TableCell sx={{ border: 'none', py: 0.5 }}>\n//                         {voucher.deposit.farmer.phone_number}\n//                       </TableCell>\n//                     </TableRow>\n//                     <TableRow>\n//                       <TableCell sx={{ border: 'none', py: 0.5, pl: 0, fontWeight: 600 }}>\n//                         Role:\n//                       </TableCell>\n//                       <TableCell sx={{ border: 'none', py: 0.5 }}>\n//                         {voucher.deposit.farmer.role}\n//                       </TableCell>\n//                     </TableRow>\n//                   </TableBody>\n//                 </Table>\n//               </Box>\n\n//               <Box sx={{ border: '1px solid #ddd', p: 2 }}>\n//                 <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 'bold', color: '#76c045' }}>\n//                   Storage Hub\n//                 </Typography>\n//                 <Table size=\"small\">\n//                   <TableBody>\n//                     <TableRow>\n//                       <TableCell sx={{ border: 'none', py: 0.5, pl: 0, fontWeight: 600 }}>\n//                         Hub Name:\n//                       </TableCell>\n//                       <TableCell sx={{ border: 'none', py: 0.5 }}>\n//                         {voucher.deposit.hub.name}\n//                       </TableCell>\n//                     </TableRow>\n//                     <TableRow>\n//                       <TableCell sx={{ border: 'none', py: 0.5, pl: 0, fontWeight: 600 }}>\n//                         Location:\n//                       </TableCell>\n//                       <TableCell sx={{ border: 'none', py: 0.5 }}>\n//                         {voucher.deposit.hub.location}\n//                       </TableCell>\n//                     </TableRow>\n//                     {voucher.deposit.hub.hub_admin && (\n//                       <>\n//                         <TableRow>\n//                           <TableCell sx={{ border: 'none', py: 0.5, pl: 0, fontWeight: 600 }}>\n//                             Admin:\n//                           </TableCell>\n//                           <TableCell sx={{ border: 'none', py: 0.5 }}>\n//                             {voucher.deposit.hub.hub_admin.first_name}{' '}\n//                             {voucher.deposit.hub.hub_admin.last_name}\n//                           </TableCell>\n//                         </TableRow>\n//                         <TableRow>\n//                           <TableCell sx={{ border: 'none', py: 0.5, pl: 0, fontWeight: 600 }}>\n//                             Contact:\n//                           </TableCell>\n//                           <TableCell sx={{ border: 'none', py: 0.5 }}>\n//                             {voucher.deposit.hub.hub_admin.phone_number}\n//                           </TableCell>\n//                         </TableRow>\n//                       </>\n//                     )}\n//                   </TableBody>\n//                 </Table>\n//               </Box>\n//             </Grid>\n//           </Grid>\n\n//           {/* Notes Section */}\n//           {voucher.deposit.notes && (\n//             <Box sx={{ border: '1px solid #ddd', p: 2, mb: 3, bgcolor: '#fafafa' }}>\n//               <Typography variant=\"subtitle2\" sx={{ fontWeight: 'bold', mb: 1 }}>\n//                 Additional Notes\n//               </Typography>\n//               <Typography variant=\"body2\">{voucher.deposit.notes}</Typography>\n//             </Box>\n//           )}\n\n//           {/* QR Code Section */}\n//           <Box\n//             sx={{\n//               border: '2px solid #76c045',\n//               p: 3,\n//               textAlign: 'center',\n//               bgcolor: '#f9f9f9',\n//             }}\n//           >\n//             <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 'bold' }}>\n//               Verification Code\n//             </Typography>\n//             <Box\n//               sx={{\n//                 display: 'inline-block',\n//                 p: 2,\n//                 bgcolor: 'white',\n//                 border: '1px solid #ddd',\n//               }}\n//             >\n//               <QrCode sx={{ fontSize: 100, color: '#76c045' }} />\n//             </Box>\n//             <Typography variant=\"caption\" sx={{ display: 'block', mt: 2, fontFamily: 'monospace' }}>\n//               Scan QR code to verify voucher authenticity\n//             </Typography>\n//           </Box>\n\n//           {/* Footer */}\n//           <Box sx={{ mt: 4, pt: 3, borderTop: '2px solid #ddd', textAlign: 'center' }}>\n//             <Typography variant=\"caption\" sx={{ color: '#666' }}>\n//               This is an official BENNU grain voucher. For verification or inquiries, please contact BENNU support.\n//             </Typography>\n//             <Typography variant=\"caption\" sx={{ display: 'block', mt: 1, fontFamily: 'monospace', color: '#999' }}>\n//               Generated on {formatDateShort(new Date().toISOString())}\n//             </Typography>\n//           </Box>\n//         </Box>\n//       </Box>\n//     </>\n//   );\n// };\n\n// export default VoucherDetailsDialog;","import React, { FC, useState } from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  TextField,\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel,\n  Box,\n  Typography,\n  Grid,\n  Chip,\n  InputAdornment,\n  Alert,\n} from '@mui/material';\nimport { TrendingUp } from '@mui/icons-material';\nimport { IVoucher, ITrade } from './Voucher.interface';\n\ninterface TradeDialogProps {\n  voucher: IVoucher | null;\n  open: boolean;\n  onClose: () => void;\n  onTrade: (\n    voucher: IVoucher,\n    tradeData: Omit<ITrade, 'id' | 'created_at' | 'updated_at'>\n  ) => void;\n}\n\nconst TradeDialog: FC<TradeDialogProps> = ({\n  voucher,\n  open,\n  onClose,\n  onTrade,\n}) => {\n  const [tradeData, setTradeData] = useState<{\n    amount: string;\n    payment_method: 'mobile_money' | 'bank_transfer' | 'cash';\n    notes: string;\n  }>({\n    amount: '',\n    payment_method: 'mobile_money',\n    notes: '',\n  });\n\n  const [errors, setErrors] = useState<{ [key: string]: string }>({});\n\n  const validateForm = () => {\n    const newErrors: { [key: string]: string } = {};\n\n    if (!tradeData.amount) {\n      newErrors.amount = 'Trade amount is required';\n    } else if (parseFloat(tradeData.amount) <= 0) {\n      newErrors.amount = 'Amount must be greater than 0';\n    } else if (\n      voucher &&\n      parseFloat(tradeData.amount) > parseFloat(voucher.current_value)\n    ) {\n      newErrors.amount = 'Amount cannot exceed voucher value';\n    }\n\n    if (!tradeData.payment_method) {\n      newErrors.payment_method = 'Payment method is required';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = () => {\n    if (!voucher) return;\n\n    if (validateForm()) {\n      const tradePayload: Omit<ITrade, 'id' | 'created_at' | 'updated_at'> = {\n        voucher: voucher.id,\n        amount: tradeData.amount,\n        payment_method: tradeData.payment_method,\n        notes: tradeData.notes,\n      };\n\n      onTrade(voucher, tradePayload);\n      onClose();\n\n      // Reset form\n      setTradeData({\n        amount: '',\n        payment_method: 'mobile_money',\n        notes: '',\n      });\n      setErrors({});\n    }\n  };\n\n  const handleClose = () => {\n    onClose();\n    setErrors({});\n  };\n\n  if (!voucher) return null;\n\n  return (\n    <Dialog open={open} onClose={handleClose} maxWidth=\"sm\" fullWidth>\n      <DialogTitle sx={{ pb: 2 }}>\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n          <TrendingUp color=\"primary\" />\n          <Typography variant=\"h5\" sx={{ fontWeight: 700 }}>\n            Trade Voucher\n          </Typography>\n        </Box>\n      </DialogTitle>\n\n      <DialogContent>\n        {/* Voucher Summary */}\n        <Box\n          sx={{\n            mb: 3,\n            p: 2,\n            bgcolor: 'grey.50',\n            borderRadius: 2,\n            border: theme => `1px solid ${theme.palette.primary.main}40`,\n          }}\n        >\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <Typography variant=\"h6\" sx={{ fontWeight: 700, mb: 1 }}>\n                {voucher.deposit.grain_type_details.name} Voucher\n              </Typography>\n              <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap' }}>\n                <Chip\n                  label={`${parseFloat(voucher.deposit.quantity_kg).toFixed(\n                    0\n                  )}kg`}\n                  size=\"small\"\n                  variant=\"outlined\"\n                  color=\"primary\"\n                />\n                <Chip\n                  label={voucher.deposit.quality_grade_details.name}\n                  size=\"small\"\n                  variant=\"outlined\"\n                />\n                <Chip\n                  label={voucher.status.toUpperCase()}\n                  size=\"small\"\n                  color=\"success\"\n                />\n              </Box>\n            </Grid>\n            <Grid item xs={6}>\n              <Typography\n                variant=\"body2\"\n                sx={{ color: 'text.primary', fontWeight: 600 }}\n              >\n                Current Value\n              </Typography>\n              <Typography\n                variant=\"h6\"\n                sx={{ color: 'success.main', fontWeight: 700 }}\n              >\n                UGX {parseFloat(voucher.current_value).toLocaleString()}\n              </Typography>\n            </Grid>\n            <Grid item xs={6}>\n              <Typography\n                variant=\"body2\"\n                sx={{ color: 'text.primary', fontWeight: 600 }}\n              >\n                Storage Hub\n              </Typography>\n              <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                {voucher.deposit.hub.name}\n              </Typography>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Alert severity=\"info\" sx={{ mb: 3 }}>\n          Enter the amount you want to sell this voucher for. The buyer will pay\n          you directly using your selected payment method.\n        </Alert>\n\n        {/* Trade Form */}\n        <Box sx={{ mt: 2 }}>\n          <TextField\n            fullWidth\n            label=\"Trade Amount (UGX)\"\n            type=\"number\"\n            value={tradeData.amount}\n            onChange={e =>\n              setTradeData(prev => ({ ...prev, amount: e.target.value }))\n            }\n            error={!!errors.amount}\n            helperText={\n              errors.amount ||\n              `Maximum: UGX ${parseFloat(voucher.current_value).toLocaleString()}`\n            }\n            sx={{ mb: 2 }}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <Typography variant=\"body2\" sx={{ fontWeight: 700 }}>\n                    UGX\n                  </Typography>\n                </InputAdornment>\n              ),\n            }}\n            inputProps={{\n              min: 0,\n              max: parseFloat(voucher.current_value),\n              step: 1,\n            }}\n          />\n\n          <FormControl\n            fullWidth\n            sx={{ mb: 2 }}\n            error={!!errors.payment_method}\n          >\n            <InputLabel>Payment Method</InputLabel>\n            <Select\n              value={tradeData.payment_method}\n              onChange={e =>\n                setTradeData(prev => ({\n                  ...prev,\n                  payment_method: e.target.value as typeof prev.payment_method,\n                }))\n              }\n              label=\"Payment Method\"\n            >\n              <MenuItem value=\"mobile_money\">\n                <Box>\n                  <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                    Mobile Money\n                  </Typography>\n                  <Typography variant=\"caption\" color=\"text.secondary\">\n                    MTN, Airtel, etc.\n                  </Typography>\n                </Box>\n              </MenuItem>\n              <MenuItem value=\"bank_transfer\">\n                <Box>\n                  <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                    Bank Transfer\n                  </Typography>\n                  <Typography variant=\"caption\" color=\"text.secondary\">\n                    Direct bank transfer\n                  </Typography>\n                </Box>\n              </MenuItem>\n              <MenuItem value=\"cash\">\n                <Box>\n                  <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                    Cash\n                  </Typography>\n                  <Typography variant=\"caption\" color=\"text.secondary\">\n                    Physical cash payment\n                  </Typography>\n                </Box>\n              </MenuItem>\n            </Select>\n            {errors.payment_method && (\n              <Typography\n                variant=\"caption\"\n                color=\"error\"\n                sx={{ mt: 0.5, ml: 1.5 }}\n              >\n                {errors.payment_method}\n              </Typography>\n            )}\n          </FormControl>\n\n          <TextField\n            fullWidth\n            label=\"Additional Notes (Optional)\"\n            multiline\n            rows={3}\n            value={tradeData.notes}\n            onChange={e =>\n              setTradeData(prev => ({ ...prev, notes: e.target.value }))\n            }\n            placeholder=\"Add any specific requirements or details for the trade...\"\n            helperText=\"Include any special instructions for the buyer\"\n          />\n        </Box>\n      </DialogContent>\n\n      <DialogActions sx={{ p: 3, gap: 1 }}>\n        <Button onClick={handleClose} variant=\"outlined\">\n          Cancel\n        </Button>\n        <Button\n          onClick={handleSubmit}\n          variant=\"contained\"\n          startIcon={<TrendingUp />}\n          disabled={!tradeData.amount || parseFloat(tradeData.amount) <= 0}\n        >\n          Create Trade Listing\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default TradeDialog;\n","// RedemptionDialog.tsx\nimport React, { FC, useState } from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  TextField,\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel,\n  Box,\n  Typography,\n  Grid,\n  Chip,\n  InputAdornment,\n  Alert,\n} from '@mui/material';\nimport { MonetizationOn, AttachMoney, Warning } from '@mui/icons-material';\nimport { IVoucher, IRedemption } from './Voucher.interface';\n\ninterface RedemptionDialogProps {\n  voucher: IVoucher | null;\n  open: boolean;\n  onClose: () => void;\n  onRedeem: (voucher: IVoucher, redemptionData: Omit<IRedemption, 'id' | 'created_at' | 'updated_at'>) => void;\n}\n\nconst RedemptionDialog: FC<RedemptionDialogProps> = ({ voucher, open, onClose, onRedeem }) => {\n  const [redemptionData, setRedemptionData] = useState<{\n    amount: string;\n    payment_method: 'mobile_money' | 'bank_transfer' | 'cash' | 'check';\n    notes: string;\n  }>({\n    amount: '',\n    payment_method: 'mobile_money',\n    notes: ''\n  });\n\n  const [errors, setErrors] = useState<{[key: string]: string}>({});\n\n  // Set default amount when voucher changes\n  React.useEffect(() => {\n    if (voucher && open) {\n      setRedemptionData(prev => ({\n        ...prev,\n        amount: voucher.current_value\n      }));\n    }\n  }, [voucher, open]);\n\n  const validateForm = () => {\n    const newErrors: {[key: string]: string} = {};\n    \n    if (!redemptionData.amount) {\n      newErrors.amount = 'Redemption amount is required';\n    } else if (parseFloat(redemptionData.amount) <= 0) {\n      newErrors.amount = 'Amount must be greater than 0';\n    } else if (voucher && parseFloat(redemptionData.amount) > parseFloat(voucher.current_value)) {\n      newErrors.amount = 'Amount cannot exceed voucher value';\n    }\n\n    if (!redemptionData.payment_method) {\n      newErrors.payment_method = 'Payment method is required';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = () => {\n    if (!voucher) return;\n    \n    if (validateForm()) {\n      const redemptionPayload: Omit<IRedemption, 'id' | 'created_at' | 'updated_at'> = {\n        voucher: voucher.id,\n        amount: redemptionData.amount,\n        payment_method: redemptionData.payment_method,\n        notes: redemptionData.notes\n      };\n      \n      onRedeem(voucher, redemptionPayload);\n      onClose();\n      \n      // Reset form\n      setRedemptionData({\n        amount: '',\n        payment_method: 'mobile_money',\n        notes: ''\n      });\n      setErrors({});\n    }\n  };\n\n  const handleClose = () => {\n    onClose();\n    setErrors({});\n  };\n\n  if (!voucher) return null;\n\n  const isPartialRedemption = parseFloat(redemptionData.amount) < parseFloat(voucher.current_value);\n\n  return (\n    <Dialog open={open} onClose={handleClose} maxWidth=\"sm\" fullWidth>\n      <DialogTitle sx={{ pb: 2 }}>\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n          <MonetizationOn color=\"success\" />\n          <Typography variant=\"h5\" sx={{ fontWeight: 600 }}>\n            Redeem Voucher\n          </Typography>\n        </Box>\n      </DialogTitle>\n      \n      <DialogContent>\n        {/* Voucher Summary */}\n        <Box sx={{ mb: 3, p: 2, bgcolor: 'grey.50', borderRadius: 2 }}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 1 }}>\n                {voucher.deposit.grain_type_details.name} Voucher\n              </Typography>\n              <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap' }}>\n                <Chip \n                  label={`${parseFloat(voucher.deposit.quantity_kg).toFixed(0)}kg`} \n                  size=\"small\" \n                  variant=\"outlined\" \n                />\n                <Chip \n                  label={voucher.deposit.quality_grade_details.name} \n                  size=\"small\" \n                  variant=\"outlined\" \n                />\n                <Chip \n                  label={`Moisture: ${voucher.deposit.moisture_level}%`} \n                  size=\"small\" \n                  variant=\"outlined\" \n                />\n              </Box>\n            </Grid>\n            <Grid item xs={6}>\n              <Typography variant=\"body2\" color=\"text.secondary\">Total Value</Typography>\n              <Typography variant=\"h6\" color=\"success.main\" sx={{ fontWeight: 700 }}>\n                ${parseFloat(voucher.current_value).toFixed(2)}\n              </Typography>\n            </Grid>\n            <Grid item xs={6}>\n              <Typography variant=\"body2\" color=\"text.secondary\">Storage Hub</Typography>\n              <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>\n                {voucher.deposit.hub.name}\n              </Typography>\n              <Typography variant=\"caption\" color=\"text.secondary\">\n                {voucher.deposit.hub.location}\n              </Typography>\n            </Grid>\n          </Grid>\n        </Box>\n\n        <Alert severity=\"info\" sx={{ mb: 3 }}>\n          Redemption will convert your grain voucher to cash. This action cannot be undone once approved.\n        </Alert>\n\n        {/* Redemption Form */}\n        <Box sx={{ mt: 2 }}>\n          <TextField\n            fullWidth\n            label=\"Redemption Amount\"\n            type=\"number\"\n            value={redemptionData.amount}\n            onChange={(e) => setRedemptionData(prev => ({ ...prev, amount: e.target.value }))}\n            error={!!errors.amount}\n            helperText={\n              errors.amount || \n              `Maximum redemption value: $${voucher.current_value}`\n            }\n            sx={{ mb: 2 }}\n            InputProps={{\n              startAdornment: <InputAdornment position=\"start\"><AttachMoney /></InputAdornment>\n            }}\n            inputProps={{\n              min: 0,\n              max: parseFloat(voucher.current_value),\n              step: 0.01\n            }}\n          />\n\n          {isPartialRedemption && redemptionData.amount && (\n            <Alert severity=\"warning\" sx={{ mb: 2 }}>\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                <Warning fontSize=\"small\" />\n                <Typography variant=\"body2\">\n                  Partial redemption: ${(parseFloat(voucher.current_value) - parseFloat(redemptionData.amount)).toFixed(2)} will remain in your voucher\n                </Typography>\n              </Box>\n            </Alert>\n          )}\n          \n          <FormControl \n            fullWidth \n            sx={{ mb: 2 }}\n            error={!!errors.payment_method}\n          >\n            <InputLabel>Payment Method</InputLabel>\n            <Select\n              value={redemptionData.payment_method}\n              onChange={(e) => setRedemptionData(prev => ({ \n                ...prev, \n                payment_method: e.target.value as typeof prev.payment_method \n              }))}\n              label=\"Payment Method\"\n            >\n              <MenuItem value=\"mobile_money\">\n                <Box>\n                  <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>Mobile Money</Typography>\n                  <Typography variant=\"caption\" color=\"text.secondary\">\n                    MTN Mobile Money, Airtel Money, etc.\n                  </Typography>\n                </Box>\n              </MenuItem>\n              <MenuItem value=\"bank_transfer\">\n                <Box>\n                  <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>Bank Transfer</Typography>\n                  <Typography variant=\"caption\" color=\"text.secondary\">\n                    Direct transfer to your bank account\n                  </Typography>\n                </Box>\n              </MenuItem>\n              <MenuItem value=\"cash\">\n                <Box>\n                  <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>Cash Pickup</Typography>\n                  <Typography variant=\"caption\" color=\"text.secondary\">\n                    Collect cash at the storage hub\n                  </Typography>\n                </Box>\n              </MenuItem>\n              <MenuItem value=\"check\">\n                <Box>\n                  <Typography variant=\"body2\" sx={{ fontWeight: 600 }}>Bank Check</Typography>\n                  <Typography variant=\"caption\" color=\"text.secondary\">\n                    Receive a bank check\n                  </Typography>\n                </Box>\n              </MenuItem>\n            </Select>\n            {errors.payment_method && (\n              <Typography variant=\"caption\" color=\"error\" sx={{ mt: 0.5, ml: 1.5 }}>\n                {errors.payment_method}\n              </Typography>\n            )}\n          </FormControl>\n          \n          <TextField\n            fullWidth\n            label=\"Additional Notes (Optional)\"\n            multiline\n            rows={3}\n            value={redemptionData.notes}\n            onChange={(e) => setRedemptionData(prev => ({ ...prev, notes: e.target.value }))}\n            placeholder=\"Add any special instructions for redemption...\"\n            helperText=\"Include payment details like mobile money number or bank account information\"\n          />\n        </Box>\n\n        {/* Processing Information */}\n        <Box sx={{ mt: 3, p: 2, bgcolor: 'info.main', color: 'white', borderRadius: 2 }}>\n          <Typography variant=\"body2\" sx={{ fontWeight: 600, mb: 1 }}>\n            Processing Information:\n          </Typography>\n          <Typography variant=\"caption\">\n             Redemption requests are processed within 1-3 business days<br/>\n             You will receive a confirmation once approved<br/>\n             Payment will be sent via your selected method<br/>\n             Contact the hub admin if you have questions: {voucher.deposit.hub.hub_admin?.phone_number}\n          </Typography>\n        </Box>\n      </DialogContent>\n      \n      <DialogActions sx={{ p: 3, gap: 1 }}>\n        <Button onClick={handleClose} variant=\"outlined\">\n          Cancel\n        </Button>\n        <Button \n          onClick={handleSubmit} \n          variant=\"contained\"\n          color=\"success\"\n          startIcon={<MonetizationOn />}\n          disabled={!redemptionData.amount || parseFloat(redemptionData.amount) <= 0}\n        >\n          Submit Redemption Request\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default RedemptionDialog;","import React, { FC, useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\nBox,\nGrid,\nTextField,\nTypography,\nCard,\nCircularProgress,\nAlert,\nSnackbar,\nFab,\n} from \"@mui/material\";\nimport { Add, Search } from \"@mui/icons-material\";\nimport VoucherCard from \"./VoucherCard\";\nimport VoucherDetailsDialog from \"./VoucherDetailsDialog\";\nimport TradeDialog from \"./TradeDialog\";\nimport RedemptionDialog from \"./RedemptionDialog\";\nimport { VoucherService } from \"./Voucher.service\";\nimport { IVoucher, IRedemption, ITrade, ApiFilters } from \"./Voucher.interface\";\nimport { PDFGenerator } from \"../../utils/pdfGenerator\";\nimport useTitle from \"../../hooks/useTitle\";\n\n\nconst VoucherGrid: FC = () => {\n    useTitle(\"My Vouchers\");\n    const navigate = useNavigate();\n\n    // State management\n    const [voucherList, setVoucherList] = useState<IVoucher[]>([]);\n    const [loading, setLoading] = useState<boolean>(true);\n    const [searchTerm, setSearchTerm] = useState<string>(\"\");\n    const [selectedVoucher, setSelectedVoucher] = useState<IVoucher | null>(null);\n    const [error, setError] = useState<string>(\"\");\n\n    // Dialog states\n    const [detailsDialogOpen, setDetailsDialogOpen] = useState<boolean>(false);\n    const [tradeDialogOpen, setTradeDialogOpen] = useState<boolean>(false);\n    const [redeemDialogOpen, setRedeemDialogOpen] = useState<boolean>(false);\n\n    // Snackbar state\n    const [snackbar, setSnackbar] = useState<{\n      open: boolean;\n      message: string;\n      severity: 'success' | 'error' | 'warning' | 'info';\n    }>({\n      open: false,\n      message: '',\n      severity: 'success'\n    });\n\n    // Fetch vouchers on component mount\n    useEffect(() => {\n      fetchVouchers();\n    }, []);\n\n    const fetchVouchers = async () => {\n      try {\n        setLoading(true);\n        setError(\"\");\n        \n        const filters: ApiFilters = {\n          page_size: 50 // Adjust as needed\n        };\n        \n        console.log('Fetching vouchers with filters:', filters);\n        const response = await VoucherService.getMyVouchers(filters);\n        console.log('API Response:', response);\n        \n        if (response && response.results) {\n          console.log('Vouchers found:', response.results.length);\n          setVoucherList(response.results);\n        } else {\n          console.warn('No results in response:', response);\n          setVoucherList([]);\n        }\n      } catch (error) {\n        console.error(\"Error fetching vouchers:\", error);\n        setError(\"Failed to load vouchers. Please try again.\");\n        setVoucherList([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Search functionality\n    const filteredVouchers = voucherList.filter(voucher => {\n      const searchLower = searchTerm.toLowerCase();\n      return (\n        voucher.deposit.grain_type_details.name.toLowerCase().includes(searchLower) ||\n        voucher.deposit.farmer.first_name.toLowerCase().includes(searchLower) ||\n        voucher.deposit.farmer.last_name.toLowerCase().includes(searchLower) ||\n        voucher.deposit.hub.name.toLowerCase().includes(searchLower) ||\n        voucher.id.toLowerCase().includes(searchLower)\n      );\n    });\n\n    // Calculate statistics\n    const stats = {\n      totalVouchers: voucherList.length,\n      totalValue: voucherList.reduce((sum, voucher) => sum + parseFloat(voucher.current_value), 0),\n      totalQuantity: voucherList.reduce((sum, voucher) => sum + parseFloat(voucher.deposit.quantity_kg), 0),\n      activeVouchers: voucherList.filter(v => v.status === 'issued').length,\n    };\n\n    // Event handlers\n    const handleViewDetails = (voucher: IVoucher) => {\n      setSelectedVoucher(voucher);\n      setDetailsDialogOpen(true);\n    };\n\n    const handleTrade = (voucher: IVoucher) => {\n      setSelectedVoucher(voucher);\n      setTradeDialogOpen(true);\n    };\n\n    const handleRedeem = (voucher: IVoucher) => {\n      setSelectedVoucher(voucher);\n      setRedeemDialogOpen(true);\n    };\n\n    const handleTradeSubmit = async (voucher: IVoucher, tradeData: Omit<ITrade, 'id' | 'created_at' | 'updated_at'>) => {\n      try {\n        // Note: You'll need to implement this endpoint in your VoucherService\n        // await VoucherService.createTrade(tradeData);\n        \n        setSnackbar({\n          open: true,\n          message: 'Trade listing created successfully! Buyers will be able to see your offer.',\n          severity: 'success'\n        });\n        \n        // Optionally refresh vouchers list\n        fetchVouchers();\n      } catch (error) {\n        console.error('Error creating trade:', error);\n        setSnackbar({\n          open: true,\n          message: 'Failed to create trade listing. Please try again.',\n          severity: 'error'\n        });\n      }\n    };\n\n    const handleRedeemSubmit = async (voucher: IVoucher, redemptionData: Omit<IRedemption, 'id' | 'created_at' | 'updated_at'>) => {\n      try {\n        await VoucherService.createRedemption(redemptionData);\n        \n        setSnackbar({\n          open: true,\n          message: 'Redemption request submitted successfully! You will be notified once it\\'s processed.',\n          severity: 'success'\n        });\n        \n        // Refresh vouchers list to reflect any changes\n        fetchVouchers();\n      } catch (error) {\n        console.error('Error creating redemption:', error);\n        setSnackbar({\n          open: true,\n          message: 'Failed to submit redemption request. Please try again.',\n          severity: 'error'\n        });\n      }\n    };\n\n    // const handleDownloadPDF = async (voucher: IVoucher) => {\n    //   try {\n    //     setSnackbar({\n    //       open: true,\n    //       message: 'Generating PDF... Please wait.',\n    //       severity: 'info'\n    //     });\n\n    //     // Use the enhanced PDF generator\n    //     await PDFGenerator.downloadPDF(voucher);\n        \n    //     setSnackbar({\n    //       open: true,\n    //       message: 'PDF generated successfully! Check your downloads or the new window.',\n    //       severity: 'success'\n    //     });\n    //   } catch (error) {\n    //     console.error('PDF generation error:', error);\n        \n    //     // Fallback to print method\n    //     setSnackbar({\n    //       open: true,\n    //       message: 'Using print preview as fallback...',\n    //       severity: 'warning'\n    //     });\n        \n    //     PDFGenerator.printPDF(voucher);\n    //   }\n    // };\n\n    const handleDownloadPDF = async (voucher: IVoucher) => {\n      try {\n        setSnackbar({\n          open: true,\n          message: 'Generating PDF... Please wait.',\n          severity: 'info'\n        });\n    \n        // Use the enhanced PDF generator\n        await PDFGenerator.downloadPDF(voucher);\n        \n        setSnackbar({\n          open: true,\n          message: 'PDF generated successfully! Check your downloads or the new window.',\n          severity: 'success'\n        });\n      } catch (error) {\n        console.error('PDF generation error:', error);\n        \n        // Fallback to print method\n        setSnackbar({\n          open: true,\n          message: 'Using print preview as fallback...',\n          severity: 'warning'\n        });\n        \n        PDFGenerator.printPDF(voucher);\n      }\n    };\n\n        \n\n    const handleCloseSnackbar = () => {\n      setSnackbar(prev => ({ ...prev, open: false }));\n    };\n\n    if (loading) {\n      return (\n        <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: 400 }}>\n          <CircularProgress size={60} />\n        </Box>\n      );\n    }\n\n    return (\n      <Box sx={{ p: 3, bgcolor: 'grey.50', minHeight: '100vh' }}>\n        {/* Header */}\n        <Box sx={{ mb: 4 }}>\n          <Typography variant=\"h6\" sx={{ fontWeight: 500, mb: 2, color: 'text.primary' }}>\n            My Grain Vouchers\n          </Typography>\n          \n          {/* Stats Cards */}\n          <Grid container spacing={1} sx={{ mb: 3 }}>\n            <Grid item xs={6} sm={6} md={3}>\n              <Card sx={{ p: 1, textAlign: 'center', bgcolor: 'primary.main', color: 'white' }}>\n                <Typography variant=\"h6\" sx={{ fontWeight: 700 }}>\n                  {stats.totalVouchers}\n                </Typography>\n                <Typography variant=\"caption\">Total Vouchers</Typography>\n              </Card>\n            </Grid>\n            <Grid item xs={6} sm={6} md={3}>\n              <Card sx={{ p: 1, textAlign: 'center', bgcolor: 'primary.main', color: 'white' }}>\n                <Typography variant=\"h6\" sx={{ fontWeight: 700 }}>\n                  {stats.totalQuantity.toFixed(0)}kg\n                </Typography>\n                <Typography variant=\"caption\">Total Grain</Typography>\n              </Card>\n            </Grid>\n            <Grid item xs={6} sm={6} md={3}>\n              <Card sx={{ p: 1, textAlign: 'center', bgcolor: 'primary.main', color: 'white' }}>\n                <Typography variant=\"h6\" sx={{ fontWeight: 700 }}>\n                  UGX {stats.totalValue.toFixed(2)}\n                </Typography>\n                <Typography variant=\"caption\">Total Value</Typography>\n              </Card>\n            </Grid>\n            <Grid item xs={6} sm={6} md={3}>\n              <Card sx={{ p: 1, textAlign: 'center', bgcolor: 'primary.main', color: 'white' }}>\n                <Typography variant=\"h6\" sx={{ fontWeight: 700 }}>\n                  {stats.activeVouchers}\n                </Typography>\n                <Typography variant=\"caption\">Active Vouchers</Typography>\n              </Card>\n            </Grid>\n          </Grid>\n\n          {/* Search */}\n          <TextField\n            fullWidth\n            placeholder=\"Search vouchers...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            sx={{ maxWidth: 600, bgcolor: 'white', borderRadius: 2 }}\n            InputProps={{\n              startAdornment: <Search sx={{ mr: 1, color: 'text.secondary' }} />\n            }}\n          />\n        </Box>\n\n        {/* Error Alert */}\n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\n            {error}\n          </Alert>\n        )}\n\n        {/* Vouchers Grid */}\n        <Grid container spacing={3}>\n          {filteredVouchers.map((voucher) => (\n            <Grid item key={voucher.id} xs={12} sm={6} md={4} lg={3}>\n              <VoucherCard\n                Voucher={voucher}\n                onViewDetails={handleViewDetails}\n                onTrade={handleTrade}\n              />\n            </Grid>\n          ))}\n        </Grid>\n\n        {/* Empty State */}\n        {filteredVouchers.length === 0 && !loading && (\n          <Box sx={{ textAlign: 'center', py: 8 }}>\n            {voucherList.length === 0 ? (\n              <Box>\n                <Typography variant=\"h6\" color=\"text.secondary\" sx={{ mb: 2 }}>\n                  No vouchers found\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  You don't have any grain vouchers yet. Create a deposit at a storage hub to get started.\n                </Typography>\n              </Box>\n            ) : (\n              <Box>\n                <Typography variant=\"h6\" color=\"text.secondary\" sx={{ mb: 2 }}>\n                  No vouchers match your search\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Try adjusting your search terms or clear the search to see all vouchers.\n                </Typography>\n              </Box>\n            )}\n          </Box>\n        )}\n\n        {/* Floating Action Button */}\n        {/* <Fab\n          color=\"primary\"\n          sx={{ position: 'fixed', bottom: 24, right: 24 }}\n          onClick={() => navigate('/deposits/create')} // Adjust route as needed\n        >\n          <Add />\n        </Fab> */}\n\n        {/* Dialogs */}\n        <VoucherDetailsDialog\n          voucher={selectedVoucher}\n          open={detailsDialogOpen}\n          onClose={() => setDetailsDialogOpen(false)}\n          onRedeem={handleRedeem}\n        />\n        \n        <TradeDialog\n          voucher={selectedVoucher}\n          open={tradeDialogOpen}\n          onClose={() => setTradeDialogOpen(false)}\n          onTrade={handleTradeSubmit}\n        />\n\n        <RedemptionDialog\n          voucher={selectedVoucher}\n          open={redeemDialogOpen}\n          onClose={() => setRedeemDialogOpen(false)}\n          onRedeem={handleRedeemSubmit}\n        />\n\n        {/* Snackbar for notifications */}\n        <Snackbar\n          open={snackbar.open}\n          autoHideDuration={6000}\n          onClose={handleCloseSnackbar}\n          anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\n        >\n          <Alert \n            onClose={handleCloseSnackbar} \n            severity={snackbar.severity}\n            sx={{ width: '100%' }}\n          >\n            {snackbar.message}\n          </Alert>\n        </Snackbar>\n      </Box>\n    );\n  };\n\nexport default VoucherGrid;"],"names":["VoucherService","async","getVouchers","filters","instance","get","params","then","response","data","getMyVouchers","getVouchersForPurchase","getVoucherDetails","id","concat","createVoucher","payload","console","log","post","updateVoucher","patch","deleteVoucher","delete","getRedemptions","createRedemption","getRedemptionDetails","updateRedemption","approveRedemption","payRedemption","deleteRedemption","text","title","setTitle","useContext","TitleContext","useEffect","formatDateToDDMMYYYY","dateString","date","Date","isNaN","getTime","day","getDate","toString","padStart","month","getMonth","year","getFullYear","_ref","Voucher","onViewDetails","onTrade","primaryColor","useTheme","palette","primary","main","_jsxs","Card","sx","height","position","background","border","borderRadius","overflow","transition","transform","boxShadow","content","top","left","right","children","_jsx","Box","zIndex","Chip","label","status","toUpperCase","color","getStatusColor","size","icon","Verified","fontWeight","CardContent","p","display","flexDirection","mb","Typography","variant","deposit","grain_type_details","name","fontFamily","substring","alignItems","Avatar","bgcolor","mr","width","Person","farmer","first_name","last_name","phone_number","Grid","container","spacing","item","xs","textAlign","parseFloat","quantity_kg","toFixed","current_value","toLocaleString","quality_grade_details","gap","Water","fontSize","moisture_level","LocationOn","hub","location","issue_date","flexGrow","justifyContent","borderColor","mx","QrCode","mt","Stack","direction","Button","onClick","flex","startIcon","Visibility","TrendingUp","voucher","open","onClose","onRedeem","theme","voucherRef","useRef","formatDate","hour","minute","formatDateShort","toLocaleDateString","formatUGX","value","_Fragment","Dialog","maxWidth","fullWidth","DialogTitle","pb","DialogContent","md","Paper","entry_price","min_moisture","max_moisture","notes","role","Business","hub_admin","Phone","deposit_date","validated","DialogActions","toast","loading","html2pdf","Promise","resolve","reject","window","script","document","createElement","src","onload","onerror","Error","head","appendChild","element","current","opt","margin","filename","image","type","quality","html2canvas","scale","useCORS","jsPDF","unit","format","orientation","set","from","save","dismiss","success","error","Download","MonetizationOn","disabled","ref","px","py","Table","TableBody","TableRow","TableCell","pl","pt","borderTop","toISOString","tradeData","setTradeData","useState","amount","payment_method","errors","setErrors","handleClose","flexWrap","Alert","severity","TextField","onChange","e","prev","_objectSpread","target","helperText","InputProps","startAdornment","InputAdornment","inputProps","min","max","step","FormControl","InputLabel","Select","MenuItem","ml","multiline","rows","placeholder","handleSubmit","validateForm","newErrors","Object","keys","length","tradePayload","_voucher$deposit$hub$","redemptionData","setRedemptionData","React","isPartialRedemption","AttachMoney","Warning","redemptionPayload","VoucherGrid","useTitle","useNavigate","voucherList","setVoucherList","setLoading","searchTerm","setSearchTerm","selectedVoucher","setSelectedVoucher","setError","detailsDialogOpen","setDetailsDialogOpen","tradeDialogOpen","setTradeDialogOpen","redeemDialogOpen","setRedeemDialogOpen","snackbar","setSnackbar","message","fetchVouchers","page_size","results","warn","filteredVouchers","filter","searchLower","toLowerCase","includes","stats","totalVouchers","totalValue","reduce","sum","totalQuantity","activeVouchers","v","handleViewDetails","handleTrade","handleCloseSnackbar","minHeight","CircularProgress","sm","Search","map","lg","VoucherCard","VoucherDetailsDialog","TradeDialog","RedemptionDialog","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal"],"sourceRoot":""}