"use strict";(self.webpackChunkinvest=self.webpackChunkinvest||[]).push([[7268],{13194:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(65043),r=n(95926);const a=e=>{const{title:t,setTitle:n}=(0,s.useContext)(r.C);return(0,s.useEffect)(()=>n(e),[e,n]),t}},23722:(e,t,n)=>{n.d(t,{A:()=>c});var s=n(89379),r=(n(65043),n(67024)),a=n(81637),i=n(70579);const c=e=>{let{size:t,color:n="primary",sx:c}=e;return(0,i.jsx)(r.A,{sx:(0,s.A)({color:"grey.500"},c),spacing:2,direction:"row",children:(0,i.jsx)(a.A,{size:t,color:n})})}},46055:(e,t,n)=>{n.d(t,{pU:()=>s});const s=e=>{if(!e)return"N/A";const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const n=t.getDate().toString().padStart(2,"0"),s=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear();return"".concat(n,"/").concat(s,"/").concat(r)}},54189:(e,t,n)=>{n.d(t,{F:()=>r});var s=n(56629);const r={getJournalEntries:async e=>s.A.get("accounting/journal-entries/",{params:e}).then(e=>e.data),getJournalEntryDetails:async e=>s.A.get("accounting/journal-entries/".concat(e,"/")).then(e=>e.data),createJournalEntry:async e=>s.A.post("accounting/journal-entries/",e).then(e=>e.data),updateJournalEntry:async(e,t)=>s.A.patch("accounting/journal-entries/".concat(t,"/"),e).then(e=>e.data),deleteJournalEntry:async e=>s.A.delete("accounting/journal-entries/".concat(e,"/")).then(e=>e.data),reverseJournalEntry:async(e,t)=>s.A.post("accounting/journal-entries/".concat(e,"/reverse/"),t).then(e=>e.data),getTrialBalance:async e=>s.A.get("accounting/journal-entries/trial_balance/",{params:e}).then(e=>e.data)}},97268:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(65043),r=n(96446),a=n(85865),i=n(8302),c=n(63336),l=n(39336),o=n(68903),d=n(43845),x=n(73216),h=n(23768),A=n(13194),u=n(54189),j=n(46055),y=n(23722),m=n(70579);const g=()=>{var e;(0,A.A)("Journal Entry Details");const{id:t}=(0,x.g)(),n=(0,x.Zp)(),[g,b]=(0,s.useState)(null),[p,_]=(0,s.useState)(!0);(0,s.useEffect)(()=>{t&&v(t)},[t]);const v=async e=>{try{_(!0);const t=await u.F.getJournalEntryDetails(e);b(t)}catch(t){h.oR.error("Failed to fetch journal entry details"),console.error(t)}finally{_(!1)}},f=()=>n("/admin/accounting/journal-entries");if(p)return(0,m.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,m.jsx)(y.A,{size:40})});if(!g)return(0,m.jsxs)(r.A,{sx:{p:4},children:[(0,m.jsx)(a.A,{variant:"h6",color:"error",children:"Journal Entry not found"}),(0,m.jsx)(i.A,{variant:"contained",onClick:f,sx:{mt:2},children:"Back to Journal Entries"})]});const{related_trade:E}=g;return(0,m.jsxs)(r.A,{sx:{p:4,maxWidth:900,mx:"auto"},children:[(0,m.jsx)(i.A,{variant:"outlined",onClick:f,sx:{mb:3},children:"Back to Journal Entries"}),(0,m.jsxs)(c.A,{sx:{p:4,borderRadius:3,boxShadow:3},children:[(0,m.jsxs)(a.A,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:["Journal Entry #",g.entry_number]}),(0,m.jsxs)(a.A,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:[g.entry_type_display," \u2014 ",(0,j.pU)(g.entry_date)]}),(0,m.jsx)(l.A,{sx:{my:2}}),(0,m.jsx)(a.A,{variant:"h6",sx:{mb:1},children:"Summary"}),(0,m.jsxs)(o.Ay,{container:!0,spacing:2,sx:{mb:2},children:[(0,m.jsxs)(o.Ay,{item:!0,xs:12,sm:6,children:[(0,m.jsx)(a.A,{fontWeight:"bold",children:"Debit Account"}),(0,m.jsx)(a.A,{children:g.debit_account})]}),(0,m.jsxs)(o.Ay,{item:!0,xs:12,sm:6,children:[(0,m.jsx)(a.A,{fontWeight:"bold",children:"Credit Account"}),(0,m.jsx)(a.A,{children:g.credit_account})]}),(0,m.jsxs)(o.Ay,{item:!0,xs:12,sm:6,children:[(0,m.jsx)(a.A,{fontWeight:"bold",children:"Amount"}),(0,m.jsxs)(a.A,{children:["UGX ",g.amount.toLocaleString()]})]}),(0,m.jsxs)(o.Ay,{item:!0,xs:12,sm:6,children:[(0,m.jsx)(a.A,{fontWeight:"bold",children:"Reversal Status"}),(0,m.jsx)(d.A,{label:g.is_reversed?"Reversed":"Active",color:g.is_reversed?"error":"success",size:"small"})]})]}),(0,m.jsx)(l.A,{sx:{my:3}}),(0,m.jsx)(a.A,{variant:"h6",sx:{mb:1},children:"Linked Transactions"}),(0,m.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,m.jsxs)(o.Ay,{item:!0,xs:12,sm:6,children:[(0,m.jsx)(a.A,{fontWeight:"bold",children:"Related Invoice"}),(0,m.jsx)(a.A,{children:g.related_invoice||"N/A"})]}),(0,m.jsxs)(o.Ay,{item:!0,xs:12,sm:6,children:[(0,m.jsx)(a.A,{fontWeight:"bold",children:"Related Payment"}),(0,m.jsx)(a.A,{children:g.related_payment||"N/A"})]}),E&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(o.Ay,{item:!0,xs:12,children:[(0,m.jsx)(l.A,{sx:{my:2}}),(0,m.jsx)(a.A,{fontWeight:"bold",sx:{mb:1},children:"Related Trade"}),(0,m.jsxs)(a.A,{children:["Trade #: ",E.trade_number]}),(0,m.jsxs)(a.A,{children:["Buyer: ",E.buyer_name]}),(0,m.jsxs)(a.A,{children:["Supplier: ",E.supplier_name]}),(0,m.jsxs)(a.A,{children:["Grain: ",E.grain_type_name," (",E.quality_grade_name,")"]}),(0,m.jsxs)(a.A,{children:["Quantity: ",E.quantity_kg.toLocaleString()," kg"]}),(0,m.jsxs)(a.A,{children:["Value: UGX ",E.payable_by_buyer.toLocaleString()]}),(0,m.jsxs)(a.A,{children:["Status: ",E.status_display]})]})})]}),(0,m.jsx)(l.A,{sx:{my:3}}),(0,m.jsx)(a.A,{variant:"h6",sx:{mb:1},children:"Description & Notes"}),(0,m.jsxs)(a.A,{sx:{mb:1},children:[(0,m.jsx)("strong",{children:"Description:"})," ",g.description||"N/A"]}),(0,m.jsxs)(a.A,{children:[(0,m.jsx)("strong",{children:"Notes:"})," ",g.notes||"N/A"]}),(0,m.jsx)(l.A,{sx:{my:3}}),(0,m.jsx)(a.A,{variant:"h6",sx:{mb:1},children:"Metadata"}),(0,m.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,m.jsxs)(o.Ay,{item:!0,xs:12,sm:6,children:[(0,m.jsx)(a.A,{fontWeight:"bold",children:"Created By"}),(0,m.jsx)(a.A,{children:g.created_by?"".concat(g.created_by.first_name," ").concat(g.created_by.last_name):"N/A"})]}),(0,m.jsxs)(o.Ay,{item:!0,xs:12,sm:6,children:[(0,m.jsx)(a.A,{fontWeight:"bold",children:"Created At"}),(0,m.jsx)(a.A,{children:(0,j.pU)(g.created_at)})]}),g.is_reversed&&(0,m.jsxs)(o.Ay,{item:!0,xs:12,sm:6,children:[(0,m.jsx)(a.A,{fontWeight:"bold",children:"Reversed By"}),(0,m.jsx)(a.A,{children:null!==(e=g.reversed_by)&&void 0!==e&&e.first_name?"".concat(g.reversed_by.first_name," ").concat(g.reversed_by.last_name):"N/A"})]})]})]})]})}}}]);
//# sourceMappingURL=7268.94d1dbf7.chunk.js.map